/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={997(e){var t;globalThis,t=()=>(()=>{"use strict";var e={949:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CronParser=void 0;var r=n(515),o=function(){function e(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1),this.expression=e,this.dayOfWeekStartIndexZero=t,this.monthStartIndexZero=n}return e.prototype.parse=function(){var e,t;if((null!==(e=this.expression)&&void 0!==e?e:"").startsWith("@")){var n=this.parseSpecial(this.expression);t=this.extractParts(n)}else t=this.extractParts(this.expression);return this.normalize(t),this.validate(t),t},e.prototype.parseSpecial=function(e){var t={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@midnight":"0 0 * * *","@hourly":"0 * * * *"}[e];if(!t)throw new Error("Unknown special expression.");return t},e.prototype.extractParts=function(e){if(!this.expression)throw new Error("cron expression is empty");for(var t=e.trim().split(/[ ]+/),n=0;n<t.length;n++)if(t[n].includes(",")){var r=t[n].split(",").map(function(e){return e.trim()}).filter(function(e){return""!==e}).map(function(e){return isNaN(Number(e))?e:Number(e)}).filter(function(e){return null!==e&&""!==e});0===r.length&&r.push("*"),r.sort(function(e,t){return null!==e&&null!==t?e-t:0}),t[n]=r.map(function(e){return null!==e?e.toString():""}).join(",")}if(t.length<5)throw new Error("Expression has only ".concat(t.length," part").concat(1==t.length?"":"s",". At least 5 parts are required."));if(5==t.length)t.unshift(""),t.push("");else if(6==t.length)/\d{4}$/.test(t[5])||"?"==t[4]||"?"==t[2]?t.unshift(""):t.push("");else if(t.length>7)throw new Error("Expression has ".concat(t.length," parts; too many!"));return t},e.prototype.normalize=function(e){var t=this;if(e[3]=e[3].replace("?","*"),e[5]=e[5].replace("?","*"),e[2]=e[2].replace("?","*"),0==e[0].indexOf("0/")&&(e[0]=e[0].replace("0/","*/")),0==e[1].indexOf("0/")&&(e[1]=e[1].replace("0/","*/")),0==e[2].indexOf("0/")&&(e[2]=e[2].replace("0/","*/")),0==e[3].indexOf("1/")&&(e[3]=e[3].replace("1/","*/")),0==e[4].indexOf("1/")&&(e[4]=e[4].replace("1/","*/")),0==e[6].indexOf("1/")&&(e[6]=e[6].replace("1/","*/")),e[5]=e[5].replace(/(^\d)|([^#/\s]\d)/g,function(e){var n=e.replace(/\D/,""),r=n;return t.dayOfWeekStartIndexZero?"7"==n&&(r="0"):r=(parseInt(n)-1).toString(),e.replace(n,r)}),"L"==e[5]&&(e[5]="6"),"?"==e[3]&&(e[3]="*"),e[3].indexOf("W")>-1&&(e[3].indexOf(",")>-1||e[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var n={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var r in n)e[5]=e[5].replace(new RegExp(r,"gi"),n[r].toString());e[4]=e[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,function(e){var n=e.replace(/\D/,""),r=n;return t.monthStartIndexZero&&(r=(parseInt(n)+1).toString()),e.replace(n,r)});var o={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var s in o)e[4]=e[4].replace(new RegExp(s,"gi"),o[s].toString());"0"==e[0]&&(e[0]=""),/\*|\-|\,|\//.test(e[2])||!/\*|\//.test(e[1])&&!/\*|\//.test(e[0])||(e[2]+="-".concat(e[2]));for(var i=0;i<e.length;i++)if(-1!=e[i].indexOf(",")&&(e[i]=e[i].split(",").filter(function(e){return""!==e}).join(",")||"*"),"*/1"==e[i]&&(e[i]="*"),e[i].indexOf("/")>-1&&!/^\*|\-|\,/.test(e[i])){var a=null;switch(i){case 4:a="12";break;case 5:a="6";break;case 6:a="9999";break;default:a=null}if(null!==a){var l=e[i].split("/");e[i]="".concat(l[0],"-").concat(a,"/").concat(l[1])}}},e.prototype.validate=function(e){var t="0-9,\\-*/";this.validateOnlyExpectedCharactersFound(e[0],t),this.validateOnlyExpectedCharactersFound(e[1],t),this.validateOnlyExpectedCharactersFound(e[2],t),this.validateOnlyExpectedCharactersFound(e[3],"0-9,\\-*/LW"),this.validateOnlyExpectedCharactersFound(e[4],t),this.validateOnlyExpectedCharactersFound(e[5],"0-9,\\-*/L#"),this.validateOnlyExpectedCharactersFound(e[6],t),this.validateAnyRanges(e)},e.prototype.validateAnyRanges=function(e){r.default.secondRange(e[0]),r.default.minuteRange(e[1]),r.default.hourRange(e[2]),r.default.dayOfMonthRange(e[3]),r.default.monthRange(e[4],this.monthStartIndexZero),r.default.dayOfWeekRange(e[5],this.dayOfWeekStartIndexZero)},e.prototype.validateOnlyExpectedCharactersFound=function(e,t){var n=e.match(new RegExp("[^".concat(t,"]+"),"gi"));if(n&&n.length)throw new Error("Expression contains invalid values: '".concat(n.toString(),"'"))},e}();t.CronParser=o},333:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionDescriptor=void 0;var r=n(823),o=n(949),s=function(){function e(t,n){if(this.expression=t,this.options=n,this.expressionParts=new Array(5),!this.options.locale&&e.defaultLocale&&(this.options.locale=e.defaultLocale),!e.locales[this.options.locale]){var r=Object.keys(e.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(r,"'.")),this.options.locale=r}this.i18n=e.locales[this.options.locale],void 0===n.use24HourTimeFormat&&(n.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return e.toString=function(t,n){var r=void 0===n?{}:n,o=r.throwExceptionOnParseError,s=void 0===o||o,i=r.verbose,a=void 0!==i&&i,l=r.dayOfWeekStartIndexZero,c=void 0===l||l,u=r.monthStartIndexZero,d=void 0!==u&&u,f=r.use24HourTimeFormat,p=r.locale,h=void 0===p?null:p,m=r.tzOffset,g={throwExceptionOnParseError:s,verbose:a,dayOfWeekStartIndexZero:c,monthStartIndexZero:d,use24HourTimeFormat:f,locale:h,tzOffset:void 0===m?0:m};return g.tzOffset&&console.warn("'tzOffset' option has been deprecated and will be removed in a future release."),new e(t,g).getFullDescription()},e.initialize=function(t,n){void 0===n&&(n="en"),e.specialCharacters=["/","-",",","*"],e.defaultLocale=n,t.load(e.locales)},e.prototype.getFullDescription=function(){var e="";try{var t=new o.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);this.expressionParts=t.parse();var n=this.getTimeOfDayDescription(),r=this.getDayOfMonthDescription(),s=this.getMonthDescription();e+=n+r+this.getDayOfWeekDescription()+s+this.getYearDescription(),e=(e=this.transformVerbosity(e,!!this.options.verbose)).charAt(0).toLocaleUpperCase()+e.substr(1)}catch(t){if(this.options.throwExceptionOnParseError)throw"".concat(t);e=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD()}return e},e.prototype.getTimeOfDayDescription=function(){var t=this.expressionParts[0],n=this.expressionParts[1],o=this.expressionParts[2],s="";if(r.StringUtilities.containsAny(n,e.specialCharacters)||r.StringUtilities.containsAny(o,e.specialCharacters)||r.StringUtilities.containsAny(t,e.specialCharacters))if(t||!(n.indexOf("-")>-1)||n.indexOf(",")>-1||n.indexOf("/")>-1||r.StringUtilities.containsAny(o,e.specialCharacters))if(!t&&o.indexOf(",")>-1&&-1==o.indexOf("-")&&-1==o.indexOf("/")&&!r.StringUtilities.containsAny(n,e.specialCharacters)){var i=o.split(",");s+=this.i18n.at();for(var a=0;a<i.length;a++)s+=" ",s+=this.formatTime(i[a],n,""),a<i.length-2&&(s+=","),a==i.length-2&&(s+=this.i18n.spaceAnd())}else{var l=this.getSecondsDescription(),c=this.getMinutesDescription(),u=this.getHoursDescription();if((s+=l)&&c&&(s+=", "),s+=c,c===u)return s;s&&u&&(s+=", "),s+=u}else{var d=n.split("-");s+=r.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(o,d[0],""),this.formatTime(o,d[1],""))}else s+=this.i18n.atSpace()+this.formatTime(o,n,t);return s},e.prototype.getSecondsDescription=function(){var e=this;return this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(e){return e},function(t){return r.StringUtilities.format(e.i18n.everyX0Seconds(t),t)},function(t){return e.i18n.secondsX0ThroughX1PastTheMinute()},function(t){return"0"==t?"":parseInt(t)<20?e.i18n.atX0SecondsPastTheMinute(t):e.i18n.atX0SecondsPastTheMinuteGt20()||e.i18n.atX0SecondsPastTheMinute(t)})},e.prototype.getMinutesDescription=function(){var e=this,t=this.expressionParts[0],n=this.expressionParts[2];return this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(e){return e},function(t){return r.StringUtilities.format(e.i18n.everyX0Minutes(t),t)},function(t){return e.i18n.minutesX0ThroughX1PastTheHour()},function(r){try{return"0"==r&&-1==n.indexOf("/")&&""==t?e.i18n.everyHour():parseInt(r)<20?e.i18n.atX0MinutesPastTheHour(r):e.i18n.atX0MinutesPastTheHourGt20()||e.i18n.atX0MinutesPastTheHour(r)}catch(t){return e.i18n.atX0MinutesPastTheHour(r)}})},e.prototype.getHoursDescription=function(){var e=this,t=this.expressionParts[2],n=0,o=[];t.split("/")[0].split(",").forEach(function(e){var t=e.split("-");2===t.length&&o.push({value:t[1],index:n+1}),n+=t.length});var s=0;return this.getSegmentDescription(t,this.i18n.everyHour(),function(t){var n=o.find(function(e){return e.value===t&&e.index===s})&&"0"!==e.expressionParts[1];return s++,n?e.formatTime(t,"59",""):e.formatTime(t,"0","")},function(t){return r.StringUtilities.format(e.i18n.everyX0Hours(t),t)},function(t){return e.i18n.betweenX0AndX1()},function(t){return e.i18n.atX0()})},e.prototype.getDayOfWeekDescription=function(){var e=this,t=this.i18n.daysOfTheWeek();return"*"==this.expressionParts[5]?"":this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(n,r){var o=n;n.indexOf("#")>-1?o=n.substring(0,n.indexOf("#")):n.indexOf("L")>-1&&(o=o.replace("L",""));var s=parseInt(o);if(e.options.tzOffset){var i=e.expressionParts[2],a=parseInt(i)+(e.options.tzOffset?e.options.tzOffset:0);a>=24?s++:a<0&&s--,s>6?s=0:s<0&&(s=6)}var l=e.i18n.daysOfTheWeekInCase?e.i18n.daysOfTheWeekInCase(r)[s]:t[s];if(n.indexOf("#")>-1){var c=null,u=n.substring(n.indexOf("#")+1),d=n.substring(0,n.indexOf("#"));switch(u){case"1":c=e.i18n.first(d);break;case"2":c=e.i18n.second(d);break;case"3":c=e.i18n.third(d);break;case"4":c=e.i18n.fourth(d);break;case"5":c=e.i18n.fifth(d)}l=c+" "+l}return l},function(t){return 1==parseInt(t)?"":r.StringUtilities.format(e.i18n.commaEveryX0DaysOfTheWeek(t),t)},function(t){var n=t.substring(0,t.indexOf("-"));return"*"!=e.expressionParts[3]?e.i18n.commaAndX0ThroughX1(n):e.i18n.commaX0ThroughX1(n)},function(t){var n=null;if(t.indexOf("#")>-1){var r=t.substring(t.indexOf("#")+1),o=t.substring(0,t.indexOf("#"));n=e.i18n.commaOnThe(r,o).trim()+e.i18n.spaceX0OfTheMonth()}else n=t.indexOf("L")>-1?e.i18n.commaOnTheLastX0OfTheMonth(t.replace("L","")):"*"!=e.expressionParts[3]?e.i18n.commaAndOnX0():e.i18n.commaOnlyOnX0(t);return n})},e.prototype.getMonthDescription=function(){var e=this,t=this.i18n.monthsOfTheYear();return this.getSegmentDescription(this.expressionParts[4],"",function(n,r){return r&&e.i18n.monthsOfTheYearInCase?e.i18n.monthsOfTheYearInCase(r)[parseInt(n)-1]:t[parseInt(n)-1]},function(t){return 1==parseInt(t)?"":r.StringUtilities.format(e.i18n.commaEveryX0Months(t),t)},function(t){return e.i18n.commaMonthX0ThroughMonthX1()||e.i18n.commaX0ThroughX1()},function(t){return e.i18n.commaOnlyInMonthX0?e.i18n.commaOnlyInMonthX0():e.i18n.commaOnlyInX0()})},e.prototype.getDayOfMonthDescription=function(){var e=this,t=null,n=this.expressionParts[3];switch(n){case"L":t=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":t=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var o=n.match(/(\d{1,2}W)|(W\d{1,2})/);if(o){var s=parseInt(o[0].replace("W","")),i=1==s?this.i18n.firstWeekday():r.StringUtilities.format(this.i18n.weekdayNearestDayX0(),s.toString());t=r.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),i);break}var a=n.match(/L-(\d{1,2})/);if(a){var l=a[1];t=r.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(l),l);break}if("*"==n&&"*"!=this.expressionParts[5])return"";t=this.getSegmentDescription(n,this.i18n.commaEveryDay(),function(t){return"L"==t?e.i18n.lastDay():e.i18n.dayX0?r.StringUtilities.format(e.i18n.dayX0(),t):t},function(t){return"1"==t?e.i18n.commaEveryDay():e.i18n.commaEveryX0Days(t)},function(t){return e.i18n.commaBetweenDayX0AndX1OfTheMonth(t)},function(t){return e.i18n.commaOnDayX0OfTheMonth(t)})}return t},e.prototype.getYearDescription=function(){var e=this;return this.getSegmentDescription(this.expressionParts[6],"",function(e){return/^\d+$/.test(e)?new Date(parseInt(e),1).getFullYear().toString():e},function(t){return r.StringUtilities.format(e.i18n.commaEveryX0Years(t),t)},function(t){return e.i18n.commaYearX0ThroughYearX1()||e.i18n.commaX0ThroughX1()},function(t){return e.i18n.commaOnlyInYearX0?e.i18n.commaOnlyInYearX0():e.i18n.commaOnlyInX0()})},e.prototype.getSegmentDescription=function(e,t,n,o,s,i){var a=null,l=e.indexOf("/")>-1,c=e.indexOf("-")>-1,u=e.indexOf(",")>-1;if(e)if("*"===e)a=t;else if(l||c||u)if(u){for(var d=e.split(","),f="",p=0;p<d.length;p++)if(p>0&&d.length>2&&(f+=",",p<d.length-1&&(f+=" ")),p>0&&d.length>1&&(p==d.length-1||2==d.length)&&(f+="".concat(this.i18n.spaceAnd()," ")),d[p].indexOf("/")>-1||d[p].indexOf("-")>-1){var h=d[p].indexOf("-")>-1&&-1==d[p].indexOf("/"),m=this.getSegmentDescription(d[p],t,n,o,h?this.i18n.commaX0ThroughX1:s,i);h&&(m=m.replace(", ","")),f+=m}else f+=l?this.getSegmentDescription(d[p],t,n,o,s,i):n(d[p]);a=l?f:r.StringUtilities.format(i(e),f)}else if(l){if(d=e.split("/"),a=r.StringUtilities.format(o(d[1]),d[1]),d[0].indexOf("-")>-1){var g=this.generateRangeSegmentDescription(d[0],s,n);0!=g.indexOf(", ")&&(a+=", "),a+=g}else if(-1==d[0].indexOf("*")){var y=r.StringUtilities.format(i(d[0]),n(d[0]));y=y.replace(", ",""),a+=r.StringUtilities.format(this.i18n.commaStartingX0(),y)}}else c&&(a=this.generateRangeSegmentDescription(e,s,n));else a=r.StringUtilities.format(i(e),n(e));else a="";return a},e.prototype.generateRangeSegmentDescription=function(e,t,n){var o="",s=e.split("-"),i=n(s[0],1),a=n(s[1],2),l=t(e);return o+r.StringUtilities.format(l,i,a)},e.prototype.formatTime=function(e,t,n){var r=0,o=0;this.options.tzOffset&&(r=this.options.tzOffset>0?Math.floor(this.options.tzOffset):Math.ceil(this.options.tzOffset),0!=(o=parseFloat((this.options.tzOffset%1).toFixed(2)))&&(o*=60));var s=parseInt(e)+r,i=parseInt(t)+o;i>=60?(i-=60,s+=1):i<0&&(i+=60,s-=1),s>=24?s-=24:s<0&&(s=24+s);var a="",l=!1;this.options.use24HourTimeFormat||(a=(l=!(!this.i18n.setPeriodBeforeTime||!this.i18n.setPeriodBeforeTime()))?"".concat(this.getPeriod(s)," "):" ".concat(this.getPeriod(s)),s>12&&(s-=12),0===s&&(s=12));var c="";return n&&(c=":".concat(("00"+n).substring(n.length))),"".concat(l?a:"").concat(("00"+s.toString()).substring(s.toString().length),":").concat(("00"+i.toString()).substring(i.toString().length)).concat(c).concat(l?"":a)},e.prototype.transformVerbosity=function(e,t){if(!t&&(e=(e=(e=(e=e.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),"")).replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),"")).replace(new RegExp(this.i18n.commaEveryDay(),"g"),"")).replace(/\, ?$/,""),this.i18n.conciseVerbosityReplacements))for(var n=0,r=Object.entries(this.i18n.conciseVerbosityReplacements());n<r.length;n++){var o=r[n],s=o[0],i=o[1];e=e.replace(new RegExp(s,"g"),i)}return e},e.prototype.getPeriod=function(e){return e>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},e.locales={},e}();t.ExpressionDescriptor=s},747:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.enLocaleLoader=void 0;var r=n(486),o=function(){function e(){}return e.prototype.load=function(e){e.en=new r.en},e}();t.enLocaleLoader=o},486:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.en=void 0;var n=function(){function e(){}return e.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},e.prototype.atX0MinutesPastTheHourGt20=function(){return null},e.prototype.commaMonthX0ThroughMonthX1=function(){return null},e.prototype.commaYearX0ThroughYearX1=function(){return null},e.prototype.use24HourTimeFormatByDefault=function(){return!1},e.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occurred when generating the expression description. Check the cron expression syntax."},e.prototype.everyMinute=function(){return"every minute"},e.prototype.everyHour=function(){return"every hour"},e.prototype.atSpace=function(){return"At "},e.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},e.prototype.at=function(){return"At"},e.prototype.spaceAnd=function(){return" and"},e.prototype.everySecond=function(){return"every second"},e.prototype.everyX0Seconds=function(){return"every %s seconds"},e.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},e.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},e.prototype.everyX0Minutes=function(){return"every %s minutes"},e.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},e.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},e.prototype.everyX0Hours=function(){return"every %s hours"},e.prototype.betweenX0AndX1=function(){return"between %s and %s"},e.prototype.atX0=function(){return"at %s"},e.prototype.commaEveryDay=function(){return", every day"},e.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},e.prototype.commaX0ThroughX1=function(){return", %s through %s"},e.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},e.prototype.first=function(){return"first"},e.prototype.second=function(){return"second"},e.prototype.third=function(){return"third"},e.prototype.fourth=function(){return"fourth"},e.prototype.fifth=function(){return"fifth"},e.prototype.commaOnThe=function(){return", on the "},e.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},e.prototype.lastDay=function(){return"the last day"},e.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},e.prototype.commaOnlyOnX0=function(){return", only on %s"},e.prototype.commaAndOnX0=function(){return", and on %s"},e.prototype.commaEveryX0Months=function(){return", every %s months"},e.prototype.commaOnlyInX0=function(){return", only in %s"},e.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},e.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},e.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},e.prototype.firstWeekday=function(){return"first weekday"},e.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},e.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},e.prototype.commaEveryX0Days=function(){return", every %s days"},e.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},e.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},e.prototype.commaEveryHour=function(){return", every hour"},e.prototype.commaEveryX0Years=function(){return", every %s years"},e.prototype.commaStartingX0=function(){return", starting %s"},e.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},e.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},e}();t.en=n},515:(e,t)=>{function n(e,t){if(!e)throw new Error(t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.secondRange=function(e){for(var t=e.split(","),r=0;r<t.length;r++)if(!isNaN(parseInt(t[r],10))){var o=parseInt(t[r],10);n(o>=0&&o<=59,"seconds part must be >= 0 and <= 59")}},e.minuteRange=function(e){for(var t=e.split(","),r=0;r<t.length;r++)if(!isNaN(parseInt(t[r],10))){var o=parseInt(t[r],10);n(o>=0&&o<=59,"minutes part must be >= 0 and <= 59")}},e.hourRange=function(e){for(var t=e.split(","),r=0;r<t.length;r++)if(!isNaN(parseInt(t[r],10))){var o=parseInt(t[r],10);n(o>=0&&o<=23,"hours part must be >= 0 and <= 23")}},e.dayOfMonthRange=function(e){for(var t=e.split(","),r=0;r<t.length;r++)if(!isNaN(parseInt(t[r],10))){var o=parseInt(t[r],10);n(o>=1&&o<=31,"DOM part must be >= 1 and <= 31")}},e.monthRange=function(e,t){for(var r=e.split(","),o=0;o<r.length;o++)if(!isNaN(parseInt(r[o],10))){var s=parseInt(r[o],10);n(s>=1&&s<=12,t?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},e.dayOfWeekRange=function(e,t){for(var r=e.split(","),o=0;o<r.length;o++)if(!isNaN(parseInt(r[o],10))){var s=parseInt(r[o],10);n(s>=0&&s<=6,t?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},e}();t.default=r},823:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtilities=void 0;var n=function(){function e(){}return e.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.replace(/%s/g,function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.shift()})},e.containsAny=function(e,t){return t.some(function(t){return e.indexOf(t)>-1})},e}();t.StringUtilities=n}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}var r={};return(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.toString=void 0;var t=n(333),o=n(747);t.ExpressionDescriptor.initialize(new o.enLocaleLoader),e.default=t.ExpressionDescriptor;var s=t.ExpressionDescriptor.toString;e.toString=s})(),r})(),e.exports=t()},481(e,t,n){"use strict";var r=n(758),o=n(896);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,o,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=P&&e[P]||e["@@iterator"])?e:null}var D,$=Object.assign;function R(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function q(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),s=r.stack.split("\n"),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(1!==i||1!==a)do{if(i--,0>--a||o[i]!==s[a]){var l="\n"+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function B(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return q(e.type,!1);case 11:return q(e.type.render,!1);case 1:return q(e.type,!0);default:return""}}function F(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case N:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:F(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return F(e(t))}catch(e){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function se(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ye=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ee=null;function Ne(e){if(e=wo(e)){if("function"!=typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=ko(t),ke(e.stateNode,e.type,t))}}function _e(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function je(e,t){return e(t)}function Oe(){}var Te=!1;function Me(e,t,n){if(Te)return e(t,n);Te=!0;try{return je(e,t,n)}finally{Te=!1,(null!==Se||null!==Ee)&&(Oe(),Ce())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=ko(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Ie=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){Ie=!1}function Le(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var De=!1,$e=null,Re=!1,ze=null,qe={onError:function(e){De=!0,$e=e}};function Be(e,t,n,r,o,s,i,a,l){De=!1,$e=null,Le.apply(qe,arguments)}function Fe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ue(e){if(Fe(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Fe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Ue(o),e;if(i===r)return Ue(o),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=o.unstable_scheduleCallback,Xe=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Ge=o.unstable_requestPaint,Ze=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,st=null,it=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2,ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var a=i&~o;0!==a?r=dt(a):0!==(s&=i)&&(r=dt(s))}else 0!==(i=n&~o)?r=dt(i):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(s=t&-t)||16===o&&4194240&s))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-it(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var xt,kt,St,Et,Nt,_t=!1,Ct=[],jt=null,Ot=null,Tt=null,Mt=new Map,At=new Map,It=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Dt(e,t,n,r,o,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},null!==t&&null!==(t=wo(t))&&kt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function $t(e){var t=bo(e.target);if(null!==t){var n=Fe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Nt(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Rt(e)&&n.delete(t)}function qt(){_t=!1,null!==jt&&Rt(jt)&&(jt=null),null!==Ot&&Rt(Ot)&&(Ot=null),null!==Tt&&Rt(Tt)&&(Tt=null),Mt.forEach(zt),At.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,qt)))}function Ft(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Bt(jt,e),null!==Ot&&Bt(Ot,e),null!==Tt&&Bt(Tt,e),Mt.forEach(t),At.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)$t(n),null===n.blockedOn&&It.shift()}var Vt=w.ReactCurrentBatchConfig,Ut=!0;function Ht(e,t,n,r){var o=bt,s=Vt.transition;Vt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=o,Vt.transition=s}}function Kt(e,t,n,r){var o=bt,s=Vt.transition;Vt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=o,Vt.transition=s}}function Wt(e,t,n,r){if(Ut){var o=Yt(e,t,n,r);if(null===o)Ur(e,t,r,Xt,n),Lt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return jt=Dt(jt,e,t,n,r,o),!0;case"dragenter":return Ot=Dt(Ot,e,t,n,r,o),!0;case"mouseover":return Tt=Dt(Tt,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Mt.set(s,Dt(Mt.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,At.set(s,Dt(At.get(s)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==o;){var s=wo(o);if(null!==s&&xt(s),null===(s=Yt(e,t,n,r))&&Ur(e,t,r,Xt,n),s===o)break;o=s}null!==o&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=bo(e=xe(r))))if(null===(t=Fe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,s=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[s-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=$({},cn,{view:0,detail:0}),fn=on(dn),pn=$({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=on(pn),mn=on($({},pn,{dataTransfer:0})),gn=on($({},dn,{relatedTarget:0})),yn=on($({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=$({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on($({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Nn(){return En}var _n=$({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(_n),jn=on($({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on($({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Tn=on($({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=$({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Mn),In=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Dn=u&&"TextEvent"in window&&!Ln,$n=u&&(!Pn||Ln&&8<Ln&&11>=Ln),Rn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){_e(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Xn(e){Rr(e,0)}function Yn(e){if(W(xo(e)))return e}function Gn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Qn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"==typeof er.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Hn(t,Wn,e,xe(e)),Me(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function sr(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=void 0===r.end?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=ur(n,s);var i=ur(n,r);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==X(r)||(r="selectionStart"in(r=gr)&&pr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Er={};function Nr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var _r=Nr("animationend"),Cr=Nr("animationiteration"),jr=Nr("animationstart"),Or=Nr("transitionend"),Tr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Tr.set(e,t),l(t,[e])}for(var Ir=0;Ir<Mr.length;Ir++){var Pr=Mr[Ir];Ar(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Ar(_r,"onAnimationEnd"),Ar(Cr,"onAnimationIteration"),Ar(jr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function $r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,a,l,c){if(Be.apply(this,arguments),De){if(!De)throw Error(s(198));var u=$e;De=!1,$e=null,Re||(Re=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Rr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;$r(o,a,c),s=l}else for(i=0;i<r.length;i++){if(l=(a=r[i]).instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;$r(o,a,c),s=l}}}if(Re)throw e=ze,Re=!1,ze=null,e}function zr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function qr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[Br]){e[Br]=!0,i.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||qr(t,!1,e),qr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,qr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Gt(t)){case 1:var o=Ht;break;case 4:o=Kt;break;default:o=Wt}n=o.bind(null,t,n,e),o=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,o){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;i=i.return}for(;null!==a;){if(null===(i=bo(a)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}a=a.parentNode}}r=r.return}Me(function(){var r=s,o=xe(n),i=[];e:{var a=Tr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case _r:case Cr:case jr:l=yn;break;case Or:l=Tn;break;case"scroll":l=fn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var u=!!(4&t),d=!u&&"scroll"===e,f=u?null!==a?a+"Capture":null:a;u=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&null!=(m=Ae(h,f))&&u.push(Hr(h,m,p))),d)break;h=h.return}0<u.length&&(a=new l(a,c,null,n,o),i.push({event:a,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Fe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=jn,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==l?a:xo(l),p=null==c?a:xo(c),(a=new u(m,h+"leave",l,n,o)).target=d,a.relatedTarget=p,m=null,bo(o)===r&&((u=new u(f,h+"enter",c,n,o)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,h=0,p=u=l;p;p=Wr(p))h++;for(p=0,m=f;m;m=Wr(m))p++;for(;0<h-p;)u=Wr(u),h--;for(;0<p-h;)f=Wr(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=Wr(u),f=Wr(f)}u=null}else u=null;null!==l&&Xr(i,a,l,u,!1),null!==c&&null!==d&&Xr(i,d,c,u,!0)}if("select"===(l=(a=r?xo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Gn;else if(Un(a))if(Zn)g=ir;else{g=or;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(i,g,n,o):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?xo(r):window,e){case"focusin":(Un(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(i,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(i,n,o)}var v;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&($n&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Fn&&(v=en()):(Qt="value"in(Zt=o)?Zt.value:Zt.textContent,Fn=!0)),0<(y=Kr(r,b)).length&&(b=new wn(b,e,null,n,o),i.push({event:b,listeners:y}),(v||null!==(v=Bn(n)))&&(b.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Rn);case"textInput":return(e=t.data)===Rn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!Pn&&qn(e,t)?(e=en(),Jt=Qt=Zt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Kr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=v)}Rr(i,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,s=o.stateNode;5===o.tag&&null!==s&&(o=s,null!=(s=Ae(e,n))&&r.unshift(Hr(e,s,o)),null!=(s=Ae(e,t))&&r.push(Hr(e,s,o))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,o){for(var s=t._reactName,i=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Ae(n,s))&&i.unshift(Hr(n,l,a)):o||null!=(l=Ae(n,s))&&i.push(Hr(n,l,a))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Yr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Gr,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(s(425))}function Jr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,so="function"==typeof Promise?Promise:void 0,io="function"==typeof queueMicrotask?queueMicrotask:void 0!==so?function(e){return so.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ft(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ft(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,mo="__reactContainer$"+fo,go="__reactEvents$"+fo,yo="__reactListeners$"+fo,vo="__reactHandles$"+fo;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ko(e){return e[ho]||null}var So=[],Eo=-1;function No(e){return{current:e}}function _o(e){0>Eo||(e.current=So[Eo],So[Eo]=null,Eo--)}function Co(e,t){Eo++,So[Eo]=e.current,e.current=t}var jo={},Oo=No(jo),To=No(!1),Mo=jo;function Ao(e,t){var n=e.type.contextTypes;if(!n)return jo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,s={};for(o in n)s[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Io(e){return null!=e.childContextTypes}function Po(){_o(To),_o(Oo)}function Lo(e,t,n){if(Oo.current!==jo)throw Error(s(168));Co(Oo,t),Co(To,n)}function Do(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(s(108,V(e)||"Unknown",o));return $({},n,r)}function $o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jo,Mo=Oo.current,Co(Oo,e),Co(To,To.current),!0}function Ro(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Do(e,t,Mo),r.__reactInternalMemoizedMergedChildContext=e,_o(To),_o(Oo),Co(Oo,e)):_o(To),Co(To,n)}var zo=null,qo=!1,Bo=!1;function Fo(e){null===zo?zo=[e]:zo.push(e)}function Vo(){if(!Bo&&null!==zo){Bo=!0;var e=0,t=bt;try{var n=zo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,qo=!1}catch(t){throw null!==zo&&(zo=zo.slice(e+1)),We(Je,Vo),t}finally{bt=t,Bo=!1}}return null}var Uo=[],Ho=0,Ko=null,Wo=0,Xo=[],Yo=0,Go=null,Zo=1,Qo="";function Jo(e,t){Uo[Ho++]=Wo,Uo[Ho++]=Ko,Ko=e,Wo=t}function es(e,t,n){Xo[Yo++]=Zo,Xo[Yo++]=Qo,Xo[Yo++]=Go,Go=e;var r=Zo;e=Qo;var o=32-it(r)-1;r&=~(1<<o),n+=1;var s=32-it(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Zo=1<<32-it(t)+o|n<<o|r,Qo=s+e}else Zo=1<<s|n<<o|r,Qo=e}function ts(e){null!==e.return&&(Jo(e,1),es(e,1,0))}function ns(e){for(;e===Ko;)Ko=Uo[--Ho],Uo[Ho]=null,Wo=Uo[--Ho],Uo[Ho]=null;for(;e===Go;)Go=Xo[--Yo],Xo[Yo]=null,Qo=Xo[--Yo],Xo[Yo]=null,Zo=Xo[--Yo],Xo[Yo]=null}var rs=null,os=null,ss=!1,is=null;function as(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ls(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,os=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,os=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Go?{id:Zo,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,rs=e,os=null,!0);default:return!1}}function cs(e){return!(!(1&e.mode)||128&e.flags)}function us(e){if(ss){var t=os;if(t){var n=t;if(!ls(e,t)){if(cs(e))throw Error(s(418));t=co(n.nextSibling);var r=rs;t&&ls(e,t)?as(r,n):(e.flags=-4097&e.flags|2,ss=!1,rs=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ss=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function fs(e){if(e!==rs)return!1;if(!ss)return ds(e),ss=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=os)){if(cs(e))throw ps(),Error(s(418));for(;t;)as(e,t),t=co(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){os=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}os=null}}else os=rs?co(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=os;e;)e=co(e.nextSibling)}function hs(){os=rs=null,ss=!1}function ms(e){null===is?is=[e]:is.push(e)}var gs=w.ReactCurrentBatchConfig;function ys(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var o=r,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=o.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===A&&bs(s)===t.type)?((r=o(t,n.props)).ref=ys(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=ys(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$c(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,s)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=ys(e,null,t),n.return=e,n;case k:return(t=$c(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Pc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?c(e,t,n,r):null;case k:return n.key===o?u(e,t,n,r):null;case A:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||L(n))return null!==o?null:d(e,t,n,r,null);vs(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case A:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,o,null);vs(t,r)}return null}function m(o,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(o,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),s=i(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(o,d),ss&&Jo(o,m),c;if(null===d){for(;m<a.length;m++)null!==(d=f(o,a[m],l))&&(s=i(d,s,m),null===u?c=d:u.sibling=d,u=d);return ss&&Jo(o,m),c}for(d=r(o,d);m<a.length;m++)null!==(g=h(d,o,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=i(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),ss&&Jo(o,m),c}function g(o,a,l,c){var u=L(l);if("function"!=typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(o,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),a=i(b,a,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(o,m),ss&&Jo(o,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=f(o,v.value,c))&&(a=i(v,a,g),null===d?u=v:d.sibling=v,d=v);return ss&&Jo(o,g),u}for(m=r(o,m);!v.done;g++,v=l.next())null!==(v=h(m,o,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=i(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(o,e)}),ss&&Jo(o,g),u}return function e(r,s,i,l){if("object"==typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var c=i.key,u=s;null!==u;){if(u.key===c){if((c=i.type)===S){if(7===u.tag){n(r,u.sibling),(s=o(u,i.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===A&&bs(c)===u.type){n(r,u.sibling),(s=o(u,i.props)).ref=ys(r,u,i),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===S?((s=Pc(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=Ic(i.type,i.key,i.props,null,r.mode,l)).ref=ys(r,s,i),l.return=r,r=l)}return a(r);case k:e:{for(u=i.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=o(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=$c(i,r.mode,l)).return=r,r=s}return a(r);case A:return e(r,s,(u=i._init)(i._payload),l)}if(te(i))return m(r,s,i,l);if(L(i))return g(r,s,i,l);vs(r,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=o(s,i)).return=r,r=s):(n(r,s),(s=Dc(i,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var xs=ws(!0),ks=ws(!1),Ss=No(null),Es=null,Ns=null,_s=null;function Cs(){_s=Ns=Es=null}function js(e){var t=Ss.current;_o(Ss),e._currentValue=t}function Os(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){Es=e,_s=Ns=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ms(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===Ns){if(null===Es)throw Error(s(308));Ns=e,Es.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var As=null;function Is(e){null===As?As=[e]:As.push(e)}function Ps(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Is(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function $s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Cl){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ls(e,n)}return null===(o=r.interleaved)?(t.next=t,Is(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ls(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Fs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?o=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?o=s=t:s=s.next=t}else o=s=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var o=e.updateQueue;Ds=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&(a=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l)}if(null!==s){var d=o.baseState;for(i=0,u=c=l=null,a=s;;){var f=a.lane,p=a.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(f=t,p=n,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(f="function"==typeof(h=m.payload)?h.call(p,d,f):h))break e;d=$({},d,f);break e;case 2:Ds=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=f;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(f=a).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{i|=o.lane,o=o.next}while(o!==t)}else null===s&&(o.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=d}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(s(191,o));o.call(r)}}}var Hs={},Ks=No(Hs),Ws=No(Hs),Xs=No(Hs);function Ys(e){if(e===Hs)throw Error(s(174));return e}function Gs(e,t){switch(Co(Xs,t),Co(Ws,e),Co(Ks,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_o(Ks),Co(Ks,t)}function Zs(){_o(Ks),_o(Ws),_o(Xs)}function Qs(e){Ys(Xs.current);var t=Ys(Ks.current),n=le(t,e.type);t!==n&&(Co(Ws,e),Co(Ks,n))}function Js(e){Ws.current===e&&(_o(Ks),_o(Ws))}var ei=No(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var oi=w.ReactCurrentDispatcher,si=w.ReactCurrentBatchConfig,ii=0,ai=null,li=null,ci=null,ui=!1,di=!1,fi=0,pi=0;function hi(){throw Error(s(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gi(e,t,n,r,o,i){if(ii=i,ai=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=null===e||null===e.memoizedState?Ji:ea,e=n(r,o),di){i=0;do{if(di=!1,fi=0,25<=i)throw Error(s(301));i+=1,ci=li=null,t.updateQueue=null,oi.current=ta,e=n(r,o)}while(di)}if(oi.current=Qi,t=null!==li&&null!==li.next,ii=0,ci=li=ai=null,ui=!1,t)throw Error(s(300));return e}function yi(){var e=0!==fi;return fi=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?ai.memoizedState=ci=e:ci=ci.next=e,ci}function bi(){if(null===li){var e=ai.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===ci?ai.memoizedState:ci.next;if(null!==t)ci=t,li=e;else{if(null===e)throw Error(s(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ci?ai.memoizedState=ci=e:ci=ci.next=e}return ci}function wi(e,t){return"function"==typeof t?t(e):t}function xi(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=li,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(null!==o){i=o.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((ii&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,a=r):c=c.next=f,ai.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==i);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{i=o.lane,ai.lanes|=i,Ll|=i,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ki(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);ar(i,t.memoizedState)||(ba=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Si(){}function Ei(e,t){var n=ai,r=bi(),o=t(),i=!ar(r.memoizedState,o);if(i&&(r.memoizedState=o,ba=!0),r=r.queue,Di(Ci.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==ci&&1&ci.memoizedState.tag){if(n.flags|=2048,Mi(9,_i.bind(null,n,r,o,t),void 0,null),null===jl)throw Error(s(349));30&ii||Ni(n,t,o)}return o}function Ni(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ai.updateQueue)?(t={lastEffect:null,stores:null},ai.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _i(e,t,n,r){t.value=n,t.getSnapshot=r,ji(t)&&Oi(e)}function Ci(e,t,n){return n(function(){ji(t)&&Oi(e)})}function ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(e){return!0}}function Oi(e){var t=Ls(e,1);null!==t&&tc(t,e,1,-1)}function Ti(e){var t=vi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=Xi.bind(null,ai,e),[t.memoizedState,e]}function Mi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ai.updateQueue)?(t={lastEffect:null,stores:null},ai.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ai(){return bi().memoizedState}function Ii(e,t,n,r){var o=vi();ai.flags|=e,o.memoizedState=Mi(1|t,n,void 0,void 0===r?null:r)}function Pi(e,t,n,r){var o=bi();r=void 0===r?null:r;var s=void 0;if(null!==li){var i=li.memoizedState;if(s=i.destroy,null!==r&&mi(r,i.deps))return void(o.memoizedState=Mi(t,n,s,r))}ai.flags|=e,o.memoizedState=Mi(1|t,n,s,r)}function Li(e,t){return Ii(8390656,8,e,t)}function Di(e,t){return Pi(2048,8,e,t)}function $i(e,t){return Pi(4,2,e,t)}function Ri(e,t){return Pi(4,4,e,t)}function zi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qi(e,t,n){return n=null!=n?n.concat([e]):null,Pi(4,4,zi.bind(null,t,e),n)}function Bi(){}function Fi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ui(e,t,n){return 21&ii?(ar(n,t)||(n=mt(),ai.lanes|=n,Ll|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n)}function Hi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=si.transition;si.transition={};try{e(!1),t()}finally{bt=n,si.transition=r}}function Ki(){return bi().memoizedState}function Wi(e,t,n){var r=ec(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yi(e)?Gi(t,n):null!==(n=Ps(e,t,n,r))&&(tc(n,e,r,Jl()),Zi(n,t,r))}function Xi(e,t,n){var r=ec(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))Gi(t,o);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,i)){var l=t.interleaved;return null===l?(o.next=o,Is(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Ps(e,t,o,r))&&(tc(n,e,r,o=Jl()),Zi(n,t,r))}}function Yi(e){var t=e.alternate;return e===ai||null!==t&&t===ai}function Gi(e,t){di=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zi(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qi={readContext:Ms,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Ji={readContext:Ms,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:Ms,useEffect:Li,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ii(4194308,4,zi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wi.bind(null,ai,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Ti,useDebugValue:Bi,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Ti(!1),t=e[0];return e=Hi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ai,o=vi();if(ss){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===jl)throw Error(s(349));30&ii||Ni(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Li(Ci.bind(null,r,i,e),[e]),r.flags|=2048,Mi(9,_i.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vi(),t=jl.identifierPrefix;if(ss){var n=Qo;t=":"+t+"R"+(n=(Zo&~(1<<32-it(Zo)-1)).toString(32)+n),0<(n=fi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ms,useCallback:Fi,useContext:Ms,useEffect:Di,useImperativeHandle:qi,useInsertionEffect:$i,useLayoutEffect:Ri,useMemo:Vi,useReducer:xi,useRef:Ai,useState:function(){return xi(wi)},useDebugValue:Bi,useDeferredValue:function(e){return Ui(bi(),li.memoizedState,e)},useTransition:function(){return[xi(wi)[0],bi().memoizedState]},useMutableSource:Si,useSyncExternalStore:Ei,useId:Ki,unstable_isNewReconciler:!1},ta={readContext:Ms,useCallback:Fi,useContext:Ms,useEffect:Di,useImperativeHandle:qi,useInsertionEffect:$i,useLayoutEffect:Ri,useMemo:Vi,useReducer:ki,useRef:Ai,useState:function(){return ki(wi)},useDebugValue:Bi,useDeferredValue:function(e){var t=bi();return null===li?t.memoizedState=e:Ui(t,li.memoizedState,e)},useTransition:function(){return[ki(wi)[0],bi().memoizedState]},useMutableSource:Si,useSyncExternalStore:Ei,useId:Ki,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=$({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:$({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&Fe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Jl(),o=ec(e),s=zs(r,o);s.payload=t,null!=n&&(s.callback=n),null!==(t=qs(e,s,o))&&(tc(t,e,o,r),Bs(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Jl(),o=ec(e),s=zs(r,o);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=qs(e,s,o))&&(tc(t,e,o,r),Bs(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jl(),r=ec(e),o=zs(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=qs(e,o,r))&&(tc(t,e,r,n),Bs(t,e,r))}};function sa(e,t,n,r,o,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(o,s))}function ia(e,t,n){var r=!1,o=jo,s=t.contextType;return"object"==typeof s&&null!==s?s=Ms(s):(o=Io(t)?Mo:Oo.current,s=(r=null!=(r=t.contextTypes))?Ao(e,o):jo),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},$s(e);var s=t.contextType;"object"==typeof s&&null!==s?o.context=Ms(s):(s=Io(t)?Mo:Oo.current,o.context=Ao(e,s)),o.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),Vs(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var fa="function"==typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=zs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Ul=r),da(0,t)},n}function ha(e,t,n){(n=zs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!=typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zs(-1,1)).tag=2,qs(n,t,1))),n.lanes|=1),e)}var va=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?ks(t,null,n,r):xs(t,e.child,n,r)}function xa(e,t,n,r,o){n=n.render;var s=t.ref;return Ts(t,o),r=gi(e,t,n,r,s,o),n=yi(),null===e||ba?(ss&&n&&ts(t),t.flags|=1,wa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Va(e,t,o))}function ka(e,t,n,r,o){if(null===e){var s=n.type;return"function"!=typeof s||Mc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,o))}if(s=e.child,0===(e.lanes&o)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Va(e,t,o)}return t.flags|=1,(e=Ac(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,o){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&o))return t.lanes=e.lanes,Va(e,t,o);131072&e.flags&&(ba=!0)}}return _a(e,t,n,r,o)}function Ea(e,t,n){var r=t.pendingProps,o=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Co(Al,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Co(Al,Ml),Ml|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Co(Al,Ml),Ml|=n;else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Co(Al,Ml),Ml|=r;return wa(e,t,o,n),t.child}function Na(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _a(e,t,n,r,o){var s=Io(n)?Mo:Oo.current;return s=Ao(t,s),Ts(t,o),n=gi(e,t,n,r,s,o),r=yi(),null===e||ba?(ss&&r&&ts(t),t.flags|=1,wa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Va(e,t,o))}function Ca(e,t,n,r,o){if(Io(n)){var s=!0;$o(t)}else s=!1;if(Ts(t,o),null===t.stateNode)Fa(e,t),ia(t,n,r),la(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;c="object"==typeof c&&null!==c?Ms(c):Ao(t,c=Io(n)?Mo:Oo.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,i,r,c),Ds=!1;var f=t.memoizedState;i.state=f,Vs(t,r,i,o),l=t.memoizedState,a!==r||f!==l||To.current||Ds?("function"==typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Ds||sa(t,n,a,r,f,l,c))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Rs(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),i.props=c,d=t.pendingProps,f=i.context,l="object"==typeof(l=n.contextType)&&null!==l?Ms(l):Ao(t,l=Io(n)?Mo:Oo.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a!==d||f!==l)&&aa(t,i,r,l),Ds=!1,f=t.memoizedState,i.state=f,Vs(t,r,i,o);var h=t.memoizedState;a!==d||f!==h||To.current||Ds?("function"==typeof p&&(ra(t,n,p,r),h=t.memoizedState),(c=Ds||sa(t,n,c,r,f,h,l)||!1)?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=l,r=c):("function"!=typeof i.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ja(e,t,n,r,s,o)}function ja(e,t,n,r,o,s){Na(e,t);var i=!!(128&t.flags);if(!r&&!i)return o&&Ro(t,n,!1),Va(e,t,s);r=t.stateNode,va.current=t;var a=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,a,s)):wa(e,t,a,s),t.memoizedState=r.state,o&&Ro(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?Lo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lo(0,t.context,!1),Gs(e,t.containerInfo)}function Ta(e,t,n,r,o){return hs(),ms(o),t.flags|=256,wa(e,t,n,r),t.child}var Ma,Aa,Ia,Pa={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,n){var r,o=t.pendingProps,i=ei.current,a=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&i)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Co(ei,1&i),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},1&o||null===a?a=Lc(l,o,0,null):(a.childLanes=0,a.pendingProps=l),e=Pc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Pa,e):$a(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,o,i,a){if(n)return 256&t.flags?(t.flags&=-257,Ra(e,t,a,r=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Lc({mode:"visible",children:r.children},o,0,null),(i=Pc(i,o,a,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,1&t.mode&&xs(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Pa,i);if(!(1&t.mode))return Ra(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Ra(e,t,a,r=ua(i=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=jl)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==i.retryLane&&(i.retryLane=o,Ls(e,o),tc(r,e,o,-1))}return hc(),Ra(e,t,a,r=ua(Error(s(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,os=co(o.nextSibling),rs=t,ss=!0,is=null,null!==e&&(Xo[Yo++]=Zo,Xo[Yo++]=Qo,Xo[Yo++]=Go,Zo=e.id,Qo=e.overflow,Go=t),(t=$a(t,r.children)).flags|=4096,t)}(e,t,l,o,r,i,n);if(a){a=o.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===i?(o=Ac(i,c)).subtreeFlags=14680064&i.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==r?a=Ac(r,a):(a=Pc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Pa,o}return e=(a=e.child).sibling,o=Ac(a,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function $a(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ra(e,t,n,r){return null!==r&&ms(r),xs(t,e.child,null,n),(e=$a(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Os(e.return,t,n)}function qa(e,t,n,r,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Ba(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(wa(e,t,r.children,n),2&(r=ei.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Co(ei,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),qa(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ti(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}qa(t,!0,n,null,s);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Fa(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ua(e,t){if(!ss)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Io(t.type)&&Po(),Ha(t),null;case 3:return r=t.stateNode,Zs(),_o(To),_o(Oo),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==is&&(sc(is),is=null))),Ha(t),null;case 5:Js(t);var o=Ys(Xs.current);if(n=t.type,null!==e&&null!=t.stateNode)Aa(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ha(t),null}if(e=Ys(Ks.current),fs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[po]=t,r[ho]=i,e=!!(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Lr.length;o++)zr(Lr[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":G(r,i),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zr("invalid",r);break;case"textarea":oe(r,i),zr("invalid",r)}for(var l in ve(n,i),o=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":K(r),J(r,i,!0);break;case"textarea":K(r),ie(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=Jr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[ho]=r,Ma(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Lr.length;o++)zr(Lr[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":G(e,r),o=Y(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=$({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(i in ve(n,o),c=o)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"==typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"==typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(a.hasOwnProperty(i)?null!=u&&"onScroll"===i&&zr("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+U(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)Ia(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Xs.current),Ys(Ks.current),fs(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(i=r.nodeValue!==n)&&null!==(e=rs))switch(e.tag){case 3:Qr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,!!(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ha(t),null;case 13:if(_o(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ss&&null!==os&&1&t.mode&&!(128&t.flags))ps(),hs(),t.flags|=98560,i=!1;else if(i=fs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[po]=t}else hs(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),i=!1}else null!==is&&(sc(is),is=null),i=!0;if(!i)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ei.current?0===Il&&(Il=3):hc())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return Zs(),null===e&&Fr(t.stateNode.containerInfo),Ha(t),null;case 10:return js(t.type._context),Ha(t),null;case 19:if(_o(ei),null===(i=t.memoizedState))return Ha(t),null;if(r=!!(128&t.flags),null===(l=i.rendering))if(r)Ua(i,!1);else{if(0!==Il||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ti(e))){for(t.flags|=128,Ua(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Co(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Ze()>Bl&&(t.flags|=128,r=!0,Ua(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ua(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ss)return Ha(t),null}else 2*Ze()-i.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ua(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ze(),t.sibling=null,n=ei.current,Co(ei,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ml)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Wa(e,t){switch(ns(t),t.tag){case 1:return Io(t.type)&&Po(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zs(),_o(To),_o(Oo),ri(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(_o(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _o(ei),null;case 4:return Zs(),null;case 10:return js(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ma=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Aa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ys(Ks.current);var s,i=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),i=[];break;case"select":o=$({},o,{value:void 0}),r=$({},r,{value:void 0}),i=[];break;case"textarea":o=re(e,o),r=re(e,r),i=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ia=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ya=!1,Ga="function"==typeof WeakSet?WeakSet:Set,Za=null;function Qa(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Sc(e,t,n)}else n.current=null}function Ja(e,t,n){try{n()}catch(n){Sc(e,t,n)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,void 0!==s&&Ja(t,n,s)}o=o.next}while(o!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[po],delete t[ho],delete t[go],delete t[yo],delete t[vo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(al(e,t,n),e=e.sibling;null!==e;)al(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"==typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Ya||Qa(n,t);case 6:var r=cl,o=ul;cl=null,dl(e,t,n),ul=o,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ft(e)):lo(cl,n.stateNode));break;case 4:r=cl,o=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=o;break;case 0:case 11:case 14:case 15:if(!Ya&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,void 0!==i&&(2&s||4&s)&&Ja(n,t,i),o=o.next}while(o!==r)}dl(e,t,n);break;case 1:if(!Ya&&(Qa(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Sc(n,t,e)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,dl(e,t,n),Ya=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ga),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(s(160));fl(i,a,o),cl=null,ul=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Sc(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hl(t,e),gl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(t){Sc(e,e.return,t)}try{tl(5,e,e.return)}catch(t){Sc(e,e.return,t)}}break;case 1:hl(t,e),gl(e),512&r&&null!==n&&Qa(n,n.return);break;case 5:if(hl(t,e),gl(e),512&r&&null!==n&&Qa(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(t){Sc(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var i=e.memoizedProps,a=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Z(o,i),be(l,a);var u=be(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];"style"===d?ge(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):b(o,d,f,u)}switch(l){case"input":Q(o,i);break;case"textarea":se(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(o,!!i.multiple,h,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(o,!!i.multiple,i.defaultValue,!0):ne(o,!!i.multiple,i.multiple?[]:"",!1))}o[ho]=i}catch(t){Sc(e,e.return,t)}}break;case 6:if(hl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(s(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(t){Sc(e,e.return,t)}}break;case 3:if(hl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ft(t.containerInfo)}catch(t){Sc(e,e.return,t)}break;case 4:default:hl(t,e),gl(e);break;case 13:hl(t,e),gl(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(ql=Ze())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,hl(t,e),Ya=u):hl(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Za=e,d=e.child;null!==d;){for(f=Za=d;null!==Za;){switch(h=(p=Za).child,p.tag){case 0:case 11:case 14:case 15:tl(4,p,p.return);break;case 1:Qa(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Sc(r,n,e)}}break;case 5:Qa(p,p.return);break;case 22:if(null!==p.memoizedState){wl(f);continue}}null!==h?(h.return=p,Za=h):wl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,u?"function"==typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=f.stateNode,a=null!=(c=f.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(t){Sc(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(t){Sc(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hl(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),ll(e,il(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;al(e,il(e),i);break;default:throw Error(s(161))}}catch(t){Sc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Za=e,vl(e,t,n)}function vl(e,t,n){for(var r=!!(1&e.mode);null!==Za;){var o=Za,s=o.child;if(22===o.tag&&r){var i=null!==o.memoizedState||Xa;if(!i){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Xa;var c=Ya;if(Xa=i,(Ya=l)&&!c)for(Za=o;null!==Za;)l=(i=Za).child,22===i.tag&&null!==i.memoizedState?xl(o):null!==l?(l.return=i,Za=l):xl(o);for(;null!==s;)Za=s,vl(s,t,n),s=s.sibling;Za=o,Xa=a,Ya=c}bl(e)}else 8772&o.subtreeFlags&&null!==s?(s.return=o,Za=s):bl(e)}}function bl(e){for(;null!==Za;){var t=Za;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ya||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Us(t,i,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ft(f)}}}break;default:throw Error(s(163))}Ya||512&t.flags&&rl(t)}catch(e){Sc(t,t.return,e)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function wl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function xl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(e){Sc(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Sc(t,o,e)}}var s=t.return;try{rl(t)}catch(e){Sc(t,s,e)}break;case 5:var i=t.return;try{rl(t)}catch(e){Sc(t,i,e)}}}catch(e){Sc(t,t.return,e)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var kl,Sl=Math.ceil,El=w.ReactCurrentDispatcher,Nl=w.ReactCurrentOwner,_l=w.ReactCurrentBatchConfig,Cl=0,jl=null,Ol=null,Tl=0,Ml=0,Al=No(0),Il=0,Pl=null,Ll=0,Dl=0,$l=0,Rl=null,zl=null,ql=0,Bl=1/0,Fl=null,Vl=!1,Ul=null,Hl=null,Kl=!1,Wl=null,Xl=0,Yl=0,Gl=null,Zl=-1,Ql=0;function Jl(){return 6&Cl?Ze():-1!==Zl?Zl:Zl=Ze()}function ec(e){return 1&e.mode?2&Cl&&0!==Tl?Tl&-Tl:null!==gs.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type):1}function tc(e,t,n,r){if(50<Yl)throw Yl=0,Gl=null,Error(s(185));yt(e,n,r),2&Cl&&e===jl||(e===jl&&(!(2&Cl)&&(Dl|=n),4===Il&&ic(e,Tl)),nc(e,r),1===n&&0===Cl&&!(1&t.mode)&&(Bl=Ze()+500,qo&&Vo()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),a=1<<i,l=o[i];-1===l?0!==(a&n)&&0===(a&r)||(o[i]=pt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ft(e,e===jl?Tl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){qo=!0,Fo(e)}(ac.bind(null,e)):Fo(ac.bind(null,e)),io(function(){!(6&Cl)&&Vo()}),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Zl=-1,Ql=0,6&Cl)throw Error(s(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ft(e,e===jl?Tl:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var o=Cl;Cl|=2;var i=pc();for(jl===e&&Tl===t||(Fl=null,Bl=Ze()+500,dc(e,t));;)try{yc();break}catch(t){fc(e,t)}Cs(),El.current=i,Cl=o,null!==Ol?t=0:(jl=null,Tl=0,t=Il)}if(0!==t){if(2===t&&0!==(o=ht(e))&&(r=o,t=oc(e,o)),1===t)throw n=Pl,dc(e,0),ic(e,r),nc(e,Ze()),n;if(6===t)ic(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!ar(s(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=mc(e,r),2===t&&(i=ht(e),0!==i&&(r=i,t=oc(e,i))),1!==t)))throw n=Pl,dc(e,0),ic(e,r),nc(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,zl,Fl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=ql+500-Ze())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){Jl(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wc.bind(null,e,zl,Fl),t);break}wc(e,zl,Fl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-it(r);i=1<<a,(a=t[a])>o&&(o=a),r&=~i}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ro(wc.bind(null,e,zl,Fl),r);break}wc(e,zl,Fl);break;default:throw Error(s(329))}}}return nc(e,Ze()),e.callbackNode===n?rc.bind(null,e):null}function oc(e,t){var n=Rl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ic(e,t){for(t&=~$l,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function ac(e){if(6&Cl)throw Error(s(327));xc();var t=ft(e,0);if(!(1&t))return nc(e,Ze()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Pl,dc(e,0),ic(e,t),nc(e,Ze()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zl,Fl),nc(e,Ze()),null}function lc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Bl=Ze()+500,qo&&Vo())}}function cc(e){null!==Wl&&0===Wl.tag&&!(6&Cl)&&xc();var t=Cl;Cl|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,!(6&(Cl=t))&&Vo()}}function uc(){Ml=Al.current,_o(Al)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ns(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Po();break;case 3:Zs(),_o(To),_o(Oo),ri();break;case 5:Js(r);break;case 4:Zs();break;case 13:case 19:_o(ei);break;case 10:js(r.type._context);break;case 22:case 23:uc()}n=n.return}if(jl=e,Ol=e=Ac(e.current,null),Tl=Ml=t,Il=0,Pl=null,$l=Dl=Ll=0,zl=Rl=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var o=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=o,r.next=i}n.pending=r}As=null}return e}function fc(e,t){for(;;){var n=Ol;try{if(Cs(),oi.current=Qi,ui){for(var r=ai.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ui=!1}if(ii=0,ci=li=ai=null,di=!1,fi=0,Nl.current=null,null===n||null===n.return){Il=1,Pl=t,Ol=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ga(a);if(null!==h){h.flags&=-257,ya(h,a,l,0,t),1&h.mode&&ma(i,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){ma(i,u,t),hc();break e}c=Error(s(426))}else if(ss&&1&l.mode){var y=ga(a);if(null!==y){!(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),ms(ca(c,l));break e}}i=c=ca(c,l),4!==Il&&(Il=2),null===Rl?Rl=[i]:Rl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Fs(i,pa(0,c,t));break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(128&i.flags||"function"!=typeof v.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Hl&&Hl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Fs(i,ha(i,l,t));break e}}i=i.return}while(null!==i)}bc(n)}catch(e){t=e,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=Qi,null===e?Qi:e}function hc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===jl||!(268435455&Ll)&&!(268435455&Dl)||ic(jl,Tl)}function mc(e,t){var n=Cl;Cl|=2;var r=pc();for(jl===e&&Tl===t||(Fl=null,dc(e,t));;)try{gc();break}catch(t){fc(e,t)}if(Cs(),Cl=n,El.current=r,null!==Ol)throw Error(s(261));return jl=null,Tl=0,Il}function gc(){for(;null!==Ol;)vc(Ol)}function yc(){for(;null!==Ol&&!Ye();)vc(Ol)}function vc(e){var t=kl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?bc(e):Ol=t,Nl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Wa(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Il=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ka(n,t,Ml)))return void(Ol=n);if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Il&&(Il=5)}function wc(e,t,n){var r=bt,o=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Wl);if(6&Cl)throw Error(s(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-it(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}(e,i),e===jl&&(Ol=jl=null,Tl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Kl||(Kl=!0,jc(tt,function(){return xc(),null})),i=!!(15990&n.flags),15990&n.subtreeFlags||i){i=_l.transition,_l.transition=null;var a=bt;bt=1;var l=Cl;Cl|=4,Nl.current=null,function(e,t){if(eo=Ut,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==o&&3!==f.nodeType||(l=a+o),f!==i||0!==r&&3!==f.nodeType||(c=a+r),3===f.nodeType&&(a+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===o&&(l=a),p===i&&++d===r&&(c=a),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ut=!1,Za=t;null!==Za;)if(e=(t=Za).child,1028&t.subtreeFlags&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(e){Sc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=el,el=!1}(e,n),ml(n,e),hr(to),Ut=!!eo,to=eo=null,e.current=n,yl(n,e,o),Ge(),Cl=l,bt=a,_l.transition=i}else e.current=n;if(Kl&&(Kl=!1,Wl=e,Xl=o),0===(i=e.pendingLanes)&&(Hl=null),function(e){if(st&&"function"==typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),nc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(Vl)throw Vl=!1,e=Ul,Ul=null,e;!!(1&Xl)&&0!==e.tag&&xc(),1&(i=e.pendingLanes)?e===Gl?Yl++:(Yl=0,Gl=e):Yl=0,Vo()}(e,t,n,r)}finally{_l.transition=o,bt=r}return null}function xc(){if(null!==Wl){var e=wt(Xl),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,Xl=0,6&Cl)throw Error(s(331));var o=Cl;for(Cl|=4,Za=e.current;null!==Za;){var i=Za,a=i.child;if(16&Za.flags){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:tl(8,d,i)}var f=d.child;if(null!==f)f.return=d,Za=f;else for(;null!==Za;){var p=(d=Za).sibling,h=d.return;if(ol(d),d===u){Za=null;break}if(null!==p){p.return=h,Za=p;break}Za=h}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Za=i}}if(2064&i.subtreeFlags&&null!==a)a.return=i,Za=a;else e:for(;null!==Za;){if(2048&(i=Za).flags)switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Za=v;break e}Za=i.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(2064&a.subtreeFlags&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(2048&(l=Za).flags)try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(e){Sc(l,l.return,e)}if(l===a){Za=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Za=x;break e}Za=l.return}}if(Cl=o,Vo(),st&&"function"==typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function kc(e,t,n){e=qs(e,t=pa(0,t=ca(n,t),1),1),t=Jl(),null!==e&&(yt(e,1,t),nc(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=qs(t,e=ha(t,e=ca(n,e),1),1),e=Jl(),null!==t&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Jl(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Tl&n)===n&&(4===Il||3===Il&&(130023424&Tl)===Tl&&500>Ze()-ql?dc(e,0):$l|=n),nc(e,t)}function Nc(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=Jl();null!==(e=Ls(e,t))&&(yt(e,t,n),nc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Nc(e,n)}function jc(e,t){return We(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Oc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,o,i){var a=2;if(r=e,"function"==typeof e)Mc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case S:return Pc(n.children,o,i,t);case E:a=8,o|=8;break;case N:return(e=Tc(12,n,t,2|o)).elementType=N,e.lanes=i,e;case O:return(e=Tc(13,n,t,o)).elementType=O,e.lanes=i,e;case T:return(e=Tc(19,n,t,o)).elementType=T,e.lanes=i,e;case I:return Lc(n,o,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case _:a=10;break e;case C:a=9;break e;case j:a=11;break e;case M:a=14;break e;case A:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(a,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Pc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function $c(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,o,s,i,a,l){return e=new Rc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$s(s),e}function qc(e){if(!e)return jo;e:{if(Fe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Io(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Io(n))return Do(e,n,t)}return t}function Bc(e,t,n,r,o,s,i,a,l){return(e=zc(n,r,!0,e,0,s,0,a,l)).context=qc(null),n=e.current,(s=zs(r=Jl(),o=ec(n))).callback=null!=t?t:null,qs(n,s,o),e.current.lanes=o,yt(e,o,r),nc(e,r),e}function Fc(e,t,n,r){var o=t.current,s=Jl(),i=ec(o);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zs(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=qs(o,t,i))&&(tc(e,o,i,s),Bs(e,o,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||To.current)ba=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Oa(t),hs();break;case 5:Qs(t);break;case 1:Io(t.type)&&$o(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Co(Ss,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Co(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Da(e,t,n):(Co(ei,1&ei.current),null!==(e=Va(e,t,n))?e.sibling:null);Co(ei,1&ei.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Co(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return Va(e,t,n)}(e,t,n);ba=!!(131072&e.flags)}else ba=!1,ss&&1048576&t.flags&&es(t,Wo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fa(e,t),e=t.pendingProps;var o=Ao(t,Oo.current);Ts(t,n),o=gi(null,t,r,e,o,n);var i=yi();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Io(r)?(i=!0,$o(t)):i=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,$s(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,r,e,n),t=ja(null,t,r,!0,i,n)):(t.tag=0,ss&&i&&ts(t),wa(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fa(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Mc(e)?1:0;if(null!=e){if((e=e.$$typeof)===j)return 11;if(e===M)return 14}return 2}(r),e=na(r,e),o){case 0:t=_a(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,_a(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ca(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(Oa(t),null===e)throw Error(s(387));r=t.pendingProps,o=(i=t.memoizedState).element,Rs(e,t),Vs(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ta(e,t,r,n,o=ca(Error(s(423)),t));break e}if(r!==o){t=Ta(e,t,r,n,o=ca(Error(s(424)),t));break e}for(os=co(t.stateNode.containerInfo.firstChild),rs=t,ss=!0,is=null,n=ks(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),r===o){t=Va(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Qs(t),null===e&&us(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==i&&no(r,i)&&(t.flags|=32),Na(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Da(e,t,n);case 4:return Gs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,Co(Ss,r._currentValue),r._currentValue=a,null!==i)if(ar(i.value,a)){if(i.children===o.children&&!To.current){t=Va(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){a=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=zs(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Os(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)a=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Os(a,n,t),a=i.sibling}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===t){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}wa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ts(t,n),r=r(o=Ms(o)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),ka(e,t,r,o=na(r.type,o),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),Fa(e,t),t.tag=1,Io(r)?(e=!0,$o(t)):e=!1,Ts(t,n),ia(t,r,o),la(t,r,o,n),ja(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return Ea(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"==typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Qc(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if("function"==typeof o){var a=o;o=function(){var e=Vc(i);a.call(e)}}Fc(t,i,e,o)}else i=function(e,t,n,r,o){if(o){if("function"==typeof r){var s=r;r=function(){var e=Vc(i);s.call(e)}}var i=Bc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=i,e[mo]=i.current,Fr(8===e.nodeType?e.parentNode:e),cc(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var a=r;r=function(){var e=Vc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[mo]=l.current,Fr(8===e.nodeType?e.parentNode:e),cc(function(){Fc(t,l,n,r)}),l}(n,t,e,o,r);return Vc(i)}Xc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Fc(e,t,null,null)},Xc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Fc(null,e,null,null)}),t[mo]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&$t(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),nc(t,Ze()),!(6&Cl)&&(Bl=Ze()+500,Vo()))}break;case 13:cc(function(){var t=Ls(e,1);if(null!==t){var n=Jl();tc(t,e,1,n)}}),Hc(e,1)}},kt=function(e){if(13===e.tag){var t=Ls(e,134217728);null!==t&&tc(t,e,134217728,Jl()),Hc(e,134217728)}},St=function(e){if(13===e.tag){var t=ec(e),n=Ls(e,t);null!==n&&tc(n,e,t,Jl()),Hc(e,t)}},Et=function(){return bt},Nt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ko(r);if(!o)throw Error(s(90));W(r),Q(r,o)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=lc,Oe=cc;var Jc={usingClientEntryPoint:!1,Events:[wo,xo,ko,_e,Ce,lc]},eu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{ot=nu.inject(tu),st=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",o=Kc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Fr(8===e.nodeType?e.parentNode:e),new Wc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Gc(t))throw Error(s(200));return Qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,o=!1,i="",a=Kc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,o,0,i,a),e[mo]=t.current,Fr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Xc(t)},t.render=function(e,t,n){if(!Gc(t))throw Error(s(200));return Qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Gc(e))throw Error(s(40));return!!e._reactRootContainer&&(cc(function(){Qc(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Qc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},576(e,t,n){"use strict";var r=n(143);t.H=r.createRoot,r.hydrateRoot},143(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(481)},462(e,t,n){"use strict";var r=n(758),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},713(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var o,s={},i=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,o)&&!E.hasOwnProperty(o)&&(s[o]=t[o]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===s[o]&&(s[o]=l[o]);return{$$typeof:n,type:e,key:i,ref:a,props:s,_owner:S.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function j(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,o,s,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+j(l,0):s,x(i)?(o="",null!=e&&(o=e.replace(C,"$&/")+"/"),O(i,t,o,"",function(e){return e})):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+j(a=e[c],c);l+=O(a,t,o,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=O(a=a.value,t,o,u=s+j(a,c++),i);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],o=0;return O(e,r,"","",function(e){return t.call(n,e,o++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},I={transition:null},P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:I,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=L,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),s=e.key,i=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},758(e,t,n){"use strict";e.exports=n(713)},70(e,t,n){"use strict";e.exports=n(462)},733(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<s(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<o&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,I(k);else{var t=r(u);null!==t&&P(x,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(_),_=-1),h=!0;var s=p;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!O());){var i=f.callback;if("function"==typeof i){f.callback=null,p=f.priorityLevel;var a=i(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?f.callback=a:f===r(c)&&o(c),w(n)}else o(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&P(x,d.startTime-n),l=!1}return l}finally{f=null,p=s,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,N=null,_=-1,C=5,j=-1;function O(){return!(t.unstable_now()-j<C)}function T(){if(null!==N){var e=t.unstable_now();j=e;var n=!0;try{n=N(!0,e)}finally{n?S():(E=!1,N=null)}}else E=!1}if("function"==typeof b)S=function(){b(T)};else if("undefined"!=typeof MessageChannel){var M=new MessageChannel,A=M.port2;M.port1.onmessage=T,S=function(){A.postMessage(null)}}else S=function(){y(T,0)};function I(e){N=e,E||(E=!0,S())}function P(e,n){_=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,I(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,s){var i=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(_),_=-1):g=!0,P(x,s-i))):(e.sortIndex=a,n(c,e),m||h||(m=!0,I(k))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},896(e,t,n){"use strict";e.exports=n(733)},278(e,t,n){"use strict";var r=n(758),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useState,i=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return a(function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})},[e,n,t]),i(function(){return c(o)&&u({inst:o}),e(function(){c(o)&&u({inst:o})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},49(e,t,n){"use strict";var r=n(758),o=n(809),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=o.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=a(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c(function(){function e(e){if(!l){if(l=!0,i=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return a=t}return a=e}if(t=a,s(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(i=e,t):(i=e,a=n)}var i,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]);var p=i(e,d[0],d[1]);return l(function(){f.hasValue=!0,f.value=p},[p]),u(p),p}},809(e,t,n){"use strict";e.exports=n(278)},7(e,t,n){"use strict";e.exports=n(49)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{BOM:()=>Wd,DOCUMENT:()=>Xd,FLOW_END:()=>Yd,SCALAR:()=>Gd,createScalarToken:()=>Ld,isCollection:()=>Zd,isScalar:()=>Qd,prettyToken:()=>Jd,resolveAsScalar:()=>Pd,setScalarValue:()=>Dd,stringify:()=>zd,tokenType:()=>ef,visit:()=>Hd});var t={};n.r(t),n.d(t,{Alias:()=>vc,CST:()=>e,Composer:()=>Id,Document:()=>sd,Lexer:()=>lf,LineCounter:()=>cf,Pair:()=>Zc,Parser:()=>gf,Scalar:()=>xc,Schema:()=>od,YAMLError:()=>ad,YAMLMap:()=>ru,YAMLParseError:()=>ld,YAMLSeq:()=>su,YAMLWarning:()=>cd,isAlias:()=>Ul,isCollection:()=>Gl,isDocument:()=>Hl,isMap:()=>Kl,isNode:()=>Zl,isPair:()=>Wl,isScalar:()=>Xl,isSeq:()=>Yl,parse:()=>wf,parseAllDocuments:()=>vf,parseDocument:()=>bf,stringify:()=>xf,visit:()=>nc,visitAsync:()=>oc});var r=n(70),o=n(758),s=n(576);function i(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=i(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var a={value:()=>{}};function l(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new c(r)}function c(e){this._=e}function u(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function d(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=a,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}c.prototype=l.prototype={constructor:c,on:function(e,t){var n,r,o=this._,s=(r=o,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),i=-1,a=s.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=s[i]).type)o[n]=d(o[n],e.name,t);else if(null==t)for(n in o)o[n]=d(o[n],e.name,null);return this}for(;++i<a;)if((n=(e=s[i]).type)&&(n=u(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new c(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),s=0;s<n;++s)o[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=0,n=(r=this._[e]).length;s<n;++s)r[s].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};const f=l;function p(){}function h(e){return null==e?p:function(){return this.querySelector(e)}}function m(){return[]}function g(e){return null==e?m:function(){return this.querySelectorAll(e)}}function y(e){return function(){return this.matches(e)}}function v(e){return function(t){return t.matches(e)}}var b=Array.prototype.find;function w(){return this.firstElementChild}var x=Array.prototype.filter;function k(){return Array.from(this.children)}function S(e){return new Array(e.length)}function E(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function N(e,t,n,r,o,s){for(var i,a=0,l=t.length,c=s.length;a<c;++a)(i=t[a])?(i.__data__=s[a],r[a]=i):n[a]=new E(e,s[a]);for(;a<l;++a)(i=t[a])&&(o[a]=i)}function _(e,t,n,r,o,s,i){var a,l,c,u=new Map,d=t.length,f=s.length,p=new Array(d);for(a=0;a<d;++a)(l=t[a])&&(p[a]=c=i.call(l,l.__data__,a,t)+"",u.has(c)?o[a]=l:u.set(c,l));for(a=0;a<f;++a)c=i.call(e,s[a],a,s)+"",(l=u.get(c))?(r[a]=l,l.__data__=s[a],u.delete(c)):n[a]=new E(e,s[a]);for(a=0;a<d;++a)(l=t[a])&&u.get(p[a])===l&&(o[a]=l)}function C(e){return e.__data__}function j(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function O(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}E.prototype={constructor:E,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var T="http://www.w3.org/1999/xhtml";const M={svg:"http://www.w3.org/2000/svg",xhtml:T,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function A(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),M.hasOwnProperty(t)?{space:M[t],local:e}:e}function I(e){return function(){this.removeAttribute(e)}}function P(e){return function(){this.removeAttributeNS(e.space,e.local)}}function L(e,t){return function(){this.setAttribute(e,t)}}function D(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function $(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function R(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function z(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function q(e){return function(){this.style.removeProperty(e)}}function B(e,t,n){return function(){this.style.setProperty(e,t,n)}}function F(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function V(e,t){return e.style.getPropertyValue(t)||z(e).getComputedStyle(e,null).getPropertyValue(t)}function U(e){return function(){delete this[e]}}function H(e,t){return function(){this[e]=t}}function K(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function W(e){return e.trim().split(/^|\s+/)}function X(e){return e.classList||new Y(e)}function Y(e){this._node=e,this._names=W(e.getAttribute("class")||"")}function G(e,t){for(var n=X(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Z(e,t){for(var n=X(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Q(e){return function(){G(this,e)}}function J(e){return function(){Z(this,e)}}function ee(e,t){return function(){(t.apply(this,arguments)?G:Z)(this,e)}}function te(){this.textContent=""}function ne(e){return function(){this.textContent=e}}function re(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function oe(){this.innerHTML=""}function se(e){return function(){this.innerHTML=e}}function ie(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ae(){this.nextSibling&&this.parentNode.appendChild(this)}function le(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ce(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===T&&t.documentElement.namespaceURI===T?t.createElement(e):t.createElementNS(n,e)}}function ue(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function de(e){var t=A(e);return(t.local?ue:ce)(t)}function fe(){return null}function pe(){var e=this.parentNode;e&&e.removeChild(this)}function he(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function me(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ge(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,s=t.length;r<s;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function ye(e,t,n){return function(){var r,o=this.__on,s=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var i=0,a=o.length;i<a;++i)if((r=o[i]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),void(r.value=t);this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(r):this.__on=[r]}}function ve(e,t,n){var r=z(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function be(e,t){return function(){return ve(this,e,t)}}function we(e,t){return function(){return ve(this,e,t.apply(this,arguments))}}Y.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var xe=[null];function ke(e,t){this._groups=e,this._parents=t}function Se(){return new ke([[document.documentElement]],xe)}ke.prototype=Se.prototype={constructor:ke,select:function(e){"function"!=typeof e&&(e=h(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s,i,a=t[o],l=a.length,c=r[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(i=e.call(s,s.__data__,u,a))&&("__data__"in s&&(i.__data__=s.__data__),c[u]=i);return new ke(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}(e):g(e);for(var t=this._groups,n=t.length,r=[],o=[],s=0;s<n;++s)for(var i,a=t[s],l=a.length,c=0;c<l;++c)(i=a[c])&&(r.push(e.call(i,i.__data__,c,a)),o.push(i));return new ke(r,o)},selectChild:function(e){return this.select(null==e?w:function(e){return function(){return b.call(this.children,e)}}("function"==typeof e?e:v(e)))},selectChildren:function(e){return this.selectAll(null==e?k:function(e){return function(){return x.call(this.children,e)}}("function"==typeof e?e:v(e)))},filter:function(e){"function"!=typeof e&&(e=y(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s,i=t[o],a=i.length,l=r[o]=[],c=0;c<a;++c)(s=i[c])&&e.call(s,s.__data__,c,i)&&l.push(s);return new ke(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,C);var n,r=t?_:N,o=this._parents,s=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var i=s.length,a=new Array(i),l=new Array(i),c=new Array(i),u=0;u<i;++u){var d=o[u],f=s[u],p=f.length,h=j(e.call(d,d&&d.__data__,u,o)),m=h.length,g=l[u]=new Array(m),y=a[u]=new Array(m);r(d,f,g,y,c[u]=new Array(p),h,t);for(var v,b,w=0,x=0;w<m;++w)if(v=g[w]){for(w>=x&&(x=w+1);!(b=y[x])&&++x<m;);v._next=b||null}}return(a=new ke(a,o))._enter=l,a._exit=c,a},enter:function(){return new ke(this._enter||this._groups.map(S),this._parents)},exit:function(){return new ke(this._exit||this._groups.map(S),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,s=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?s.remove():n(s),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,s=r.length,i=Math.min(o,s),a=new Array(o),l=0;l<i;++l)for(var c,u=n[l],d=r[l],f=u.length,p=a[l]=new Array(f),h=0;h<f;++h)(c=u[h]||d[h])&&(p[h]=c);for(;l<o;++l)a[l]=n[l];return new ke(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],s=o.length-1,i=o[s];--s>=0;)(r=o[s])&&(i&&4^r.compareDocumentPosition(i)&&i.parentNode.insertBefore(r,i),i=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=O);for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var i,a=n[s],l=a.length,c=o[s]=new Array(l),u=0;u<l;++u)(i=a[u])&&(c[u]=i);c.sort(t)}return new ke(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var i=r[o];if(i)return i}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,s=t[n],i=0,a=s.length;i<a;++i)(o=s[i])&&e.call(o,o.__data__,i,s);return this},attr:function(e,t){var n=A(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?P:I:"function"==typeof t?n.local?R:$:n.local?D:L)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?q:"function"==typeof t?F:B)(e,t,null==n?"":n)):V(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?U:"function"==typeof t?K:H)(e,t)):this.node()[e]},classed:function(e,t){var n=W(e+"");if(arguments.length<2){for(var r=X(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?ee:t?Q:J)(n,t))},text:function(e){return arguments.length?this.each(null==e?te:("function"==typeof e?re:ne)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?oe:("function"==typeof e?ie:se)(e)):this.node().innerHTML},raise:function(){return this.each(ae)},lower:function(){return this.each(le)},append:function(e){var t="function"==typeof e?e:de(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:de(e),r=null==t?fe:"function"==typeof t?t:h(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(pe)},clone:function(e){return this.select(e?me:he)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,s=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),i=s.length;if(!(arguments.length<2)){for(a=t?ye:ge,r=0;r<i;++r)this.each(a(s[r],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<i;++r)if((o=s[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?we:be)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],s=0,i=o.length;s<i;++s)(r=o[s])&&(yield r)}};const Ee=Se;function Ne(e){return"string"==typeof e?new ke([[document.querySelector(e)]],[document.documentElement]):new ke([[e]],xe)}function _e(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Ce={passive:!1},je={capture:!0,passive:!1};function Oe(e){e.stopImmediatePropagation()}function Te(e){e.preventDefault(),e.stopImmediatePropagation()}function Me(e){var t=e.document.documentElement,n=Ne(e).on("dragstart.drag",Te,je);"onselectstart"in t?n.on("selectstart.drag",Te,je):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ae(e,t){var n=e.document.documentElement,r=Ne(e).on("dragstart.drag",null);t&&(r.on("click.drag",Te,je),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ie=e=>()=>e;function Pe(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:s,x:i,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function Le(e){return!e.ctrlKey&&!e.button}function De(){return this.parentNode}function $e(e,t){return null==t?{x:e.x,y:e.y}:t}function Re(){return navigator.maxTouchPoints||"ontouchstart"in this}function ze(){var e,t,n,r,o=Le,s=De,i=$e,a=Re,l={},c=f("start","drag","end"),u=0,d=0;function p(e){e.on("mousedown.drag",h).filter(a).on("touchstart.drag",y).on("touchmove.drag",v,Ce).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(i,a){if(!r&&o.call(this,i,a)){var l=w(this,s.call(this,i,a),i,a,"mouse");l&&(Ne(i.view).on("mousemove.drag",m,je).on("mouseup.drag",g,je),Me(i.view),Oe(i),n=!1,e=i.clientX,t=i.clientY,l("start",i))}}function m(r){if(Te(r),!n){var o=r.clientX-e,s=r.clientY-t;n=o*o+s*s>d}l.mouse("drag",r)}function g(e){Ne(e.view).on("mousemove.drag mouseup.drag",null),Ae(e.view,n),Te(e),l.mouse("end",e)}function y(e,t){if(o.call(this,e,t)){var n,r,i=e.changedTouches,a=s.call(this,e,t),l=i.length;for(n=0;n<l;++n)(r=w(this,a,e,t,i[n].identifier,i[n]))&&(Oe(e),r("start",e,i[n]))}}function v(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=l[r[t].identifier])&&(Te(e),n("drag",e,r[t]))}function b(e){var t,n,o=e.changedTouches,s=o.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<s;++t)(n=l[o[t].identifier])&&(Oe(e),n("end",e,o[t]))}function w(e,t,n,r,o,s){var a,d,f,h=c.copy(),m=_e(s||n,t);if(null!=(f=i.call(e,new Pe("beforestart",{sourceEvent:n,target:p,identifier:o,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:h}),r)))return a=f.x-m[0]||0,d=f.y-m[1]||0,function n(s,i,c){var g,y=m;switch(s){case"start":l[o]=n,g=u++;break;case"end":delete l[o],--u;case"drag":m=_e(c||i,t),g=u}h.call(s,e,new Pe(s,{sourceEvent:i,subject:f,target:p,identifier:o,active:g,x:m[0]+a,y:m[1]+d,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:h}),r)}}return p.filter=function(e){return arguments.length?(o="function"==typeof e?e:Ie(!!e),p):o},p.container=function(e){return arguments.length?(s="function"==typeof e?e:Ie(e),p):s},p.subject=function(e){return arguments.length?(i="function"==typeof e?e:Ie(e),p):i},p.touchable=function(e){return arguments.length?(a="function"==typeof e?e:Ie(!!e),p):a},p.on=function(){var e=c.on.apply(c,arguments);return e===c?p:e},p.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,p):Math.sqrt(d)},p}function qe(e){return((e=Math.exp(e))+1/e)/2}Pe.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};const Be=function e(t,n,r){function o(e,o){var s,i,a=e[0],l=e[1],c=e[2],u=o[0],d=o[1],f=o[2],p=u-a,h=d-l,m=p*p+h*h;if(m<1e-12)i=Math.log(f/c)/t,s=function(e){return[a+e*p,l+e*h,c*Math.exp(t*e*i)]};else{var g=Math.sqrt(m),y=(f*f-c*c+r*m)/(2*c*n*g),v=(f*f-c*c-r*m)/(2*f*n*g),b=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(v*v+1)-v);i=(w-b)/t,s=function(e){var r,o=e*i,s=qe(b),u=c/(n*g)*(s*(r=t*o+b,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[a+u*p,l+u*h,c*s/qe(t*o+b)]}}return s.duration=1e3*i*t/Math.SQRT2,s}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);var Fe,Ve,Ue=0,He=0,Ke=0,We=0,Xe=0,Ye=0,Ge="object"==typeof performance&&performance.now?performance:Date,Ze="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qe(){return Xe||(Ze(Je),Xe=Ge.now()+Ye)}function Je(){Xe=0}function et(){this._call=this._time=this._next=null}function tt(e,t,n){var r=new et;return r.restart(e,t,n),r}function nt(){Xe=(We=Ge.now())+Ye,Ue=He=0;try{!function(){Qe(),++Ue;for(var e,t=Fe;t;)(e=Xe-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ue}()}finally{Ue=0,function(){for(var e,t,n=Fe,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Fe=t);Ve=e,ot(r)}(),Xe=0}}function rt(){var e=Ge.now(),t=e-We;t>1e3&&(Ye-=t,We=e)}function ot(e){Ue||(He&&(He=clearTimeout(He)),e-Xe>24?(e<1/0&&(He=setTimeout(nt,e-Ge.now()-Ye)),Ke&&(Ke=clearInterval(Ke))):(Ke||(We=Ge.now(),Ke=setInterval(rt,1e3)),Ue=1,Ze(nt)))}function st(e,t,n){var r=new et;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}et.prototype=tt.prototype={constructor:et,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Qe():+n)+(null==t?0:+t),this._next||Ve===this||(Ve?Ve._next=this:Fe=this,Ve=this),this._call=e,this._time=n,ot()},stop:function(){this._call&&(this._call=null,this._time=1/0,ot())}};var it=f("start","end","cancel","interrupt"),at=[];function lt(e,t,n,r,o,s){var i=e.__transition;if(i){if(n in i)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function s(l){var c,u,d,f;if(1!==n.state)return a();for(c in o)if((f=o[c]).name===n.name){if(3===f.state)return st(s);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[c]):+c<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[c])}if(st(function(){3===n.state&&(n.state=4,n.timer.restart(i,n.delay,n.time),i(l))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function i(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=5,1),s=-1,i=r.length;++s<i;)r[s].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=tt(function(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:o,on:it,tween:at,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function ct(e,t){var n=dt(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function ut(e,t){var n=dt(e,t);if(n.state>3)throw new Error("too late; already running");return n}function dt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ft(e,t){var n,r,o,s=e.__transition,i=!0;if(s){for(o in t=null==t?null:t+"",s)(n=s[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete s[o]):i=!1;i&&delete e.__transition}}function pt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ht,mt=180/Math.PI,gt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yt(e,t,n,r,o,s){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*mt,skewX:Math.atan(l)*mt,scaleX:i,scaleY:a}}function vt(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(s,i){var a=[],l=[];return s=e(s),i=e(i),function(e,r,o,s,i,a){if(e!==o||r!==s){var l=i.push("translate(",null,t,null,n);a.push({i:l-4,x:pt(e,o)},{i:l-2,x:pt(r,s)})}else(o||s)&&i.push("translate("+o+t+s+n)}(s.translateX,s.translateY,i.translateX,i.translateY,a,l),function(e,t,n,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:n.push(o(n)+"rotate(",null,r)-2,x:pt(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(s.rotate,i.rotate,a,l),function(e,t,n,s){e!==t?s.push({i:n.push(o(n)+"skewX(",null,r)-2,x:pt(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(s.skewX,i.skewX,a,l),function(e,t,n,r,s,i){if(e!==n||t!==r){var a=s.push(o(s)+"scale(",null,",",null,")");i.push({i:a-4,x:pt(e,n)},{i:a-2,x:pt(t,r)})}else 1===n&&1===r||s.push(o(s)+"scale("+n+","+r+")")}(s.scaleX,s.scaleY,i.scaleX,i.scaleY,a,l),s=i=null,function(e){for(var t,n=-1,r=l.length;++n<r;)a[(t=l[n]).i]=t.x(e);return a.join("")}}}var bt=vt(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gt:yt(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),wt=vt(function(e){return null==e?gt:(ht||(ht=document.createElementNS("http://www.w3.org/2000/svg","g")),ht.setAttribute("transform",e),(e=ht.transform.baseVal.consolidate())?yt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):gt)},", ",")",")");function xt(e,t){var n,r;return function(){var o=ut(this,e),s=o.tween;if(s!==n)for(var i=0,a=(r=n=s).length;i<a;++i)if(r[i].name===t){(r=r.slice()).splice(i,1);break}o.tween=r}}function kt(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var s=ut(this,e),i=s.tween;if(i!==r){o=(r=i).slice();for(var a={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=a;break}l===c&&o.push(a)}s.tween=o}}function St(e,t,n){var r=e._id;return e.each(function(){var e=ut(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return dt(e,r).value[t]}}function Et(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Nt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _t(){}var Ct=.7,jt=1/Ct,Ot="\\s*([+-]?\\d+)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",At=/^#([0-9a-f]{3,8})$/,It=new RegExp(`^rgb\\(${Ot},${Ot},${Ot}\\)$`),Pt=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),Lt=new RegExp(`^rgba\\(${Ot},${Ot},${Ot},${Tt}\\)$`),Dt=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${Tt}\\)$`),$t=new RegExp(`^hsl\\(${Tt},${Mt},${Mt}\\)$`),Rt=new RegExp(`^hsla\\(${Tt},${Mt},${Mt},${Tt}\\)$`),zt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qt(){return this.rgb().formatHex()}function Bt(){return this.rgb().formatRgb()}function Ft(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=At.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Vt(t):3===n?new Kt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ut(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ut(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=It.exec(e))?new Kt(t[1],t[2],t[3],1):(t=Pt.exec(e))?new Kt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Lt.exec(e))?Ut(t[1],t[2],t[3],t[4]):(t=Dt.exec(e))?Ut(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=$t.exec(e))?Qt(t[1],t[2]/100,t[3]/100,1):(t=Rt.exec(e))?Qt(t[1],t[2]/100,t[3]/100,t[4]):zt.hasOwnProperty(e)?Vt(zt[e]):"transparent"===e?new Kt(NaN,NaN,NaN,0):null}function Vt(e){return new Kt(e>>16&255,e>>8&255,255&e,1)}function Ut(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kt(e,t,n,r)}function Ht(e,t,n,r){return 1===arguments.length?((o=e)instanceof _t||(o=Ft(o)),o?new Kt((o=o.rgb()).r,o.g,o.b,o.opacity):new Kt):new Kt(e,t,n,null==r?1:r);var o}function Kt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Wt(){return`#${Zt(this.r)}${Zt(this.g)}${Zt(this.b)}`}function Xt(){const e=Yt(this.opacity);return`${1===e?"rgb(":"rgba("}${Gt(this.r)}, ${Gt(this.g)}, ${Gt(this.b)}${1===e?")":`, ${e})`}`}function Yt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zt(e){return((e=Gt(e))<16?"0":"")+e.toString(16)}function Qt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new en(e,t,n,r)}function Jt(e){if(e instanceof en)return new en(e.h,e.s,e.l,e.opacity);if(e instanceof _t||(e=Ft(e)),!e)return new en;if(e instanceof en)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),s=Math.max(t,n,r),i=NaN,a=s-o,l=(s+o)/2;return a?(i=t===s?(n-r)/a+6*(n<r):n===s?(r-t)/a+2:(t-n)/a+4,a/=l<.5?s+o:2-s-o,i*=60):a=l>0&&l<1?0:i,new en(i,a,l,e.opacity)}function en(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function tn(e){return(e=(e||0)%360)<0?e+360:e}function nn(e){return Math.max(0,Math.min(1,e||0))}function rn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function on(e,t,n,r,o){var s=e*e,i=s*e;return((1-3*e+3*s-i)*t+(4-6*s+3*i)*n+(1+3*e+3*s-3*i)*r+i*o)/6}Et(_t,Ft,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qt,formatHex:qt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Jt(this).formatHsl()},formatRgb:Bt,toString:Bt}),Et(Kt,Ht,Nt(_t,{brighter(e){return e=null==e?jt:Math.pow(jt,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Ct:Math.pow(Ct,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kt(Gt(this.r),Gt(this.g),Gt(this.b),Yt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wt,formatHex:Wt,formatHex8:function(){return`#${Zt(this.r)}${Zt(this.g)}${Zt(this.b)}${Zt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Xt,toString:Xt})),Et(en,function(e,t,n,r){return 1===arguments.length?Jt(e):new en(e,t,n,null==r?1:r)},Nt(_t,{brighter(e){return e=null==e?jt:Math.pow(jt,e),new en(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Ct:Math.pow(Ct,e),new en(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Kt(rn(e>=240?e-240:e+120,o,r),rn(e,o,r),rn(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new en(tn(this.h),nn(this.s),nn(this.l),Yt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yt(this.opacity);return`${1===e?"hsl(":"hsla("}${tn(this.h)}, ${100*nn(this.s)}%, ${100*nn(this.l)}%${1===e?")":`, ${e})`}`}}));const sn=e=>()=>e;function an(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):sn(isNaN(e)?t:e)}const ln=function e(t){var n=function(e){return 1===(e=+e)?an:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):sn(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=Ht(e)).r,(t=Ht(t)).r),o=n(e.g,t.g),s=n(e.b,t.b),i=an(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=s(t),e.opacity=i(t),e+""}}return r.gamma=e,r}(1);function cn(e){return function(t){var n,r,o=t.length,s=new Array(o),i=new Array(o),a=new Array(o);for(n=0;n<o;++n)r=Ht(t[n]),s[n]=r.r||0,i[n]=r.g||0,a[n]=r.b||0;return s=e(s),i=e(i),a=e(a),r.opacity=1,function(e){return r.r=s(e),r.g=i(e),r.b=a(e),r+""}}}cn(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],s=e[r+1],i=r>0?e[r-1]:2*o-s,a=r<t-1?e[r+2]:2*s-o;return on((n-r/t)*t,i,o,s,a)}}),cn(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],s=e[r%t],i=e[(r+1)%t],a=e[(r+2)%t];return on((n-r/t)*t,o,s,i,a)}});var un=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dn=new RegExp(un.source,"g");function fn(e,t){var n,r,o,s=un.lastIndex=dn.lastIndex=0,i=-1,a=[],l=[];for(e+="",t+="";(n=un.exec(e))&&(r=dn.exec(t));)(o=r.index)>s&&(o=t.slice(s,o),a[i]?a[i]+=o:a[++i]=o),(n=n[0])===(r=r[0])?a[i]?a[i]+=r:a[++i]=r:(a[++i]=null,l.push({i,x:pt(n,r)})),s=dn.lastIndex;return s<t.length&&(o=t.slice(s),a[i]?a[i]+=o:a[++i]=o),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function pn(e,t){var n;return("number"==typeof t?pt:t instanceof Ft?ln:(n=Ft(t))?(t=n,ln):fn)(e,t)}function hn(e){return function(){this.removeAttribute(e)}}function mn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gn(e,t,n){var r,o,s=n+"";return function(){var i=this.getAttribute(e);return i===s?null:i===r?o:o=t(r=i,n)}}function yn(e,t,n){var r,o,s=n+"";return function(){var i=this.getAttributeNS(e.space,e.local);return i===s?null:i===r?o:o=t(r=i,n)}}function vn(e,t,n){var r,o,s;return function(){var i,a,l=n(this);if(null!=l)return(i=this.getAttribute(e))===(a=l+"")?null:i===r&&a===o?s:(o=a,s=t(r=i,l));this.removeAttribute(e)}}function bn(e,t,n){var r,o,s;return function(){var i,a,l=n(this);if(null!=l)return(i=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:i===r&&a===o?s:(o=a,s=t(r=i,l));this.removeAttributeNS(e.space,e.local)}}function wn(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function xn(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function kn(e,t){return function(){ct(this,e).delay=+t.apply(this,arguments)}}function Sn(e,t){return t=+t,function(){ct(this,e).delay=t}}function En(e,t){return function(){ut(this,e).duration=+t.apply(this,arguments)}}function Nn(e,t){return t=+t,function(){ut(this,e).duration=t}}var _n=Ee.prototype.constructor;function Cn(e){return function(){this.style.removeProperty(e)}}var jn=0;function On(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Tn(){return++jn}var Mn=Ee.prototype;On.prototype=function(e){return Ee().transition(e)}.prototype={constructor:On,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=h(e));for(var r=this._groups,o=r.length,s=new Array(o),i=0;i<o;++i)for(var a,l,c=r[i],u=c.length,d=s[i]=new Array(u),f=0;f<u;++f)(a=c[f])&&(l=e.call(a,a.__data__,f,c))&&("__data__"in a&&(l.__data__=a.__data__),d[f]=l,lt(d[f],t,n,f,d,dt(a,n)));return new On(s,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=g(e));for(var r=this._groups,o=r.length,s=[],i=[],a=0;a<o;++a)for(var l,c=r[a],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var f,p=e.call(l,l.__data__,d,c),h=dt(l,n),m=0,y=p.length;m<y;++m)(f=p[m])&&lt(f,t,n,m,p,h);s.push(p),i.push(l)}return new On(s,i,t,n)},selectChild:Mn.selectChild,selectChildren:Mn.selectChildren,filter:function(e){"function"!=typeof e&&(e=y(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s,i=t[o],a=i.length,l=r[o]=[],c=0;c<a;++c)(s=i[c])&&e.call(s,s.__data__,c,i)&&l.push(s);return new On(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,s=Math.min(r,o),i=new Array(r),a=0;a<s;++a)for(var l,c=t[a],u=n[a],d=c.length,f=i[a]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(f[p]=l);for(;a<r;++a)i[a]=t[a];return new On(i,this._parents,this._name,this._id)},selection:function(){return new _n(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Tn(),r=this._groups,o=r.length,s=0;s<o;++s)for(var i,a=r[s],l=a.length,c=0;c<l;++c)if(i=a[c]){var u=dt(i,t);lt(i,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new On(r,this._parents,e,n)},call:Mn.call,nodes:Mn.nodes,node:Mn.node,size:Mn.size,empty:Mn.empty,each:Mn.each,on:function(e,t){var n=this._id;return arguments.length<2?dt(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,s=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?ct:ut;return function(){var i=s(this,e),a=i.on;a!==r&&(o=(r=a).copy()).on(t,n),i.on=o}}(n,e,t))},attr:function(e,t){var n=A(e),r="transform"===n?wt:pn;return this.attrTween(e,"function"==typeof t?(n.local?bn:vn)(n,r,St(this,"attr."+e,t)):null==t?(n.local?mn:hn)(n):(n.local?yn:gn)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=A(e);return this.tween(n,(r.local?wn:xn)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?bt:pn;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var s=V(this,e),i=(this.style.removeProperty(e),V(this,e));return s===i?null:s===n&&i===r?o:o=t(n=s,r=i)}}(e,r)).on("end.style."+e,Cn(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,s;return function(){var i=V(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=V(this,e)),i===l?null:i===r&&l===o?s:(o=l,s=t(r=i,a))}}(e,r,St(this,"style."+e,t))).each(function(e,t){var n,r,o,s,i="style."+t,a="end."+i;return function(){var l=ut(this,e),c=l.on,u=null==l.value[i]?s||(s=Cn(t)):void 0;c===n&&o===u||(r=(n=c).copy()).on(a,o=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,s=n+"";return function(){var i=V(this,e);return i===s?null:i===r?o:o=t(r=i,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function s(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,s,n)),r}return s._value=t,s}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(St(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=dt(this.node(),n).tween,s=0,i=o.length;s<i;++s)if((r=o[s]).name===e)return r.value;return null}return this.each((null==t?xt:kt)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?kn:Sn)(t,e)):dt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?En:Nn)(t,e)):dt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){ut(this,e).ease=t}}(t,e)):dt(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;ut(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(s,i){var a={value:i},l={value:function(){0===--o&&s()}};n.each(function(){var n=ut(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t}),0===o&&s()})},[Symbol.iterator]:Mn[Symbol.iterator]};var An={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function In(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Ee.prototype.interrupt=function(e){return this.each(function(){ft(this,e)})},Ee.prototype.transition=function(e){var t,n;e instanceof On?(t=e._id,e=e._name):(t=Tn(),(n=An).time=Qe(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var i,a=r[s],l=a.length,c=0;c<l;++c)(i=a[c])&&lt(i,e,t,c,a,n||In(i,t));return new On(r,this._parents,e,t)};const Pn=e=>()=>e;function Ln(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Dn(e,t,n){this.k=e,this.x=t,this.y=n}Dn.prototype={constructor:Dn,scale:function(e){return 1===e?this:new Dn(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Dn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $n=new Dn(1,0,0);function Rn(e){for(;!e.__zoom;)if(!(e=e.parentNode))return $n;return e.__zoom}function zn(e){e.stopImmediatePropagation()}function qn(e){e.preventDefault(),e.stopImmediatePropagation()}function Bn(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function Fn(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Vn(){return this.__zoom||$n}function Un(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Hn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kn(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function Wn(){var e,t,n,r=Bn,o=Fn,s=Kn,i=Un,a=Hn,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Be,p=f("start","zoom","end"),h=0,m=10;function g(e){e.property("__zoom",Vn).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",N).filter(a).on("touchstart.zoom",_).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new Dn(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new Dn(e.k,r,o)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,r){e.on("start.zoom",function(){x(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,s=arguments,i=x(e,s).event(r),a=o.apply(e,s),l=null==n?b(a):"function"==typeof n?n.apply(e,s):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=e.__zoom,f="function"==typeof t?t.apply(e,s):t,p=d(u.invert(l).concat(c/u.k),f.invert(l).concat(c/f.k));return function(e){if(1===e)e=f;else{var t=p(e),n=c/t[2];e=new Dn(n,l[0]-t[0]*n,l[1]-t[1]*n)}i.zoom(null,e)}})}function x(e,t,n){return!n&&e.__zooming||new k(e,t)}function k(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function S(e,...t){if(r.apply(this,arguments)){var n=x(this,t).event(e),o=this.__zoom,a=Math.max(l[0],Math.min(l[1],o.k*Math.pow(2,i.apply(this,arguments)))),u=_e(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=o.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(o.k===a)return;n.mouse=[u,o.invert(u)],ft(this),n.start()}qn(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",s(v(y(o,a),n.mouse[0],n.mouse[1]),n.extent,c))}}function E(e,...t){if(!n&&r.apply(this,arguments)){var o=e.currentTarget,i=x(this,t,!0).event(e),a=Ne(e.view).on("mousemove.zoom",function(e){if(qn(e),!i.moved){var t=e.clientX-u,n=e.clientY-d;i.moved=t*t+n*n>h}i.event(e).zoom("mouse",s(v(i.that.__zoom,i.mouse[0]=_e(e,o),i.mouse[1]),i.extent,c))},!0).on("mouseup.zoom",function(e){a.on("mousemove.zoom mouseup.zoom",null),Ae(e.view,i.moved),qn(e),i.event(e).end()},!0),l=_e(e,o),u=e.clientX,d=e.clientY;Me(e.view),zn(e),i.mouse=[l,this.__zoom.invert(l)],ft(this),i.start()}}function N(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,i=_e(e.changedTouches?e.changedTouches[0]:e,this),a=n.invert(i),l=n.k*(e.shiftKey?.5:2),d=s(v(y(n,l),i,a),o.apply(this,t),c);qn(e),u>0?Ne(this).transition().duration(u).call(w,d,i,e):Ne(this).call(g.transform,d,i,e)}}function _(n,...o){if(r.apply(this,arguments)){var s,i,a,l,c=n.touches,u=c.length,d=x(this,o,n.changedTouches.length===u).event(n);for(zn(n),i=0;i<u;++i)l=[l=_e(a=c[i],this),this.__zoom.invert(l),a.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,s=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(d.taps<2&&(t=l[0],e=setTimeout(function(){e=null},500)),ft(this),d.start())}}function C(e,...t){if(this.__zooming){var n,r,o,i,a=x(this,t).event(e),l=e.changedTouches,u=l.length;for(qn(e),n=0;n<u;++n)o=_e(r=l[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=o:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=o);if(r=a.that.__zoom,a.touch1){var d=a.touch0[0],f=a.touch0[1],p=a.touch1[0],h=a.touch1[1],m=(m=p[0]-d[0])*m+(m=p[1]-d[1])*m,g=(g=h[0]-f[0])*g+(g=h[1]-f[1])*g;r=y(r,Math.sqrt(m/g)),o=[(d[0]+p[0])/2,(d[1]+p[1])/2],i=[(f[0]+h[0])/2,(f[1]+h[1])/2]}else{if(!a.touch0)return;o=a.touch0[0],i=a.touch0[1]}a.zoom("touch",s(v(r,o,i),a.extent,c))}}function j(e,...r){if(this.__zooming){var o,s,i=x(this,r).event(e),a=e.changedTouches,l=a.length;for(zn(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),o=0;o<l;++o)s=a[o],i.touch0&&i.touch0[2]===s.identifier?delete i.touch0:i.touch1&&i.touch1[2]===s.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps&&(s=_e(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<m)){var c=Ne(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return g.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",Vn),e!==o?w(e,t,n,r):o.interrupt().each(function(){x(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},g.scaleBy=function(e,t,n,r){g.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)},n,r)},g.scaleTo=function(e,t,n,r){g.transform(e,function(){var e=o.apply(this,arguments),r=this.__zoom,i=null==n?b(e):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(i),l="function"==typeof t?t.apply(this,arguments):t;return s(v(y(r,l),i,a),e,c)},n,r)},g.translateBy=function(e,t,n,r){g.transform(e,function(){return s(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),c)},null,r)},g.translateTo=function(e,t,n,r,i){g.transform(e,function(){var e=o.apply(this,arguments),i=this.__zoom,a=null==r?b(e):"function"==typeof r?r.apply(this,arguments):r;return s($n.translate(a[0],a[1]).scale(i.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)},r,i)},k.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Ne(this.that).datum();p.call(e,this.that,new Ln(e,{sourceEvent:this.sourceEvent,target:g,type:e,transform:this.that.__zoom,dispatch:p}),t)}},g.wheelDelta=function(e){return arguments.length?(i="function"==typeof e?e:Pn(+e),g):i},g.filter=function(e){return arguments.length?(r="function"==typeof e?e:Pn(!!e),g):r},g.touchable=function(e){return arguments.length?(a="function"==typeof e?e:Pn(!!e),g):a},g.extent=function(e){return arguments.length?(o="function"==typeof e?e:Pn([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),g):o},g.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],g):[l[0],l[1]]},g.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(e){return arguments.length?(s=e,g):s},g.duration=function(e){return arguments.length?(u=+e,g):u},g.interpolate=function(e){return arguments.length?(d=e,g):d},g.on=function(){var e=p.on.apply(p,arguments);return e===p?g:e},g.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,g):Math.sqrt(h)},g.tapDistance=function(e){return arguments.length?(m=+e,g):m},g}function Xn(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,s=new Array(o),i=new Array(r);for(n=0;n<o;++n)s[n]=Qn(e[n],t[n]);for(;n<r;++n)i[n]=t[n];return function(e){for(n=0;n<o;++n)i[n]=s[n](e);return i}}function Yn(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Gn(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Qn(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}function Zn(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(s){for(n=0;n<r;++n)o[n]=e[n]*(1-s)+t[n]*s;return o}}function Qn(e,t){var n,r,o=typeof t;return null==t||"boolean"===o?sn(t):("number"===o?pt:"string"===o?(n=Ft(t))?(t=n,ln):fn:t instanceof Ft?ln:t instanceof Date?Yn:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Xn:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Gn:pt:Zn))(e,t)}Rn.prototype=Dn.prototype;const Jn=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],er=["Enter"," ","Escape"],tr={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var nr,rr,or;!function(e){e.Strict="strict",e.Loose="loose"}(nr||(nr={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(rr||(rr={})),function(e){e.Partial="partial",e.Full="full"}(or||(or={}));const sr={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ir,ar,lr;!function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(ir||(ir={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(ar||(ar={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(lr||(lr={}));const cr={[lr.Left]:lr.Right,[lr.Right]:lr.Left,[lr.Top]:lr.Bottom,[lr.Bottom]:lr.Top};function ur(e){return null===e?null:e?"valid":"invalid"}const dr=e=>"id"in e&&"source"in e&&"target"in e,fr=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),pr=(e,t=[0,0])=>{const{width:n,height:r}=zr(e),o=e.origin??t,s=n*o[0],i=r*o[1];return{x:e.position.x-s,y:e.position.y-i}},hr=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(e=>{(void 0===t.filter||t.filter(e))&&(n=kr(n,_r(e)),r=!0)}),r?Er(n):{x:0,y:0,width:0,height:0}},mr=(e,t,[n,r,o]=[0,0,1],s=!1,i=!1)=>{const a={...Ir(t,[n,r,o]),width:t.width/o,height:t.height/o},l=[];for(const t of e.values()){const{measured:e,selectable:n=!0,hidden:r=!1}=t;if(i&&!n||r)continue;const o=e.width??t.width??t.initialWidth??null,c=e.height??t.height??t.initialHeight??null,u=jr(a,Nr(t)),d=(o??0)*(c??0),f=s&&u>0;(!t.internals.handleBounds||f||u>=d||t.dragging)&&l.push(t)}return l};function gr({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:s}){const i=n.get(e),a=i.parentId?n.get(i.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=i.origin??r;let d=i.extent||o;if("parent"!==i.extent||i.expandParent)a&&Rr(i.extent)&&(d=[[i.extent[0][0]+l,i.extent[0][1]+c],[i.extent[1][0]+l,i.extent[1][1]+c]]);else if(a){const e=a.measured.width,t=a.measured.height;e&&t&&(d=[[l,c],[l+e,c+t]])}else s?.("005","Only child nodes can use a parent extent.");const f=Rr(d)?vr(t,d,i.measured):t;return void 0!==i.measured.width&&void 0!==i.measured.height||s?.("015","It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."),{position:{x:f.x-l+(i.measured.width??0)*u[0],y:f.y-c+(i.measured.height??0)*u[1]},positionAbsolute:f}}const yr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),vr=(e={x:0,y:0},t,n)=>({x:yr(e.x,t[0][0],t[1][0]-(n?.width??0)),y:yr(e.y,t[0][1],t[1][1]-(n?.height??0))});function br(e,t,n){const{width:r,height:o}=zr(n),{x:s,y:i}=n.internals.positionAbsolute;return vr(e,[[s,i],[s+r,i+o]],t)}const wr=(e,t,n)=>e<t?yr(Math.abs(e-t),1,t)/t:e>n?-yr(Math.abs(e-n),1,t)/t:0,xr=(e,t,n=15,r=40)=>[wr(e.x,r,t.width-r)*n,wr(e.y,r,t.height-r)*n],kr=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Sr=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Er=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Nr=(e,t=[0,0])=>{const{x:n,y:r}=fr(e)?e.internals.positionAbsolute:pr(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},_r=(e,t=[0,0])=>{const{x:n,y:r}=fr(e)?e.internals.positionAbsolute:pr(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},Cr=(e,t)=>Er(kr(Sr(e),Sr(t))),jr=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Or=e=>Tr(e.width)&&Tr(e.height)&&Tr(e.x)&&Tr(e.y),Tr=e=>!isNaN(e)&&isFinite(e),Mr=(e,t)=>{},Ar=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Ir=({x:e,y:t},[n,r,o],s=!1,i=[1,1])=>{const a={x:(e-n)/o,y:(t-r)/o};return s?Ar(a,i):a},Pr=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Lr(e,t){if("number"==typeof e)return Math.floor(.5*(t-t/(1+e)));if("string"==typeof e&&e.endsWith("px")){const t=parseFloat(e);if(!Number.isNaN(t))return Math.floor(t)}if("string"==typeof e&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}const Dr=(e,t,n,r,o,s)=>{const i=function(e,t,n){if("string"==typeof e||"number"==typeof e){const r=Lr(e,n),o=Lr(e,t);return{top:r,right:o,bottom:r,left:o,x:2*o,y:2*r}}if("object"==typeof e){const r=Lr(e.top??e.y??0,n),o=Lr(e.bottom??e.y??0,n),s=Lr(e.left??e.x??0,t),i=Lr(e.right??e.x??0,t);return{top:r,right:i,bottom:o,left:s,x:s+i,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(s,t,n),a=(t-i.x)/e.width,l=(n-i.y)/e.height,c=Math.min(a,l),u=yr(c,r,o),d=t/2-(e.x+e.width/2)*u,f=n/2-(e.y+e.height/2)*u,p=function(e,t,n,r,o,s){const{x:i,y:a}=Pr(e,[t,n,r]),{x:l,y:c}=Pr({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=o-l,d=s-c;return{left:Math.floor(i),top:Math.floor(a),right:Math.floor(u),bottom:Math.floor(d)}}(e,d,f,u,t,n),h=Math.min(p.left-i.left,0),m=Math.min(p.top-i.top,0);return{x:d-h+Math.min(p.right-i.right,0),y:f-m+Math.min(p.bottom-i.bottom,0),zoom:u}},$r=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function Rr(e){return null!=e&&"parent"!==e}function zr(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function qr(e){return void 0!==(e.measured?.width??e.width??e.initialWidth)&&void 0!==(e.measured?.height??e.height??e.initialHeight)}function Br(e,t={width:0,height:0},n,r,o){const s={...e},i=r.get(n);if(i){const e=i.origin||o;s.x+=i.internals.positionAbsolute.x-(t.width??0)*e[0],s.y+=i.internals.positionAbsolute.y-(t.height??0)*e[1]}return s}function Fr(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Vr(e){return{...tr,...e||{}}}function Ur(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:s,y:i}=Gr(e),a=Ir({x:s-(o?.left??0),y:i-(o?.top??0)},r),{x:l,y:c}=n?Ar(a,t):a;return{xSnapped:l,ySnapped:c,...a}}const Hr=e=>({width:e.offsetWidth,height:e.offsetHeight}),Kr=e=>e?.getRootNode?.()||window?.document,Wr=["INPUT","SELECT","TEXTAREA"];function Xr(e){const t=e.composedPath?.()?.[0]||e.target;return 1===t?.nodeType&&(Wr.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey"))}const Yr=e=>"clientX"in e,Gr=(e,t)=>{const n=Yr(e),r=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:o-(t?.top??0)}},Zr=(e,t,n,r,o)=>{const s=t.querySelectorAll(`.${e}`);return s&&s.length?Array.from(s).map(t=>{const s=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),type:e,nodeId:o,position:t.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...Hr(t)}}):null};function Qr({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:i,targetControlY:a}){const l=.125*e+.375*o+.375*i+.125*n,c=.125*t+.375*s+.375*a+.125*r;return[l,c,Math.abs(l-e),Math.abs(c-t)]}function Jr(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function eo({pos:e,x1:t,y1:n,x2:r,y2:o,c:s}){switch(e){case lr.Left:return[t-Jr(t-r,s),n];case lr.Right:return[t+Jr(r-t,s),n];case lr.Top:return[t,n-Jr(n-o,s)];case lr.Bottom:return[t,n+Jr(o-n,s)]}}function to({sourceX:e,sourceY:t,sourcePosition:n=lr.Bottom,targetX:r,targetY:o,targetPosition:s=lr.Top,curvature:i=.25}){const[a,l]=eo({pos:n,x1:e,y1:t,x2:r,y2:o,c:i}),[c,u]=eo({pos:s,x1:r,y1:o,x2:e,y2:t,c:i}),[d,f,p,h]=Qr({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${l} ${c},${u} ${r},${o}`,d,f,p,h]}function no({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,i=Math.abs(r-t)/2;return[s,r<t?r+i:r-i,o,i]}function ro({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const s=kr(_r(e),_r(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const i={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return jr(i,Er(s))>0}const oo=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`;function so({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,s,i,a]=no({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,s,i,a]}const io={[lr.Left]:{x:-1,y:0},[lr.Right]:{x:1,y:0},[lr.Top]:{x:0,y:-1},[lr.Bottom]:{x:0,y:1}},ao=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function lo({sourceX:e,sourceY:t,sourcePosition:n=lr.Bottom,targetX:r,targetY:o,targetPosition:s=lr.Top,borderRadius:i=5,centerX:a,centerY:l,offset:c=20,stepPosition:u=.5}){const[d,f,p,h,m]=function({source:e,sourcePosition:t=lr.Bottom,target:n,targetPosition:r=lr.Top,center:o,offset:s,stepPosition:i}){const a=io[t],l=io[r],c={x:e.x+a.x*s,y:e.y+a.y*s},u={x:n.x+l.x*s,y:n.y+l.y*s},d=(({source:e,sourcePosition:t=lr.Bottom,target:n})=>t===lr.Left||t===lr.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1})({source:c,sourcePosition:t,target:u}),f=0!==d.x?"x":"y",p=d[f];let h,m,g=[];const y={x:0,y:0},v={x:0,y:0},[,,b,w]=no({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*l[f]===-1){"x"===f?(h=o.x??c.x+(u.x-c.x)*i,m=o.y??(c.y+u.y)/2):(h=o.x??(c.x+u.x)/2,m=o.y??c.y+(u.y-c.y)*i);const e=[{x:h,y:c.y},{x:h,y:u.y}],t=[{x:c.x,y:m},{x:u.x,y:m}];g=a[f]===p?"x"===f?e:t:"x"===f?t:e}else{const o=[{x:c.x,y:u.y}],i=[{x:u.x,y:c.y}];if(g="x"===f?a.x===p?i:o:a.y===p?o:i,t===r){const t=Math.abs(e[f]-n[f]);if(t<=s){const r=Math.min(s-1,s-t);a[f]===p?y[f]=(c[f]>e[f]?-1:1)*r:v[f]=(u[f]>n[f]?-1:1)*r}}if(t!==r){const e="x"===f?"y":"x",t=a[f]===l[e],n=c[e]>u[e],r=c[e]<u[e];(1===a[f]&&(!t&&n||t&&r)||1!==a[f]&&(!t&&r||t&&n))&&(g="x"===f?o:i)}const d={x:c.x+y.x,y:c.y+y.y},b={x:u.x+v.x,y:u.y+v.y};Math.max(Math.abs(d.x-g[0].x),Math.abs(b.x-g[0].x))>=Math.max(Math.abs(d.y-g[0].y),Math.abs(b.y-g[0].y))?(h=(d.x+b.x)/2,m=g[0].y):(h=g[0].x,m=(d.y+b.y)/2)}return[[e,{x:c.x+y.x,y:c.y+y.y},...g,{x:u.x+v.x,y:u.y+v.y},n],h,m,b,w]}({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:s,center:{x:a,y:l},offset:c,stepPosition:u});return[d.reduce((e,t,n)=>{let r="";return r=n>0&&n<d.length-1?function(e,t,n,r){const o=Math.min(ao(e,t)/2,ao(t,n)/2,r),{x:s,y:i}=t;if(e.x===s&&s===n.x||e.y===i&&i===n.y)return`L${s} ${i}`;if(e.y===i)return`L ${s+o*(e.x<n.x?-1:1)},${i}Q ${s},${i} ${s},${i+o*(e.y<n.y?1:-1)}`;const a=e.x<n.x?1:-1;return`L ${s},${i+o*(e.y<n.y?-1:1)}Q ${s},${i} ${s+o*a},${i}`}(d[n-1],t,d[n+1],i):`${0===n?"M":"L"}${t.x} ${t.y}`,e+r},""),f,p,h,m]}function co(e){return e&&!(!e.internals.handleBounds&&!e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function uo(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,"source"===r.type?t.push(r):"target"===r.type&&n.push(r);return{source:t,target:n}}function fo(e,t,n=lr.Left,r=!1){const o=(t?.x??0)+e.internals.positionAbsolute.x,s=(t?.y??0)+e.internals.positionAbsolute.y,{width:i,height:a}=t??zr(e);if(r)return{x:o+i/2,y:s+a/2};switch(t?.position??n){case lr.Top:return{x:o+i/2,y:s};case lr.Right:return{x:o+i,y:s+a/2};case lr.Bottom:return{x:o+i/2,y:s+a};case lr.Left:return{x:o,y:s+a/2}}}function po(e,t){return e&&(t?e.find(e=>e.id===t):e[0])||null}function ho(e,t){return e?"string"==typeof e?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`:""}const mo={nodeOrigin:[0,0],nodeExtent:Jn,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},go={...mo,checkEquality:!0};function yo(e,t){const n={...e};for(const e in t)void 0!==t[e]&&(n[e]=t[e]);return n}function vo(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;const n=[],r=[];for(const t of e.handles){const o={id:t.id,width:t.width??1,height:t.height??1,nodeId:e.id,x:t.x,y:t.y,position:t.position,type:t.type};"source"===t.type?n.push(o):"target"===t.type&&r.push(o)}return{source:n,target:r}}function bo(e){return"manual"===e}function wo(e,t,n,r={}){const o=yo(go,r),s={i:0},i=new Map(t),a=o?.elevateNodesOnSelect&&!bo(o.zIndexMode)?1e3:0;let l=e.length>0;t.clear(),n.clear();for(const c of e){let e=i.get(c.id);if(o.checkEquality&&c===e?.internals.userNode)t.set(c.id,e);else{const n=pr(c,o.nodeOrigin),r=Rr(c.extent)?c.extent:o.nodeExtent,s=vr(n,r,zr(c));e={...o.defaults,...c,measured:{width:c.measured?.width,height:c.measured?.height},internals:{positionAbsolute:s,handleBounds:vo(c,e),z:ko(c,a,o.zIndexMode),userNode:c}},t.set(c.id,e)}void 0!==e.measured&&void 0!==e.measured.width&&void 0!==e.measured.height||e.hidden||(l=!1),c.parentId&&xo(e,t,n,r,s)}return l}function xo(e,t,n,r,o){const{elevateNodesOnSelect:s,nodeOrigin:i,nodeExtent:a,zIndexMode:l}=yo(mo,r),c=e.parentId,u=t.get(c);if(!u)return void console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);!function(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}(e,n),o&&!u.parentId&&void 0===u.internals.rootParentIndex&&"auto"===l&&(u.internals.rootParentIndex=++o.i,u.internals.z=u.internals.z+10*o.i),o&&void 0!==u.internals.rootParentIndex&&(o.i=u.internals.rootParentIndex);const d=s&&!bo(l)?1e3:0,{x:f,y:p,z:h}=function(e,t,n,r,o,s){const{x:i,y:a}=t.internals.positionAbsolute,l=zr(e),c=pr(e,n),u=Rr(e.extent)?vr(c,e.extent,l):c;let d=vr({x:i+u.x,y:a+u.y},r,l);"parent"===e.extent&&(d=br(d,l,t));const f=ko(e,o,s),p=t.internals.z??0;return{x:d.x,y:d.y,z:p>=f?p+1:f}}(e,u,i,a,d,l),{positionAbsolute:m}=e.internals,g=f!==m.x||p!==m.y;(g||h!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:f,y:p}:m,z:h}})}function ko(e,t,n){const r=Tr(e.zIndex)?e.zIndex:0;return bo(n)?r:r+(e.selected?t:0)}function So(e,t,n,r=[0,0]){const o=[],s=new Map;for(const n of e){const e=t.get(n.parentId);if(!e)continue;const r=s.get(n.parentId)?.expandedRect??Nr(e),o=Cr(r,n.rect);s.set(n.parentId,{expandedRect:o,parent:e})}return s.size>0&&s.forEach(({expandedRect:t,parent:s},i)=>{const a=s.internals.positionAbsolute,l=zr(s),c=s.origin??r,u=t.x<a.x?Math.round(Math.abs(a.x-t.x)):0,d=t.y<a.y?Math.round(Math.abs(a.y-t.y)):0,f=Math.max(l.width,Math.round(t.width)),p=Math.max(l.height,Math.round(t.height)),h=(f-l.width)*c[0],m=(p-l.height)*c[1];(u>0||d>0||h||m)&&(o.push({id:i,type:"position",position:{x:s.position.x-u+h,y:s.position.y-d+m}}),n.get(i)?.forEach(t=>{e.some(e=>e.id===t.id)||o.push({id:t.id,type:"position",position:{x:t.position.x+u,y:t.position.y+d}})})),(l.width<t.width||l.height<t.height||u||d)&&o.push({id:i,type:"dimensions",setAttributes:!0,dimensions:{width:f+(u?c[0]*u-h:0),height:p+(d?c[1]*d-m:0)}})}),o}function Eo(e,t,n,r,o,s){let i=o;const a=r.get(i)||new Map;r.set(i,a.set(n,t)),i=`${o}-${e}`;const l=r.get(i)||new Map;if(r.set(i,l.set(n,t)),s){i=`${o}-${e}-${s}`;const a=r.get(i)||new Map;r.set(i,a.set(n,t))}}function No(e,t,n){e.clear(),t.clear();for(const r of n){const{source:n,target:o,sourceHandle:s=null,targetHandle:i=null}=r,a={edgeId:r.id,source:n,target:o,sourceHandle:s,targetHandle:i},l=`${n}-${s}--${o}-${i}`;Eo("source",a,`${o}-${i}--${n}-${s}`,e,n,s),Eo("target",a,l,e,o,i),t.set(r.id,r)}}function _o(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return!!n&&(!!n.selected||_o(n,t))}function Co(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function jo({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const o=[];for(const[e,s]of t){const t=n.get(e)?.internals.userNode;t&&o.push({...t,position:s.position,dragging:r})}if(!e)return[o[0],o];const s=n.get(e)?.internals.userNode;return[s?{...s,position:t.get(e)?.position||s.position,dragging:r}:o[0],o]}function Oo(e,t,n,r,o,s=!1){const i=r.get(e);if(!i)return null;const a="strict"===o?i.internals.handleBounds?.[t]:[...i.internals.handleBounds?.source??[],...i.internals.handleBounds?.target??[]],l=(n?a?.find(e=>e.id===n):a?.[0])??null;return l&&s?{...l,...fo(i,l,l.position,!0)}:l}function To(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}const Mo=()=>!0;function Ao(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:s,doc:i,lib:a,flowId:l,isValidConnection:c=Mo,nodeLookup:u}){const d="target"===s,f=t?i.querySelector(`.${a}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:p,y:h}=Gr(e),m=i.elementFromPoint(p,h),g=m?.classList.contains(`${a}-flow__handle`)?m:f,y={handleDomNode:g,isValid:!1,connection:null,toHandle:null};if(g){const e=To(void 0,g),t=g.getAttribute("data-nodeid"),s=g.getAttribute("data-handleid"),i=g.classList.contains("connectable"),a=g.classList.contains("connectableend");if(!t||!e)return y;const l={source:d?t:r,sourceHandle:d?s:o,target:d?r:t,targetHandle:d?o:s};y.connection=l;const f=i&&a&&(n===nr.Strict?d&&"source"===e||!d&&"target"===e:t!==r||s!==o);y.isValid=f&&c(l),y.toHandle=Oo(t,e,s,u,n,!0)}return y}const Io={onPointerDown:function(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:s,isTarget:i,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:f,cancelConnection:p,onConnectStart:h,onConnect:m,onConnectEnd:g,isValidConnection:y=Mo,onReconnectEnd:v,updateConnection:b,getTransform:w,getFromHandle:x,autoPanSpeed:k,dragThreshold:S=1,handleDomNode:E}){const N=Kr(e.target);let _,C=0;const{x:j,y:O}=Gr(e),T=To(s,E),M=a?.getBoundingClientRect();let A=!1;if(!M||!T)return;const I=Oo(o,T,r,l,t);if(!I)return;let P=Gr(e,M),L=!1,D=null,$=!1,R=null;function z(){if(!u||!M)return;const[e,t]=xr(P,M,k);f({x:e,y:t}),C=requestAnimationFrame(z)}const q={...I,nodeId:o,type:T,position:I.position},B=l.get(o);let F={inProgress:!0,isValid:null,from:fo(B,q,lr.Left,!0),fromHandle:q,fromPosition:q.position,fromNode:B,to:P,toHandle:null,toPosition:cr[q.position],toNode:null,pointer:P};function V(){A=!0,b(F),h?.(e,{nodeId:o,handleId:r,handleType:T})}function U(e){if(!A){const{x:t,y:n}=Gr(e),r=t-j,o=n-O;if(!(r*r+o*o>S*S))return;V()}if(!x()||!q)return void H(e);const s=w();P=Gr(e,M),_=function(e,t,n,r){let o=[],s=1/0;const i=function(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(const e of t.values())jr(o,Nr(e))>0&&r.push(e);return r}(e,n,t+250);for(const n of i){const i=[...n.internals.handleBounds?.source??[],...n.internals.handleBounds?.target??[]];for(const a of i){if(r.nodeId===a.nodeId&&r.type===a.type&&r.id===a.id)continue;const{x:i,y:l}=fo(n,a,a.position,!0),c=Math.sqrt(Math.pow(i-e.x,2)+Math.pow(l-e.y,2));c>t||(c<s?(o=[{...a,x:i,y:l}],s=c):c===s&&o.push({...a,x:i,y:l}))}}if(!o.length)return null;if(o.length>1){const e="source"===r.type?"target":"source";return o.find(t=>t.type===e)??o[0]}return o[0]}(Ir(P,s,!1,[1,1]),n,l,q),L||(z(),L=!0);const a=Ao(e,{handle:_,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:i?"target":"source",isValidConnection:y,doc:N,lib:c,flowId:d,nodeLookup:l});R=a.handleDomNode,D=a.connection,$=function(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}(!!_,a.isValid);const u=l.get(o),f=u?fo(u,q,lr.Left,!0):F.from,p={...F,from:f,isValid:$,to:a.toHandle&&$?Pr({x:a.toHandle.x,y:a.toHandle.y},s):P,toHandle:a.toHandle,toPosition:$&&a.toHandle?a.toHandle.position:cr[q.position],toNode:a.toHandle?l.get(a.toHandle.nodeId):null,pointer:P};b(p),F=p}function H(e){if(!("touches"in e&&e.touches.length>0)){if(A){(_||R)&&D&&$&&m?.(D);const{inProgress:t,...n}=F,r={...n,toPosition:F.toHandle?F.toPosition:null};g?.(e,r),s&&v?.(e,r)}p(),cancelAnimationFrame(C),L=!1,$=!1,D=null,R=null,N.removeEventListener("mousemove",U),N.removeEventListener("mouseup",H),N.removeEventListener("touchmove",U),N.removeEventListener("touchend",H)}}0===S&&V(),N.addEventListener("mousemove",U),N.addEventListener("mouseup",H),N.addEventListener("touchmove",U),N.addEventListener("touchend",H)},isValid:Ao},Po=e=>({x:e.x,y:e.y,zoom:e.k}),Lo=({x:e,y:t,zoom:n})=>$n.translate(e,t).scale(n),Do=(e,t)=>e.target.closest(`.${t}`),$o=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),Ro=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,zo=(e,t=0,n=Ro,r=()=>{})=>{const o="number"==typeof t&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},qo=e=>{const t=e.ctrlKey&&$r()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t};function Bo({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:s,onPanZoomStart:i,onPanZoomEnd:a,onDraggingChange:l}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},u=e.getBoundingClientRect(),d=Wn().scaleExtent([t,n]).translateExtent(r),f=Ne(e).call(d);y({x:o.x,y:o.y,zoom:yr(o.zoom,t,n)},[[0,0],[u.width,u.height]],r);const p=f.on("wheel.zoom"),h=f.on("dblclick.zoom");function m(e,t){return f?new Promise(n=>{d?.interpolate("linear"===t?.interpolate?Qn:Be).transform(zo(f,t?.duration,t?.ease,()=>n(!0)),e)}):Promise.resolve(!1)}function g(){d.on("zoom",null)}async function y(e,t,n){const r=Lo(e),o=d?.constrain()(r,t,n);return o&&await m(o),new Promise(e=>e(o))}return d.wheelDelta(qo),{update:function({noWheelClassName:e,noPanClassName:t,onPaneContextMenu:n,userSelectionActive:r,panOnScroll:o,panOnDrag:u,panOnScrollMode:m,panOnScrollSpeed:y,preventScrolling:v,zoomOnPinch:b,zoomOnScroll:w,zoomOnDoubleClick:x,zoomActivationKeyPressed:k,lib:S,onTransformChange:E,connectionInProgress:N,paneClickDistance:_,selectionOnDrag:C}){r&&!c.isZoomingOrPanning&&g();const j=o&&!k&&!r;d.clickDistance(C?1/0:!Tr(_)||_<0?0:_);const O=j?function({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:s,zoomOnPinch:i,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(Do(u,t))return u.ctrlKey&&u.preventDefault(),!1;u.preventDefault(),u.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(u.ctrlKey&&i){const e=_e(u),t=qo(u),o=d*Math.pow(2,t);return void r.scaleTo(n,o,e,u)}const f=1===u.deltaMode?20:1;let p=o===rr.Vertical?0:u.deltaX*f,h=o===rr.Horizontal?0:u.deltaY*f;!$r()&&u.shiftKey&&o!==rr.Vertical&&(p=u.deltaY*f,h=0),r.translateBy(n,-p/d*s,-h/d*s,{internal:!0});const m=Po(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(l?.(u,m),e.panScrollTimeout=setTimeout(()=>{c?.(u,m),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a?.(u,m))}}({zoomPanValues:c,noWheelClassName:e,d3Selection:f,d3Zoom:d,panOnScrollMode:m,panOnScrollSpeed:y,zoomOnPinch:b,onPanZoomStart:i,onPanZoom:s,onPanZoomEnd:a}):function({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const s="wheel"===r.type,i=!t&&s&&!r.ctrlKey,a=Do(r,e);if(r.ctrlKey&&s&&a&&r.preventDefault(),i||a)return null;r.preventDefault(),n.call(this,r,o)}}({noWheelClassName:e,preventScrolling:v,d3ZoomHandler:p});if(f.on("wheel.zoom",O,{passive:!1}),!r){const e=function({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const o=Po(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=o,"mousedown"===r.sourceEvent?.type&&t(!0),n&&n?.(r.sourceEvent,o)}}({zoomPanValues:c,onDraggingChange:l,onPanZoomStart:i});d.on("start",e);const t=function({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return s=>{e.usedRightMouseButton=!(!n||!$o(t,e.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),o&&!s.sourceEvent?.internal&&o?.(s.sourceEvent,Po(s.transform))}}({zoomPanValues:c,panOnDrag:u,onPaneContextMenu:!!n,onPanZoom:s,onTransformChange:E});d.on("zoom",t);const r=function({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:s}){return i=>{if(!i.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,s&&$o(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&s(i.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const t=Po(i.transform);e.prevViewport=t,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o?.(i.sourceEvent,t)},n?150:0)}}}({zoomPanValues:c,panOnDrag:u,panOnScroll:o,onPaneContextMenu:n,onPanZoomEnd:a,onDraggingChange:l});d.on("end",r)}const T=function({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:s,userSelectionActive:i,noWheelClassName:a,noPanClassName:l,lib:c,connectionInProgress:u}){return d=>{const f=e||t,p=n&&d.ctrlKey,h="wheel"===d.type;if(1===d.button&&"mousedown"===d.type&&(Do(d,`${c}-flow__node`)||Do(d,`${c}-flow__edge`)))return!0;if(!(r||f||o||s||n))return!1;if(i)return!1;if(u&&!h)return!1;if(Do(d,a)&&h)return!1;if(Do(d,l)&&(!h||o&&h&&!e))return!1;if(!n&&d.ctrlKey&&h)return!1;if(!n&&"touchstart"===d.type&&d.touches?.length>1)return d.preventDefault(),!1;if(!f&&!o&&!p&&h)return!1;if(!r&&("mousedown"===d.type||"touchstart"===d.type))return!1;if(Array.isArray(r)&&!r.includes(d.button)&&"mousedown"===d.type)return!1;const m=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||h)&&m}}({zoomActivationKeyPressed:k,panOnDrag:u,zoomOnScroll:w,panOnScroll:o,zoomOnDoubleClick:x,zoomOnPinch:b,userSelectionActive:r,noPanClassName:t,noWheelClassName:e,lib:S,connectionInProgress:N});d.filter(T),x?f.on("dblclick.zoom",h):f.on("dblclick.zoom",null)},destroy:g,setViewport:async function(e,t){const n=Lo(e);return await m(n,t),new Promise(e=>e(n))},setViewportConstrained:y,getViewport:function(){const e=f?Rn(f.node()):{x:0,y:0,k:1};return{x:e.x,y:e.y,zoom:e.k}},scaleTo:function(e,t){return f?new Promise(n=>{d?.interpolate("linear"===t?.interpolate?Qn:Be).scaleTo(zo(f,t?.duration,t?.ease,()=>n(!0)),e)}):Promise.resolve(!1)},scaleBy:function(e,t){return f?new Promise(n=>{d?.interpolate("linear"===t?.interpolate?Qn:Be).scaleBy(zo(f,t?.duration,t?.ease,()=>n(!0)),e)}):Promise.resolve(!1)},setScaleExtent:function(e){d?.scaleExtent(e)},setTranslateExtent:function(e){d?.translateExtent(e)},syncViewport:function(e){if(f){const t=Lo(e),n=f.property("__zoom");n.k===e.zoom&&n.x===e.x&&n.y===e.y||d?.transform(f,t,null,{sync:!0})}},setClickDistance:function(e){const t=!Tr(e)||e<0?0:e;d?.clickDistance(t)}}}var Fo;function Vo(e){return{isHorizontal:e.includes("right")||e.includes("left"),isVertical:e.includes("bottom")||e.includes("top"),affectsX:e.includes("left"),affectsY:e.includes("top")}}function Uo(e,t){return Math.max(0,t-e)}function Ho(e,t){return Math.max(0,e-t)}function Ko(e,t,n){return Math.max(0,t-e,e-n)}function Wo(e,t){return e?!t:t}!function(e){e.Line="line",e.Handle="handle"}(Fo||(Fo={}));const Xo={width:0,height:0,x:0,y:0},Yo={...Xo,pointerX:0,pointerY:0,aspectRatio:1};function Go(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,s=e.measured.width??0,i=e.measured.height??0,a=n[0]*s,l=n[1]*i;return[[r-a,o-l],[r+s-a,o+i-l]]}var Zo=n(7);const Qo=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,s={setState:r,getState:o,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(r,o,s);return s},{useDebugValue:Jo}=o,{useSyncExternalStoreWithSelector:es}=Zo,ts=e=>e;function ns(e,t=ts,n){const r=es(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Jo(r),r}const rs=(e,t)=>{const n=(e=>e?Qo(e):Qo)(e),r=(e,r=t)=>ns(n,e,r);return Object.assign(r,n),r};function os(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}n(143);const ss=(0,o.createContext)(null),is=ss.Provider,as="[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001";function ls(e,t){const n=(0,o.useContext)(ss);if(null===n)throw new Error(as);return ns(n,e,t)}function cs(){const e=(0,o.useContext)(ss);if(null===e)throw new Error(as);return(0,o.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const us={display:"none"},ds={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fs="react-flow__node-desc",ps="react-flow__edge-desc",hs=e=>e.ariaLiveMessage,ms=e=>e.ariaLabelConfig;function gs({rfId:e}){const t=ls(hs);return(0,r.jsx)("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:ds,children:t})}function ys({rfId:e,disableKeyboardA11y:t}){const n=ls(ms);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{id:`${fs}-${e}`,style:us,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),(0,r.jsx)("div",{id:`${ps}-${e}`,style:us,children:n["edge.a11yDescription.default"]}),!t&&(0,r.jsx)(gs,{rfId:e})]})}const vs=(0,o.forwardRef)(({position:e="top-left",children:t,className:n,style:o,...s},a)=>{const l=`${e}`.split("-");return(0,r.jsx)("div",{className:i(["react-flow__panel",n,...l]),style:o,ref:a,...s,children:t})});function bs({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:(0,r.jsx)(vs,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,r.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}vs.displayName="Panel";const ws=e=>{const t=[],n=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},xs=e=>e.id;function ks(e,t){return os(e.selectedNodes.map(xs),t.selectedNodes.map(xs))&&os(e.selectedEdges.map(xs),t.selectedEdges.map(xs))}function Ss({onSelectionChange:e}){const t=cs(),{selectedNodes:n,selectedEdges:r}=ls(ws,ks);return(0,o.useEffect)(()=>{const o={nodes:n,edges:r};e?.(o),t.getState().onSelectionChangeHandlers.forEach(e=>e(o))},[n,r,e]),null}const Es=e=>!!e.onSelectionChangeHandlers;function Ns({onSelectionChange:e}){const t=ls(Es);return e||t?(0,r.jsx)(Ss,{onSelectionChange:e}):null}const _s=[0,0],Cs={x:0,y:0,zoom:1},js=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode","rfId"],Os=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Ts={translateExtent:Jn,nodeOrigin:_s,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Ms(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:i,setNodeExtent:a,reset:l,setDefaultNodesAndEdges:c}=ls(Os,os),u=cs();(0,o.useEffect)(()=>(c(e.defaultNodes,e.defaultEdges),()=>{d.current=Ts,l()}),[]);const d=(0,o.useRef)(Ts);return(0,o.useEffect)(()=>{for(const o of js){const l=e[o];l!==d.current[o]&&void 0!==e[o]&&("nodes"===o?t(l):"edges"===o?n(l):"minZoom"===o?r(l):"maxZoom"===o?s(l):"translateExtent"===o?i(l):"nodeExtent"===o?a(l):"ariaLabelConfig"===o?u.setState({ariaLabelConfig:Vr(l)}):"fitView"===o?u.setState({fitViewQueued:l}):"fitViewOptions"===o?u.setState({fitViewOptions:l}):u.setState({[o]:l}))}d.current=e},js.map(t=>e[t])),null}function As(){return"undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}const Is="undefined"!=typeof document?document:null;function Ps(e=null,t={target:Is,actInsideInputWithModifier:!0}){const[n,r]=(0,o.useState)(!1),s=(0,o.useRef)(!1),i=(0,o.useRef)(new Set([])),[a,l]=(0,o.useMemo)(()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.replace("+","\n").replace("\n\n","\n+").split("\n")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,o.useEffect)(()=>{const n=t?.target??Is,o=t?.actInsideInputWithModifier??!0;if(null!==e){const e=e=>{if(s.current=e.ctrlKey||e.metaKey||e.shiftKey||e.altKey,(!s.current||s.current&&!o)&&Xr(e))return!1;const n=Ds(e.code,l);if(i.current.add(e[n]),Ls(a,i.current,!1)){const n=e.composedPath?.()?.[0]||e.target,o="BUTTON"===n?.nodeName||"A"===n?.nodeName;!1===t.preventDefault||!s.current&&o||e.preventDefault(),r(!0)}},c=e=>{const t=Ds(e.code,l);Ls(a,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(e[t]),"Meta"===e.key&&i.current.clear(),s.current=!1},u=()=>{i.current.clear(),r(!1)};return n?.addEventListener("keydown",e),n?.addEventListener("keyup",c),window.addEventListener("blur",u),window.addEventListener("contextmenu",u),()=>{n?.removeEventListener("keydown",e),n?.removeEventListener("keyup",c),window.removeEventListener("blur",u),window.removeEventListener("contextmenu",u)}}},[e,r]),n}function Ls(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function Ds(e,t){return t.includes(e)?"code":"key"}function $s(e,t){const n=[],r=new Map,o=[];for(const t of e)if("add"!==t.type)if("remove"===t.type||"replace"===t.type)r.set(t.id,[t]);else{const e=r.get(t.id);e?e.push(t):r.set(t.id,[t])}else o.push(t);for(const e of t){const t=r.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}const o={...e};for(const e of t)Rs(e,o);n.push(o)}return o.length&&o.forEach(e=>{void 0!==e.index?n.splice(e.index,0,{...e.item}):n.push({...e.item})}),n}function Rs(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":void 0!==e.position&&(t.position=e.position),void 0!==e.dragging&&(t.dragging=e.dragging);break;case"dimensions":void 0!==e.dimensions&&(t.measured={...e.dimensions},e.setAttributes&&(!0!==e.setAttributes&&"width"!==e.setAttributes||(t.width=e.dimensions.width),!0!==e.setAttributes&&"height"!==e.setAttributes||(t.height=e.dimensions.height))),"boolean"==typeof e.resizing&&(t.resizing=e.resizing)}}function zs(e,t){return{id:e,type:"select",selected:t}}function qs(e,t=new Set,n=!1){const r=[];for(const[o,s]of e){const e=t.has(o);void 0===s.selected&&!e||s.selected===e||(n&&(s.selected=e),r.push(zs(s.id,e)))}return r}function Bs({items:e=[],lookup:t}){const n=[],r=new Map(e.map(e=>[e.id,e]));for(const[r,o]of e.entries()){const e=t.get(o.id),s=e?.internals?.userNode??e;void 0!==s&&s!==o&&n.push({id:o.id,item:o,type:"replace"}),void 0===s&&n.push({item:o,type:"add",index:r})}for(const[e]of t)void 0===r.get(e)&&n.push({id:e,type:"remove"});return n}function Fs(e){return{id:e.id,type:"remove"}}const Vs=e=>(e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e))(e);function Us(e){return(0,o.forwardRef)(e)}const Hs="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;function Ks(e){const[t,n]=(0,o.useState)(BigInt(0)),[r]=(0,o.useState)(()=>function(){let e=[];return{get:()=>e,reset:()=>{e=[]},push:t=>{e.push(t),n(e=>e+BigInt(1))}}}());return Hs(()=>{const t=r.get();t.length&&(e(t),r.reset())},[t]),r}const Ws=(0,o.createContext)(null);function Xs({children:e}){const t=cs(),n=Ks((0,o.useCallback)(e=>{const{nodes:n=[],setNodes:r,hasDefaultNodes:o,onNodesChange:s,nodeLookup:i,fitViewQueued:a,onNodesChangeMiddlewareMap:l}=t.getState();let c=n;for(const t of e)c="function"==typeof t?t(c):t;let u=Bs({items:c,lookup:i});for(const e of l.values())u=e(u);o&&r(c),u.length>0?s?.(u):a&&window.requestAnimationFrame(()=>{const{fitViewQueued:e,nodes:n,setNodes:r}=t.getState();e&&r(n)})},[])),s=Ks((0,o.useCallback)(e=>{const{edges:n=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:s,edgeLookup:i}=t.getState();let a=n;for(const t of e)a="function"==typeof t?t(a):t;o?r(a):s&&s(Bs({items:a,lookup:i}))},[])),i=(0,o.useMemo)(()=>({nodeQueue:n,edgeQueue:s}),[]);return(0,r.jsx)(Ws.Provider,{value:i,children:e})}const Ys=e=>!!e.panZoom;function Gs(){const e=(()=>{const e=cs();return(0,o.useMemo)(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,s],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:s,maxZoom:i,panZoom:a}=e.getState(),l=Dr(t,r,o,s,i,n?.padding??.1);return a?(await a.setViewport(l,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:s,domNode:i}=e.getState();if(!i)return t;const{x:a,y:l}=i.getBoundingClientRect(),c={x:t.x-a,y:t.y-l},u=n.snapGrid??o,d=n.snapToGrid??s;return Ir(c,r,d,u)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:s}=r.getBoundingClientRect(),i=Pr(t,n);return{x:i.x+o,y:i.y+s}}}),[])})(),t=cs(),n=function(){const e=(0,o.useContext)(Ws);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}(),r=ls(Ys),s=(0,o.useMemo)(()=>{const e=e=>t.getState().nodeLookup.get(e),r=e=>{n.nodeQueue.push(e)},o=e=>{n.edgeQueue.push(e)},s=e=>{const{nodeLookup:n,nodeOrigin:r}=t.getState(),o=Vs(e)?e:n.get(e.id),s=o.parentId?Br(o.position,o.measured,o.parentId,n,r):o.position,i={...o,position:s,width:o.measured?.width??o.width,height:o.measured?.height??o.height};return Nr(i)},i=(e,t,n={replace:!1})=>{r(r=>r.map(r=>{if(r.id===e){const e="function"==typeof t?t(r):t;return n.replace&&Vs(e)?e:{...r,...e}}return r}))},a=(e,t,n={replace:!1})=>{o(r=>r.map(r=>{if(r.id===e){const e="function"==typeof t?t(r):t;return n.replace&&dr(e)?e:{...r,...e}}return r}))};return{getNodes:()=>t.getState().nodes.map(e=>({...e})),getNode:t=>e(t)?.internals.userNode,getInternalNode:e,getEdges:()=>{const{edges:e=[]}=t.getState();return e.map(e=>({...e}))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:r,setEdges:o,addNodes:e=>{const t=Array.isArray(e)?e:[e];n.nodeQueue.push(e=>[...e,...t])},addEdges:e=>{const t=Array.isArray(e)?e:[e];n.edgeQueue.push(e=>[...e,...t])},toObject:()=>{const{nodes:e=[],edges:n=[],transform:r}=t.getState(),[o,s,i]=r;return{nodes:e.map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:o,y:s,zoom:i}}},deleteElements:async({nodes:e=[],edges:n=[]})=>{const{nodes:r,edges:o,onNodesDelete:s,onEdgesDelete:i,triggerNodeChanges:a,triggerEdgeChanges:l,onDelete:c,onBeforeDelete:u}=t.getState(),{nodes:d,edges:f}=await async function({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const s=new Set(e.map(e=>e.id)),i=[];for(const e of n){if(!1===e.deletable)continue;const t=s.has(e.id),n=!t&&e.parentId&&i.find(t=>t.id===e.parentId);(t||n)&&i.push(e)}const a=new Set(t.map(e=>e.id)),l=r.filter(e=>!1!==e.deletable),c=((e,t)=>{const n=new Set;return e.forEach(e=>{n.add(e.id)}),t.filter(e=>n.has(e.source)||n.has(e.target))})(i,l),u=c;for(const e of l)a.has(e.id)&&!u.find(t=>t.id===e.id)&&u.push(e);if(!o)return{edges:u,nodes:i};const d=await o({nodes:i,edges:u});return"boolean"==typeof d?d?{edges:u,nodes:i}:{edges:[],nodes:[]}:d}({nodesToRemove:e,edgesToRemove:n,nodes:r,edges:o,onBeforeDelete:u}),p=f.length>0,h=d.length>0;if(p){const e=f.map(Fs);i?.(f),l(e)}if(h){const e=d.map(Fs);s?.(d),a(e)}return(h||p)&&c?.({nodes:d,edges:f}),{deletedNodes:d,deletedEdges:f}},getIntersectingNodes:(e,n=!0,r)=>{const o=Or(e),i=o?e:s(e),a=void 0!==r;return i?(r||t.getState().nodes).filter(r=>{const s=t.getState().nodeLookup.get(r.id);if(s&&!o&&(r.id===e.id||!s.internals.positionAbsolute))return!1;const l=Nr(a?r:s),c=jr(l,i);return n&&c>0||c>=l.width*l.height||c>=i.width*i.height}):[]},isNodeIntersecting:(e,t,n=!0)=>{const r=Or(e)?e:s(e);if(!r)return!1;const o=jr(r,t);return n&&o>0||o>=t.width*t.height||o>=r.width*r.height},updateNode:i,updateNodeData:(e,t,n={replace:!1})=>{i(e,e=>{const r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},updateEdge:a,updateEdgeData:(e,t,n={replace:!1})=>{a(e,e=>{const r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},getNodesBounds:e=>{const{nodeLookup:n,nodeOrigin:r}=t.getState();return((e,t={nodeOrigin:[0,0]})=>{if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce((e,n)=>{const r="string"==typeof n;let o=t.nodeLookup||r?void 0:n;t.nodeLookup&&(o=r?t.nodeLookup.get(n):fr(n)?n:t.nodeLookup.get(n.id));const s=o?_r(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return kr(e,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Er(n)})(e,{nodeLookup:n,nodeOrigin:r})},getHandleConnections:({type:e,id:n,nodeId:r})=>Array.from(t.getState().connectionLookup.get(`${r}-${e}${n?`-${n}`:""}`)?.values()??[]),getNodeConnections:({type:e,handleId:n,nodeId:r})=>Array.from(t.getState().connectionLookup.get(`${r}${e?n?`-${e}-${n}`:`-${e}`:""}`)?.values()??[]),fitView:async e=>{const r=t.getState().fitViewResolver??function(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}();return t.setState({fitViewQueued:!0,fitViewOptions:e,fitViewResolver:r}),n.nodeQueue.push(e=>[...e]),r.promise}}},[]);return(0,o.useMemo)(()=>({...s,...e,viewportInitialized:r}),[r])}const Zs=e=>e.selected,Qs="undefined"!=typeof window?window:void 0,Js={position:"absolute",width:"100%",height:"100%",top:0,left:0},ei=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function ti({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:s=!1,panOnScrollSpeed:i=.5,panOnScrollMode:a=rr.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:u,translateExtent:d,minZoom:f,maxZoom:p,zoomActivationKeyCode:h,preventScrolling:m=!0,children:g,noWheelClassName:y,noPanClassName:v,onViewportChange:b,isControlledViewport:w,paneClickDistance:x,selectionOnDrag:k}){const S=cs(),E=(0,o.useRef)(null),{userSelectionActive:N,lib:_,connectionInProgress:C}=ls(ei,os),j=Ps(h),O=(0,o.useRef)();!function(e){const t=cs();(0,o.useEffect)(()=>{const n=()=>{if(!e.current||!(e.current.checkVisibility?.()??1))return!1;const n=Hr(e.current);0!==n.height&&0!==n.width||t.getState().onError?.("004","The React Flow parent container needs a width and a height to render the graph."),t.setState({width:n.width||500,height:n.height||500})};if(e.current){n(),window.addEventListener("resize",n);const t=new ResizeObserver(()=>n());return t.observe(e.current),()=>{window.removeEventListener("resize",n),t&&e.current&&t.unobserve(e.current)}}},[])}(E);const T=(0,o.useCallback)(e=>{b?.({x:e[0],y:e[1],zoom:e[2]}),w||S.setState({transform:e})},[b,w]);return(0,o.useEffect)(()=>{if(E.current){O.current=Bo({domNode:E.current,minZoom:f,maxZoom:p,translateExtent:d,viewport:u,onDraggingChange:e=>S.setState({paneDragging:e}),onPanZoomStart:(e,t)=>{const{onViewportChangeStart:n,onMoveStart:r}=S.getState();r?.(e,t),n?.(t)},onPanZoom:(e,t)=>{const{onViewportChange:n,onMove:r}=S.getState();r?.(e,t),n?.(t)},onPanZoomEnd:(e,t)=>{const{onViewportChangeEnd:n,onMoveEnd:r}=S.getState();r?.(e,t),n?.(t)}});const{x:e,y:t,zoom:n}=O.current.getViewport();return S.setState({panZoom:O.current,transform:[e,t,n],domNode:E.current.closest(".react-flow")}),()=>{O.current?.destroy()}}},[]),(0,o.useEffect)(()=>{O.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:s,panOnScrollSpeed:i,panOnScrollMode:a,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:j,preventScrolling:m,noPanClassName:v,userSelectionActive:N,noWheelClassName:y,lib:_,onTransformChange:T,connectionInProgress:C,selectionOnDrag:k,paneClickDistance:x})},[e,t,n,s,i,a,l,c,j,m,v,N,y,_,T,C,k,x]),(0,r.jsx)("div",{className:"react-flow__renderer",ref:E,style:Js,children:g})}const ni=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function ri(){const{userSelectionActive:e,userSelectionRect:t}=ls(ni,os);return e&&t?(0,r.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const oi=(e,t)=>n=>{n.target===t.current&&e?.(n)},si=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function ii({isSelecting:e,selectionKeyPressed:t,selectionMode:n=or.Full,panOnDrag:s,paneClickDistance:a,selectionOnDrag:l,onSelectionStart:c,onSelectionEnd:u,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:p,onPaneMouseEnter:h,onPaneMouseMove:m,onPaneMouseLeave:g,children:y}){const v=cs(),{userSelectionActive:b,elementsSelectable:w,dragging:x,connectionInProgress:k}=ls(si,os),S=w&&(e||b),E=(0,o.useRef)(null),N=(0,o.useRef)(),_=(0,o.useRef)(new Set),C=(0,o.useRef)(new Set),j=(0,o.useRef)(!1),O=e=>{j.current||k?j.current=!1:(d?.(e),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1}))},T=p?e=>p(e):void 0,M=!0===s||Array.isArray(s)&&s.includes(0);return(0,r.jsxs)("div",{className:i(["react-flow__pane",{draggable:M,dragging:x,selection:e}]),onClick:S?void 0:oi(O,E),onContextMenu:oi(e=>{Array.isArray(s)&&s?.includes(2)?e.preventDefault():f?.(e)},E),onWheel:oi(T,E),onPointerEnter:S?void 0:h,onPointerMove:S?e=>{const{userSelectionRect:r,transform:o,nodeLookup:s,edgeLookup:i,connectionLookup:l,triggerNodeChanges:u,triggerEdgeChanges:d,defaultEdgeOptions:f,resetSelectedElements:p}=v.getState();if(!N.current||!r)return;const{x:h,y:m}=Gr(e.nativeEvent,N.current),{startX:g,startY:y}=r;if(!j.current){const n=t?0:a;if(Math.hypot(h-g,m-y)<=n)return;p(),c?.(e)}j.current=!0;const b={startX:g,startY:y,x:h<g?h:g,y:m<y?m:y,width:Math.abs(h-g),height:Math.abs(m-y)},w=_.current,x=C.current;_.current=new Set(mr(s,b,o,n===or.Partial,!0).map(e=>e.id)),C.current=new Set;const k=f?.selectable??!0;for(const e of _.current){const t=l.get(e);if(t)for(const{edgeId:e}of t.values()){const t=i.get(e);t&&(t.selectable??k)&&C.current.add(e)}}Fr(w,_.current)||u(qs(s,_.current,!0)),Fr(x,C.current)||d(qs(i,C.current)),v.setState({userSelectionRect:b,userSelectionActive:!0,nodesSelectionActive:!1})}:m,onPointerUp:S?e=>{0===e.button&&(e.target?.releasePointerCapture?.(e.pointerId),!b&&e.target===E.current&&v.getState().userSelectionRect&&O?.(e),v.setState({userSelectionActive:!1,userSelectionRect:null}),j.current&&(u?.(e),v.setState({nodesSelectionActive:_.current.size>0})))}:void 0,onPointerDownCapture:S?n=>{const{domNode:r}=v.getState();if(N.current=r?.getBoundingClientRect(),!N.current)return;const o=n.target===E.current;if(!o&&n.target.closest(".nokey")||!e||!(l&&o||t)||0!==n.button||!n.isPrimary)return;n.target?.setPointerCapture?.(n.pointerId),j.current=!1;const{x:s,y:i}=Gr(n.nativeEvent,N.current);v.setState({userSelectionRect:{width:0,height:0,startX:s,startY:i,x:s,y:i}}),o||(n.stopPropagation(),n.preventDefault())}:void 0,onClickCapture:S?e=>{j.current&&(e.stopPropagation(),j.current=!1)}:void 0,onPointerLeave:g,ref:E,style:Js,children:[y,(0,r.jsx)(ri,{})]})}function ai({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:i,nodeLookup:a,onError:l}=t.getState(),c=a.get(e);c?(t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&i)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):o([e])):l?.("012",(e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`)(e))}function li({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,nodeClickDistance:a}){const l=cs(),[c,u]=(0,o.useState)(!1),d=(0,o.useRef)();return(0,o.useEffect)(()=>{d.current=function({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let s={x:null,y:null},i=0,a=new Map,l=!1,c={x:0,y:0},u=null,d=!1,f=null,p=!1,h=!1,m=null;return{update:function({noDragClassName:g,handleSelector:y,domNode:v,isSelectable:b,nodeId:w,nodeClickDistance:x=0}){function k({x:e,y:n}){const{nodeLookup:o,nodeExtent:i,snapGrid:l,snapToGrid:c,nodeOrigin:u,onNodeDrag:d,onSelectionDrag:f,onError:p,updateNodePositions:g}=t();s={x:e,y:n};let y=!1;const v=a.size>1,b=v&&i?Sr(hr(a)):null,x=v&&c?function({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const s={x:n-o.distance.x,y:r-o.distance.y},i=Ar(s,t);return{x:i.x-s.x,y:i.y-s.y}}({dragItems:a,snapGrid:l,x:e,y:n}):null;for(const[t,r]of a){if(!o.has(t))continue;let s={x:e-r.distance.x,y:n-r.distance.y};c&&(s=x?{x:Math.round(s.x+x.x),y:Math.round(s.y+x.y)}:Ar(s,l));let a=null;if(v&&i&&!r.extent&&b){const{positionAbsolute:e}=r.internals,t=e.x-b.x+i[0][0],n=e.x+r.measured.width-b.x2+i[1][0];a=[[t,e.y-b.y+i[0][1]],[n,e.y+r.measured.height-b.y2+i[1][1]]]}const{position:d,positionAbsolute:f}=gr({nodeId:t,nextPosition:s,nodeLookup:o,nodeExtent:a||i,nodeOrigin:u,onError:p});y=y||r.position.x!==d.x||r.position.y!==d.y,r.position=d,r.internals.positionAbsolute=f}if(h=h||y,y&&(g(a,!0),m&&(r||d||!w&&f))){const[e,t]=jo({nodeId:w,dragItems:a,nodeLookup:o});r?.(m,a,e,t),d?.(m,e,t),w||f?.(m,t)}}async function S(){if(!u)return;const{transform:e,panBy:n,autoPanSpeed:r,autoPanOnNodeDrag:o}=t();if(!o)return l=!1,void cancelAnimationFrame(i);const[a,d]=xr(c,u,r);0===a&&0===d||(s.x=(s.x??0)-a/e[2],s.y=(s.y??0)-d/e[2],await n({x:a,y:d})&&k(s)),i=requestAnimationFrame(S)}function E(r){const{nodeLookup:o,multiSelectionActive:i,nodesDraggable:l,transform:c,snapGrid:f,snapToGrid:p,selectNodesOnDrag:h,onNodeDragStart:m,onSelectionDragStart:g,unselectNodesAndEdges:y}=t();d=!0,h&&b||i||!w||o.get(w)?.selected||y(),b&&h&&w&&e?.(w);const v=Ur(r.sourceEvent,{transform:c,snapGrid:f,snapToGrid:p,containerBounds:u});if(s=v,a=function(e,t,n,r){const o=new Map;for(const[s,i]of e)if((i.selected||i.id===r)&&(!i.parentId||!_o(i,e))&&(i.draggable||t&&void 0===i.draggable)){const t=e.get(s);t&&o.set(s,{id:s,position:t.position||{x:0,y:0},distance:{x:n.x-t.internals.positionAbsolute.x,y:n.y-t.internals.positionAbsolute.y},extent:t.extent,parentId:t.parentId,origin:t.origin,expandParent:t.expandParent,internals:{positionAbsolute:t.internals.positionAbsolute||{x:0,y:0}},measured:{width:t.measured.width??0,height:t.measured.height??0}})}return o}(o,l,v,w),a.size>0&&(n||m||!w&&g)){const[e,t]=jo({nodeId:w,dragItems:a,nodeLookup:o});n?.(r.sourceEvent,a,e,t),m?.(r.sourceEvent,e,t),w||g?.(r.sourceEvent,t)}}f=Ne(v);const N=ze().clickDistance(x).on("start",e=>{const{domNode:n,nodeDragThreshold:r,transform:o,snapGrid:i,snapToGrid:a}=t();u=n?.getBoundingClientRect()||null,p=!1,h=!1,m=e.sourceEvent,0===r&&E(e);const l=Ur(e.sourceEvent,{transform:o,snapGrid:i,snapToGrid:a,containerBounds:u});s=l,c=Gr(e.sourceEvent,u)}).on("drag",e=>{const{autoPanOnNodeDrag:n,transform:r,snapGrid:o,snapToGrid:i,nodeDragThreshold:f,nodeLookup:h}=t(),g=Ur(e.sourceEvent,{transform:r,snapGrid:o,snapToGrid:i,containerBounds:u});if(m=e.sourceEvent,("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1||w&&!h.has(w))&&(p=!0),!p){if(!l&&n&&d&&(l=!0,S()),!d){const t=Gr(e.sourceEvent,u),n=t.x-c.x,r=t.y-c.y;Math.sqrt(n*n+r*r)>f&&E(e)}(s.x!==g.xSnapped||s.y!==g.ySnapped)&&a&&d&&(c=Gr(e.sourceEvent,u),k(g))}}).on("end",e=>{if(d&&!p&&(l=!1,d=!1,cancelAnimationFrame(i),a.size>0)){const{nodeLookup:n,updateNodePositions:r,onNodeDragStop:s,onSelectionDragStop:i}=t();if(h&&(r(a,!1),h=!1),o||s||!w&&i){const[t,r]=jo({nodeId:w,dragItems:a,nodeLookup:n,dragging:!1});o?.(e.sourceEvent,a,t,r),s?.(e.sourceEvent,t,r),w||i?.(e.sourceEvent,r)}}}).filter(e=>{const t=e.target;return!e.button&&(!g||!Co(t,`.${g}`,v))&&(!y||Co(t,y,v))});f.call(N)},destroy:function(){f?.on(".drag",null)}}}({getStoreItems:()=>l.getState(),onNodeMouseDown:t=>{ai({id:t,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),(0,o.useEffect)(()=>{if(t)d.current?.destroy();else if(e.current)return d.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:s,nodeClickDistance:a}),()=>{d.current?.destroy()}},[n,r,t,i,e,s]),c}function ci(){const e=cs();return(0,o.useCallback)(t=>{const{nodeExtent:n,snapToGrid:r,snapGrid:o,nodesDraggable:s,onError:i,updateNodePositions:a,nodeLookup:l,nodeOrigin:c}=e.getState(),u=new Map,d=(e=>t=>t.selected&&(t.draggable||e&&void 0===t.draggable))(s),f=r?o[0]:5,p=r?o[1]:5,h=t.direction.x*f*t.factor,m=t.direction.y*p*t.factor;for(const[,e]of l){if(!d(e))continue;let t={x:e.internals.positionAbsolute.x+h,y:e.internals.positionAbsolute.y+m};r&&(t=Ar(t,o));const{position:s,positionAbsolute:a}=gr({nodeId:e.id,nextPosition:t,nodeLookup:l,nodeExtent:n,nodeOrigin:c,onError:i});e.position=s,e.internals.positionAbsolute=a,u.set(e.id,e)}a(u)},[])}const ui=(0,o.createContext)(null),di=ui.Provider;ui.Consumer;const fi=()=>(0,o.useContext)(ui),pi=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),hi=(0,o.memo)(Us(function({type:e="source",position:t=lr.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:l,onConnect:c,children:u,className:d,onMouseDown:f,onTouchStart:p,...h},m){const g=l||null,y="target"===e,v=cs(),b=fi(),{connectOnClick:w,noPanClassName:x,rfId:k}=ls(pi,os),{connectingFrom:S,connectingTo:E,clickConnecting:N,isPossibleEndHandle:_,connectionInProcess:C,clickConnectionInProcess:j,valid:O}=ls(((e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:s,connection:i}=r,{fromHandle:a,toHandle:l,isValid:c}=i,u=l?.nodeId===e&&l?.id===t&&l?.type===n;return{connectingFrom:a?.nodeId===e&&a?.id===t&&a?.type===n,connectingTo:u,clickConnecting:o?.nodeId===e&&o?.id===t&&o?.type===n,isPossibleEndHandle:s===nr.Strict?a?.type!==n:e!==a?.nodeId||t!==a?.id,connectionInProcess:!!a,clickConnectionInProcess:!!o,valid:u&&c}})(b,g,e),os);b||v.getState().onError?.("010","Handle: No node id found. Make sure to only use a Handle inside a custom Node.");const T=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=v.getState(),o={...t,...e};if(r){const{edges:e,setEdges:t}=v.getState();t(((e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||oo;let o;return o=dr(e)?{...e}:{...e,id:r(e)},((e,t)=>t.some(t=>!(t.source!==e.source||t.target!==e.target||t.sourceHandle!==e.sourceHandle&&(t.sourceHandle||e.sourceHandle)||t.targetHandle!==e.targetHandle&&(t.targetHandle||e.targetHandle))))(o,t)?t:(null===o.sourceHandle&&delete o.sourceHandle,null===o.targetHandle&&delete o.targetHandle,t.concat(o))})(o,e))}n?.(o),c?.(o)},M=e=>{if(!b)return;const t=Yr(e.nativeEvent);if(s&&(t&&0===e.button||!t)){const t=v.getState();Io.onPointerDown(e.nativeEvent,{handleDomNode:e.currentTarget,autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:y,handleId:g,nodeId:b,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:T,isValidConnection:n||t.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed,dragThreshold:t.connectionDragThreshold})}t?f?.(e):p?.(e)};return(0,r.jsx)("div",{"data-handleid":g,"data-nodeid":b,"data-handlepos":t,"data-id":`${k}-${b}-${g}-${e}`,className:i(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,d,{source:!y,target:y,connectable:o,connectablestart:s,connectableend:a,clickconnecting:N,connectingfrom:S,connectingto:E,valid:O,connectionindicator:o&&(!C||_)&&(C||j?a:s)}]),onMouseDown:M,onTouchStart:M,onClick:w?t=>{const{onClickConnectStart:r,onClickConnectEnd:o,connectionClickStartHandle:i,connectionMode:a,isValidConnection:l,lib:c,rfId:u,nodeLookup:d,connection:f}=v.getState();if(!b||!i&&!s)return;if(!i)return r?.(t.nativeEvent,{nodeId:b,handleId:g,handleType:e}),void v.setState({connectionClickStartHandle:{nodeId:b,type:e,id:g}});const p=Kr(t.target),h=n||l,{connection:m,isValid:y}=Io.isValid(t.nativeEvent,{handle:{nodeId:b,id:g,type:e},connectionMode:a,fromNodeId:i.nodeId,fromHandleId:i.id||null,fromType:i.type,isValidConnection:h,flowId:u,doc:p,lib:c,nodeLookup:d});y&&m&&T(m);const w=structuredClone(f);delete w.inProgress,w.toPosition=w.toHandle?w.toHandle.position:null,o?.(t,w),v.setState({connectionClickStartHandle:null})}:void 0,ref:m,...h,children:u})})),mi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},gi={input:function({data:e,isConnectable:t,sourcePosition:n=lr.Bottom}){return(0,r.jsxs)(r.Fragment,{children:[e?.label,(0,r.jsx)(hi,{type:"source",position:n,isConnectable:t})]})},default:function({data:e,isConnectable:t,targetPosition:n=lr.Top,sourcePosition:o=lr.Bottom}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(hi,{type:"target",position:n,isConnectable:t}),e?.label,(0,r.jsx)(hi,{type:"source",position:o,isConnectable:t})]})},output:function({data:e,isConnectable:t,targetPosition:n=lr.Top}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(hi,{type:"target",position:n,isConnectable:t}),e?.label]})},group:function(){return null}},yi=e=>{const{width:t,height:n,x:r,y:o}=hr(e.nodeLookup,{filter:e=>!!e.selected});return{width:Tr(t)?t:null,height:Tr(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function vi({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const s=cs(),{width:a,height:l,transformString:c,userSelectionActive:u}=ls(yi,os),d=ci(),f=(0,o.useRef)(null);if((0,o.useEffect)(()=>{n||f.current?.focus({preventScroll:!0})},[n]),li({nodeRef:f}),u||!a||!l)return null;const p=e?t=>{const n=s.getState().nodes.filter(e=>e.selected);e(t,n)}:void 0;return(0,r.jsx)("div",{className:i(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c},children:(0,r.jsx)("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(mi,e.key)&&(e.preventDefault(),d({direction:mi[e.key],factor:e.shiftKey?4:1}))},style:{width:a,height:l}})})}const bi="undefined"!=typeof window?window:void 0,wi=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function xi({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:u,selectionKeyCode:d,selectionOnDrag:f,selectionMode:p,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:g,panActivationKeyCode:y,zoomActivationKeyCode:v,elementsSelectable:b,zoomOnScroll:w,zoomOnPinch:x,panOnScroll:k,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:N,panOnDrag:_,defaultViewport:C,translateExtent:j,minZoom:O,maxZoom:T,preventScrolling:M,onSelectionContextMenu:A,noWheelClassName:I,noPanClassName:P,disableKeyboardA11y:L,onViewportChange:D,isControlledViewport:$}){const{nodesSelectionActive:R,userSelectionActive:z}=ls(wi,os),q=Ps(d,{target:bi}),B=Ps(y,{target:bi}),F=B||_,V=B||k,U=f&&!0!==F,H=q||z||U;return function({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=cs(),{deleteElements:r}=Gs(),s=Ps(e,{actInsideInputWithModifier:!1}),i=Ps(t,{target:Qs});(0,o.useEffect)(()=>{if(s){const{edges:e,nodes:t}=n.getState();r({nodes:t.filter(Zs),edges:e.filter(Zs)}),n.setState({nodesSelectionActive:!1})}},[s]),(0,o.useEffect)(()=>{n.setState({multiSelectionActive:i})},[i])}({deleteKeyCode:u,multiSelectionKeyCode:g}),(0,r.jsx)(ti,{onPaneContextMenu:a,elementsSelectable:b,zoomOnScroll:w,zoomOnPinch:x,panOnScroll:V,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:N,panOnDrag:!q&&F,defaultViewport:C,translateExtent:j,minZoom:O,maxZoom:T,zoomActivationKeyCode:v,preventScrolling:M,noWheelClassName:I,noPanClassName:P,onViewportChange:D,isControlledViewport:$,paneClickDistance:c,selectionOnDrag:U,children:(0,r.jsxs)(ii,{onSelectionStart:h,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:l,panOnDrag:F,isSelecting:!!H,selectionMode:p,selectionKeyPressed:q,paneClickDistance:c,selectionOnDrag:U,children:[e,R&&(0,r.jsx)(vi,{onSelectionContextMenu:A,noPanClassName:P,disableKeyboardA11y:L})]})})}xi.displayName="FlowRenderer";const ki=(0,o.memo)(xi);const Si=e=>e.updateNodeInternals;var Ei=(0,o.memo)(function({id:e,onClick:t,onMouseEnter:n,onMouseMove:s,onMouseLeave:a,onContextMenu:l,onDoubleClick:c,nodesDraggable:u,elementsSelectable:d,nodesConnectable:f,nodesFocusable:p,resizeObserver:h,noDragClassName:m,noPanClassName:g,disableKeyboardA11y:y,rfId:v,nodeTypes:b,nodeClickDistance:w,onError:x}){const{node:k,internals:S,isParent:E}=ls(t=>{const n=t.nodeLookup.get(e),r=t.parentLookup.has(e);return{node:n,internals:n.internals,isParent:r}},os);let N=k.type||"default",_=b?.[N]||gi[N];void 0===_&&(x?.("003",(e=>`Node type "${e}" not found. Using fallback type "default".`)(N)),N="default",_=b?.default||gi.default);const C=!!(k.draggable||u&&void 0===k.draggable),j=!!(k.selectable||d&&void 0===k.selectable),O=!!(k.connectable||f&&void 0===k.connectable),T=!!(k.focusable||p&&void 0===k.focusable),M=cs(),A=qr(k),I=function({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=cs(),i=(0,o.useRef)(null),a=(0,o.useRef)(null),l=(0,o.useRef)(e.sourcePosition),c=(0,o.useRef)(e.targetPosition),u=(0,o.useRef)(t),d=n&&!!e.internals.handleBounds;return(0,o.useEffect)(()=>{!i.current||e.hidden||d&&a.current===i.current||(a.current&&r?.unobserve(a.current),r?.observe(i.current),a.current=i.current)},[d,e.hidden]),(0,o.useEffect)(()=>()=>{a.current&&(r?.unobserve(a.current),a.current=null)},[]),(0,o.useEffect)(()=>{if(i.current){const n=u.current!==t,r=l.current!==e.sourcePosition,o=c.current!==e.targetPosition;(n||r||o)&&(u.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}({node:k,nodeType:N,hasDimensions:A,resizeObserver:h}),P=li({nodeRef:I,disabled:k.hidden||!C,noDragClassName:m,handleSelector:k.dragHandle,nodeId:e,isSelectable:j,nodeClickDistance:w}),L=ci();if(k.hidden)return null;const D=zr(k),$=function(e){return void 0===e.internals.handleBounds?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}(k),R=j||C||t||n||s||a,z=n?e=>n(e,{...S.userNode}):void 0,q=s?e=>s(e,{...S.userNode}):void 0,B=a?e=>a(e,{...S.userNode}):void 0,F=l?e=>l(e,{...S.userNode}):void 0,V=c?e=>c(e,{...S.userNode}):void 0;return(0,r.jsx)("div",{className:i(["react-flow__node",`react-flow__node-${N}`,{[g]:C},k.className,{selected:k.selected,selectable:j,parent:E,draggable:C,dragging:P}]),ref:I,style:{zIndex:S.z,transform:`translate(${S.positionAbsolute.x}px,${S.positionAbsolute.y}px)`,pointerEvents:R?"all":"none",visibility:A?"visible":"hidden",...k.style,...$},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:q,onMouseLeave:B,onContextMenu:F,onClick:n=>{const{selectNodesOnDrag:r,nodeDragThreshold:o}=M.getState();j&&(!r||!C||o>0)&&ai({id:e,store:M,nodeRef:I}),t&&t(n,{...S.userNode})},onDoubleClick:V,onKeyDown:T?t=>{if(!Xr(t.nativeEvent)&&!y)if(er.includes(t.key)&&j){const n="Escape"===t.key;ai({id:e,store:M,unselect:n,nodeRef:I})}else if(C&&k.selected&&Object.prototype.hasOwnProperty.call(mi,t.key)){t.preventDefault();const{ariaLabelConfig:e}=M.getState();M.setState({ariaLiveMessage:e["node.a11yDescription.ariaLiveMessage"]({direction:t.key.replace("Arrow","").toLowerCase(),x:~~S.positionAbsolute.x,y:~~S.positionAbsolute.y})}),L({direction:mi[t.key],factor:t.shiftKey?4:1})}}:void 0,tabIndex:T?0:void 0,onFocus:T?()=>{if(y||!I.current?.matches(":focus-visible"))return;const{transform:t,width:n,height:r,autoPanOnNodeFocus:o,setCenter:s}=M.getState();o&&(mr(new Map([[e,k]]),{x:0,y:0,width:n,height:r},t,!0).length>0||s(k.position.x+D.width/2,k.position.y+D.height/2,{zoom:t[2]}))}:void 0,role:k.ariaRole??(T?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${fs}-${v}`,"aria-label":k.ariaLabel,...k.domAttributes,children:(0,r.jsx)(di,{value:e,children:(0,r.jsx)(_,{id:e,data:k.data,type:N,positionAbsoluteX:S.positionAbsolute.x,positionAbsoluteY:S.positionAbsolute.y,selected:k.selected??!1,selectable:j,draggable:C,deletable:k.deletable??!0,isConnectable:O,sourcePosition:k.sourcePosition,targetPosition:k.targetPosition,dragging:P,dragHandle:k.dragHandle,zIndex:S.z,parentId:k.parentId,...D})})})});const Ni=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function _i(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:i,onError:a}=ls(Ni,os),l=(u=e.onlyRenderVisibleElements,ls((0,o.useCallback)((e=>t=>e?mr(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(e=>e.id):Array.from(t.nodeLookup.keys()))(u),[u]),os)),c=function(){const e=ls(Si),[t]=(0,o.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(t=>{const n=new Map;t.forEach(e=>{const t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})}),e(n)}));return(0,o.useEffect)(()=>()=>{t?.disconnect()},[t]),t}();var u;return(0,r.jsx)("div",{className:"react-flow__nodes",style:Js,children:l.map(o=>(0,r.jsx)(Ei,{id:o,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:c,nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:a},o))})}_i.displayName="NodeRenderer";const Ci=(0,o.memo)(_i),ji={[ar.Arrow]:({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return(0,r.jsx)("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},[ar.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return(0,r.jsx)("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}},Oi=({id:e,type:t,color:n,width:s=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const u=function(e){const t=cs();return(0,o.useMemo)(()=>Object.prototype.hasOwnProperty.call(ji,e)?ji[e]:(t.getState().onError?.("009",(e=>`Marker type "${e}" doesn't exist.`)(e)),null),[e])}(t);return u?(0,r.jsx)("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:c,refX:"0",refY:"0",children:(0,r.jsx)(u,{color:n,strokeWidth:l})}):null},Ti=({defaultColor:e,rfId:t})=>{const n=ls(e=>e.edges),s=ls(e=>e.defaultEdgeOptions),i=(0,o.useMemo)(()=>{const r=function(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const s=new Set;return e.reduce((e,i)=>([i.markerStart||r,i.markerEnd||o].forEach(r=>{if(r&&"object"==typeof r){const o=ho(r,t);s.has(o)||(e.push({id:o,color:r.color||n,...r}),s.add(o))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}(n,{id:t,defaultColor:e,defaultMarkerStart:s?.markerStart,defaultMarkerEnd:s?.markerEnd});return r},[n,s,t,e]);return i.length?(0,r.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,r.jsx)("defs",{children:i.map(e=>(0,r.jsx)(Oi,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id))})}):null};Ti.displayName="MarkerDefinitions";var Mi=(0,o.memo)(Ti);function Ai({x:e,y:t,label:n,labelStyle:s,labelShowBg:a=!0,labelBgStyle:l,labelBgPadding:c=[2,4],labelBgBorderRadius:u=2,children:d,className:f,...p}){const[h,m]=(0,o.useState)({x:1,y:0,width:0,height:0}),g=i(["react-flow__edge-textwrapper",f]),y=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(y.current){const e=y.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}},[n]),n?(0,r.jsxs)("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:g,visibility:h.width?"visible":"hidden",...p,children:[a&&(0,r.jsx)("rect",{width:h.width+2*c[0],x:-c[0],y:-c[1],height:h.height+2*c[1],className:"react-flow__edge-textbg",style:l,rx:u,ry:u}),(0,r.jsx)("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:y,style:s,children:n}),d]}):null}Ai.displayName="EdgeText";const Ii=(0,o.memo)(Ai);function Pi({path:e,labelX:t,labelY:n,label:o,labelStyle:s,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,interactionWidth:d=20,...f}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{...f,d:e,fill:"none",className:i(["react-flow__edge-path",f.className])}),d?(0,r.jsx)("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}):null,o&&Tr(t)&&Tr(n)?(0,r.jsx)(Ii,{x:t,y:n,label:o,labelStyle:s,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null]})}function Li({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===lr.Left||e===lr.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Di({sourceX:e,sourceY:t,sourcePosition:n=lr.Bottom,targetX:r,targetY:o,targetPosition:s=lr.Top}){const[i,a]=Li({pos:n,x1:e,y1:t,x2:r,y2:o}),[l,c]=Li({pos:s,x1:r,y1:o,x2:e,y2:t}),[u,d,f,p]=Qr({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${i},${a} ${l},${c} ${r},${o}`,u,d,f,p]}function $i(e){return(0,o.memo)(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:i,sourcePosition:a,targetPosition:l,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,interactionWidth:v})=>{const[b,w,x]=Di({sourceX:n,sourceY:o,sourcePosition:a,targetX:s,targetY:i,targetPosition:l}),k=e.isInternal?void 0:t;return(0,r.jsx)(Pi,{id:k,path:b,labelX:w,labelY:x,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,interactionWidth:v})})}const Ri=$i({isInternal:!1}),zi=$i({isInternal:!0});function qi(e){return(0,o.memo)(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:i,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,sourcePosition:h=lr.Bottom,targetPosition:m=lr.Top,markerEnd:g,markerStart:y,pathOptions:v,interactionWidth:b})=>{const[w,x,k]=lo({sourceX:n,sourceY:o,sourcePosition:h,targetX:s,targetY:i,targetPosition:m,borderRadius:v?.borderRadius,offset:v?.offset,stepPosition:v?.stepPosition}),S=e.isInternal?void 0:t;return(0,r.jsx)(Pi,{id:S,path:w,labelX:x,labelY:k,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:y,interactionWidth:b})})}Ri.displayName="SimpleBezierEdge",zi.displayName="SimpleBezierEdgeInternal";const Bi=qi({isInternal:!1}),Fi=qi({isInternal:!0});function Vi(e){return(0,o.memo)(({id:t,...n})=>{const s=e.isInternal?void 0:t;return(0,r.jsx)(Bi,{...n,id:s,pathOptions:(0,o.useMemo)(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}Bi.displayName="SmoothStepEdge",Fi.displayName="SmoothStepEdgeInternal";const Ui=Vi({isInternal:!1}),Hi=Vi({isInternal:!0});function Ki(e){return(0,o.memo)(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:i,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:h,markerStart:m,interactionWidth:g})=>{const[y,v,b]=so({sourceX:n,sourceY:o,targetX:s,targetY:i}),w=e.isInternal?void 0:t;return(0,r.jsx)(Pi,{id:w,path:y,labelX:v,labelY:b,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:h,markerStart:m,interactionWidth:g})})}Ui.displayName="StepEdge",Hi.displayName="StepEdgeInternal";const Wi=Ki({isInternal:!1}),Xi=Ki({isInternal:!0});function Yi(e){return(0,o.memo)(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:i,sourcePosition:a=lr.Bottom,targetPosition:l=lr.Top,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,pathOptions:v,interactionWidth:b})=>{const[w,x,k]=to({sourceX:n,sourceY:o,sourcePosition:a,targetX:s,targetY:i,targetPosition:l,curvature:v?.curvature}),S=e.isInternal?void 0:t;return(0,r.jsx)(Pi,{id:S,path:w,labelX:x,labelY:k,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,interactionWidth:b})})}Wi.displayName="StraightEdge",Xi.displayName="StraightEdgeInternal";const Gi=Yi({isInternal:!1}),Zi=Yi({isInternal:!0});Gi.displayName="BezierEdge",Zi.displayName="BezierEdgeInternal";const Qi={default:Zi,straight:Xi,step:Hi,smoothstep:Fi,simplebezier:zi},Ji={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},ea=(e,t,n)=>n===lr.Left?e-t:n===lr.Right?e+t:e,ta=(e,t,n)=>n===lr.Top?e-t:n===lr.Bottom?e+t:e,na="react-flow__edgeupdater";function ra({position:e,centerX:t,centerY:n,radius:o=10,onMouseDown:s,onMouseEnter:a,onMouseOut:l,type:c}){return(0,r.jsx)("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:l,className:i([na,`${na}-${c}`]),cx:ea(t,o,e),cy:ta(n,o,e),r:o,stroke:"transparent",fill:"transparent"})}function oa({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:o,sourceY:s,targetX:i,targetY:a,sourcePosition:l,targetPosition:c,onReconnect:u,onReconnectStart:d,onReconnectEnd:f,setReconnecting:p,setUpdateHover:h}){const m=cs(),g=(e,t)=>{if(0!==e.button)return;const{autoPanOnConnect:r,domNode:o,isValidConnection:s,connectionMode:i,connectionRadius:a,lib:l,onConnectStart:c,onConnectEnd:h,cancelConnection:g,nodeLookup:y,rfId:v,panBy:b,updateConnection:w}=m.getState(),x="target"===t.type;Io.onPointerDown(e.nativeEvent,{autoPanOnConnect:r,connectionMode:i,connectionRadius:a,domNode:o,handleId:t.id,nodeId:t.nodeId,nodeLookup:y,isTarget:x,edgeUpdaterType:t.type,lib:l,flowId:v,cancelConnection:g,panBy:b,isValidConnection:s,onConnect:e=>u?.(n,e),onConnectStart:(r,o)=>{p(!0),d?.(e,n,t.type),c?.(r,o)},onConnectEnd:h,onReconnectEnd:(e,r)=>{p(!1),f?.(e,n,t.type,r)},updateConnection:w,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle,dragThreshold:m.getState().connectionDragThreshold,handleDomNode:e.currentTarget})},y=()=>h(!0),v=()=>h(!1);return(0,r.jsxs)(r.Fragment,{children:[(!0===e||"source"===e)&&(0,r.jsx)(ra,{position:l,centerX:o,centerY:s,radius:t,onMouseDown:e=>g(e,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),onMouseEnter:y,onMouseOut:v,type:"source"}),(!0===e||"target"===e)&&(0,r.jsx)(ra,{position:c,centerX:i,centerY:a,radius:t,onMouseDown:e=>g(e,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),onMouseEnter:y,onMouseOut:v,type:"target"})]})}var sa=(0,o.memo)(function({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:s,onClick:a,onDoubleClick:l,onContextMenu:c,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,reconnectRadius:p,onReconnect:h,onReconnectStart:m,onReconnectEnd:g,rfId:y,edgeTypes:v,noPanClassName:b,onError:w,disableKeyboardA11y:x}){let k=ls(t=>t.edgeLookup.get(e));const S=ls(e=>e.defaultEdgeOptions);k=S?{...S,...k}:k;let E=k.type||"default",N=v?.[E]||Qi[E];void 0===N&&(w?.("011",(e=>`Edge type "${e}" not found. Using fallback type "default".`)(E)),E="default",N=v?.default||Qi.default);const _=!!(k.focusable||t&&void 0===k.focusable),C=void 0!==h&&(k.reconnectable||n&&void 0===k.reconnectable),j=!!(k.selectable||s&&void 0===k.selectable),O=(0,o.useRef)(null),[T,M]=(0,o.useState)(!1),[A,I]=(0,o.useState)(!1),P=cs(),{zIndex:L,sourceX:D,sourceY:$,targetX:R,targetY:z,sourcePosition:q,targetPosition:B}=ls((0,o.useCallback)(t=>{const n=t.nodeLookup.get(k.source),r=t.nodeLookup.get(k.target);if(!n||!r)return{zIndex:k.zIndex,...Ji};const o=function(e){const{sourceNode:t,targetNode:n}=e;if(!co(t)||!co(n))return null;const r=t.internals.handleBounds||uo(t.handles),o=n.internals.handleBounds||uo(n.handles),s=po(r?.source??[],e.sourceHandle),i=po(e.connectionMode===nr.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),e.targetHandle);if(!s||!i)return e.onError?.("008",((e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${"source"===e?n:r}", edge id: ${t}.`)(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=s?.position||lr.Bottom,l=i?.position||lr.Top,c=fo(t,s,a),u=fo(n,i,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}({id:e,sourceNode:n,targetNode:r,sourceHandle:k.sourceHandle||null,targetHandle:k.targetHandle||null,connectionMode:t.connectionMode,onError:w}),s=function({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:s="basic"}){return"manual"===s?r:(o&&n?r+1e3:r)+Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0)}({selected:k.selected,zIndex:k.zIndex,sourceNode:n,targetNode:r,elevateOnSelect:t.elevateEdgesOnSelect,zIndexMode:t.zIndexMode});return{zIndex:s,...o||Ji}},[k.source,k.target,k.sourceHandle,k.targetHandle,k.selected,k.zIndex]),os),F=(0,o.useMemo)(()=>k.markerStart?`url('#${ho(k.markerStart,y)}')`:void 0,[k.markerStart,y]),V=(0,o.useMemo)(()=>k.markerEnd?`url('#${ho(k.markerEnd,y)}')`:void 0,[k.markerEnd,y]);if(k.hidden||null===D||null===$||null===R||null===z)return null;const U=l?e=>{l(e,{...k})}:void 0,H=c?e=>{c(e,{...k})}:void 0,K=u?e=>{u(e,{...k})}:void 0,W=d?e=>{d(e,{...k})}:void 0,X=f?e=>{f(e,{...k})}:void 0;return(0,r.jsx)("svg",{style:{zIndex:L},children:(0,r.jsxs)("g",{className:i(["react-flow__edge",`react-flow__edge-${E}`,k.className,b,{selected:k.selected,animated:k.animated,inactive:!j&&!a,updating:T,selectable:j}]),onClick:t=>{const{addSelectedEdges:n,unselectNodesAndEdges:r,multiSelectionActive:o}=P.getState();j&&(P.setState({nodesSelectionActive:!1}),k.selected&&o?(r({nodes:[],edges:[k]}),O.current?.blur()):n([e])),a&&a(t,k)},onDoubleClick:U,onContextMenu:H,onMouseEnter:K,onMouseMove:W,onMouseLeave:X,onKeyDown:_?t=>{if(!x&&er.includes(t.key)&&j){const{unselectNodesAndEdges:n,addSelectedEdges:r}=P.getState();"Escape"===t.key?(O.current?.blur(),n({edges:[k]})):r([e])}}:void 0,tabIndex:_?0:void 0,role:k.ariaRole??(_?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":null===k.ariaLabel?void 0:k.ariaLabel||`Edge from ${k.source} to ${k.target}`,"aria-describedby":_?`${ps}-${y}`:void 0,ref:O,...k.domAttributes,children:[!A&&(0,r.jsx)(N,{id:e,source:k.source,target:k.target,type:k.type,selected:k.selected,animated:k.animated,selectable:j,deletable:k.deletable??!0,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,sourceX:D,sourceY:$,targetX:R,targetY:z,sourcePosition:q,targetPosition:B,data:k.data,style:k.style,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerStart:F,markerEnd:V,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth}),C&&(0,r.jsx)(oa,{edge:k,isReconnectable:C,reconnectRadius:p,onReconnect:h,onReconnectStart:m,onReconnectEnd:g,sourceX:D,sourceY:$,targetX:R,targetY:z,sourcePosition:q,targetPosition:B,setUpdateHover:M,setReconnecting:I})]})})});const ia=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function aa({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:s,noPanClassName:i,onReconnect:a,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:f,reconnectRadius:p,onEdgeDoubleClick:h,onReconnectStart:m,onReconnectEnd:g,disableKeyboardA11y:y}){const{edgesFocusable:v,edgesReconnectable:b,elementsSelectable:w,onError:x}=ls(ia,os),k=(S=t,ls((0,o.useCallback)(e=>{if(!S)return e.edges.map(e=>e.id);const t=[];if(e.width&&e.height)for(const n of e.edges){const r=e.nodeLookup.get(n.source),o=e.nodeLookup.get(n.target);r&&o&&ro({sourceNode:r,targetNode:o,width:e.width,height:e.height,transform:e.transform})&&t.push(n.id)}return t},[S]),os));var S;return(0,r.jsxs)("div",{className:"react-flow__edges",children:[(0,r.jsx)(Mi,{defaultColor:e,rfId:n}),k.map(e=>(0,r.jsx)(sa,{id:e,edgesFocusable:v,edgesReconnectable:b,elementsSelectable:w,noPanClassName:i,onReconnect:a,onContextMenu:l,onMouseEnter:c,onMouseMove:u,onMouseLeave:d,onClick:f,reconnectRadius:p,onDoubleClick:h,onReconnectStart:m,onReconnectEnd:g,rfId:n,onError:x,edgeTypes:s,disableKeyboardA11y:y},e))]})}aa.displayName="EdgeRenderer";const la=(0,o.memo)(aa),ca=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function ua({children:e}){const t=ls(ca);return(0,r.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}const da=e=>e.panZoom?.syncViewport;function fa(e){return e.connection.inProgress?{...e.connection,to:Ir(e.connection.to,e.transform)}:{...e.connection}}const pa=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function ha({containerStyle:e,style:t,type:n,component:o}){const{nodesConnectable:s,width:a,height:l,isValid:c,inProgress:u}=ls(pa,os);return a&&s&&u?(0,r.jsx)("svg",{style:e,width:a,height:l,className:"react-flow__connectionline react-flow__container",children:(0,r.jsx)("g",{className:i(["react-flow__connection",ur(c)]),children:(0,r.jsx)(ma,{style:t,type:n,CustomComponent:o,isValid:c})})}):null}const ma=({style:e,type:t=ir.Bezier,CustomComponent:n,isValid:o})=>{const{inProgress:s,from:i,fromNode:a,fromHandle:l,fromPosition:c,to:u,toNode:d,toHandle:f,toPosition:p,pointer:h}=ls(function(e){return e?t=>{const n=fa(t);return e(n)}:fa}(m),os);var m;if(!s)return;if(n)return(0,r.jsx)(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:l,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:p,connectionStatus:ur(o),toNode:d,toHandle:f,pointer:h});let g="";const y={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:p};switch(t){case ir.Bezier:[g]=to(y);break;case ir.SimpleBezier:[g]=Di(y);break;case ir.Step:[g]=lo({...y,borderRadius:0});break;case ir.SmoothStep:[g]=lo(y);break;default:[g]=so(y)}return(0,r.jsx)("path",{d:g,fill:"none",className:"react-flow__connection-path",style:e})};ma.displayName="ConnectionLine";const ga={};function ya(e=ga){(0,o.useRef)(e),cs(),(0,o.useEffect)(()=>{},[e])}function va({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:s,onEdgeClick:i,onNodeDoubleClick:a,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:p,onSelectionStart:h,onSelectionEnd:m,connectionLineType:g,connectionLineStyle:y,connectionLineComponent:v,connectionLineContainerStyle:b,selectionKeyCode:w,selectionOnDrag:x,selectionMode:k,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:N,deleteKeyCode:_,onlyRenderVisibleElements:C,elementsSelectable:j,defaultViewport:O,translateExtent:T,minZoom:M,maxZoom:A,preventScrolling:I,defaultMarkerColor:P,zoomOnScroll:L,zoomOnPinch:D,panOnScroll:$,panOnScrollSpeed:R,panOnScrollMode:z,zoomOnDoubleClick:q,panOnDrag:B,onPaneClick:F,onPaneMouseEnter:V,onPaneMouseMove:U,onPaneMouseLeave:H,onPaneScroll:K,onPaneContextMenu:W,paneClickDistance:X,nodeClickDistance:Y,onEdgeContextMenu:G,onEdgeMouseEnter:Z,onEdgeMouseMove:Q,onEdgeMouseLeave:J,reconnectRadius:ee,onReconnect:te,onReconnectStart:ne,onReconnectEnd:re,noDragClassName:oe,noWheelClassName:se,noPanClassName:ie,disableKeyboardA11y:ae,nodeExtent:le,rfId:ce,viewport:ue,onViewportChange:de}){return ya(e),ya(t),cs(),(0,o.useRef)(!1),(0,o.useEffect)(()=>{},[]),function(e){const t=Gs(),n=(0,o.useRef)(!1);(0,o.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(n),function(e){const t=ls(da),n=cs();(0,o.useEffect)(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t])}(ue),(0,r.jsx)(ki,{onPaneClick:F,onPaneMouseEnter:V,onPaneMouseMove:U,onPaneMouseLeave:H,onPaneContextMenu:W,onPaneScroll:K,paneClickDistance:X,deleteKeyCode:_,selectionKeyCode:w,selectionOnDrag:x,selectionMode:k,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:N,elementsSelectable:j,zoomOnScroll:L,zoomOnPinch:D,zoomOnDoubleClick:q,panOnScroll:$,panOnScrollSpeed:R,panOnScrollMode:z,panOnDrag:B,defaultViewport:O,translateExtent:T,minZoom:M,maxZoom:A,onSelectionContextMenu:p,preventScrolling:I,noDragClassName:oe,noWheelClassName:se,noPanClassName:ie,disableKeyboardA11y:ae,onViewportChange:de,isControlledViewport:!!ue,children:(0,r.jsxs)(ua,{children:[(0,r.jsx)(la,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:te,onReconnectStart:ne,onReconnectEnd:re,onlyRenderVisibleElements:C,onEdgeContextMenu:G,onEdgeMouseEnter:Z,onEdgeMouseMove:Q,onEdgeMouseLeave:J,reconnectRadius:ee,defaultMarkerColor:P,noPanClassName:ie,disableKeyboardA11y:ae,rfId:ce}),(0,r.jsx)(ha,{style:y,type:g,component:v,containerStyle:b}),(0,r.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,r.jsx)(Ci,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:Y,onlyRenderVisibleElements:C,noPanClassName:ie,noDragClassName:oe,disableKeyboardA11y:ae,nodeExtent:le,rfId:ce}),(0,r.jsx)("div",{className:"react-flow__viewport-portal"})]})})}va.displayName="GraphView";const ba=(0,o.memo)(va),wa=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:i,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:u,nodeExtent:d,zIndexMode:f="basic"}={})=>{const p=new Map,h=new Map,m=new Map,g=new Map,y=r??t??[],v=n??e??[],b=u??[0,0],w=d??Jn;No(m,g,y);const x=wo(v,p,h,{nodeOrigin:b,nodeExtent:w,zIndexMode:f});let k=[0,0,1];if(i&&o&&s){const e=hr(p,{filter:e=>!(!e.width&&!e.initialWidth||!e.height&&!e.initialHeight)}),{x:t,y:n,zoom:r}=Dr(e,o,s,l,c,a?.padding??.1);k=[t,n,r]}return{rfId:"1",width:o??0,height:s??0,transform:k,nodes:v,nodesInitialized:x,nodeLookup:p,parentLookup:h,edges:y,edgeLookup:g,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==n,hasDefaultEdges:void 0!==r,panZoom:null,minZoom:l,maxZoom:c,translateExtent:Jn,nodeExtent:w,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:nr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:a,fitViewResolver:null,connection:{...sr},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Mr,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:tr,zIndexMode:f,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},xa=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:i,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:d,zIndexMode:f})=>{return p=(p,h)=>{async function m(){const{nodeLookup:e,panZoom:t,fitViewOptions:n,fitViewResolver:r,width:o,height:s,minZoom:i,maxZoom:a}=h();t&&(await async function({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:s},i){if(0===e.size)return Promise.resolve(!0);const a=function(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(e=>e.id)):null;return e.forEach(e=>{!e.measured.width||!e.measured.height||!t?.includeHiddenNodes&&e.hidden||r&&!r.has(e.id)||n.set(e.id,e)}),n}(e,i),l=hr(a),c=Dr(l,t,n,i?.minZoom??o,i?.maxZoom??s,i?.padding??.1);return await r.setViewport(c,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)}({nodes:e,width:o,height:s,panZoom:t,minZoom:i,maxZoom:a},n),r?.resolve(!0),p({fitViewResolver:null}))}return{...wa({nodes:e,edges:t,width:o,height:s,fitView:i,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:d,defaultNodes:n,defaultEdges:r,zIndexMode:f}),setNodes:e=>{const{nodeLookup:t,parentLookup:n,nodeOrigin:r,elevateNodesOnSelect:o,fitViewQueued:s,zIndexMode:i}=h(),a=wo(e,t,n,{nodeOrigin:r,nodeExtent:d,elevateNodesOnSelect:o,checkEquality:!0,zIndexMode:i});s&&a?(m(),p({nodes:e,nodesInitialized:a,fitViewQueued:!1,fitViewOptions:void 0})):p({nodes:e,nodesInitialized:a})},setEdges:e=>{const{connectionLookup:t,edgeLookup:n}=h();No(t,n,e),p({edges:e})},setDefaultNodesAndEdges:(e,t)=>{if(e){const{setNodes:t}=h();t(e),p({hasDefaultNodes:!0})}if(t){const{setEdges:e}=h();e(t),p({hasDefaultEdges:!0})}},updateNodeInternals:e=>{const{triggerNodeChanges:t,nodeLookup:n,parentLookup:r,domNode:o,nodeOrigin:s,nodeExtent:i,debug:a,fitViewQueued:l,zIndexMode:c}=h(),{changes:u,updatedInternals:d}=function(e,t,n,r,o,s,i){const a=r?.querySelector(".xyflow__viewport");let l=!1;if(!a)return{changes:[],updatedInternals:l};const c=[],u=window.getComputedStyle(a),{m22:d}=new window.DOMMatrixReadOnly(u.transform),f=[];for(const r of e.values()){const e=t.get(r.id);if(!e)continue;if(e.hidden){t.set(e.id,{...e,internals:{...e.internals,handleBounds:void 0}}),l=!0;continue}const a=Hr(r.nodeElement),u=e.measured.width!==a.width||e.measured.height!==a.height;if(a.width&&a.height&&(u||!e.internals.handleBounds||r.force)){const p=r.nodeElement.getBoundingClientRect(),h=Rr(e.extent)?e.extent:s;let{positionAbsolute:m}=e.internals;e.parentId&&"parent"===e.extent?m=br(m,a,t.get(e.parentId)):h&&(m=vr(m,h,a));const g={...e,measured:a,internals:{...e.internals,positionAbsolute:m,handleBounds:{source:Zr("source",r.nodeElement,p,d,e.id),target:Zr("target",r.nodeElement,p,d,e.id)}}};t.set(e.id,g),e.parentId&&xo(g,t,n,{nodeOrigin:o,zIndexMode:i}),l=!0,u&&(c.push({id:e.id,type:"dimensions",dimensions:a}),e.expandParent&&e.parentId&&f.push({id:e.id,parentId:e.parentId,rect:Nr(g,o)}))}}if(f.length>0){const e=So(f,t,n,o);c.push(...e)}return{changes:c,updatedInternals:l}}(e,n,r,o,s,i,c);d&&(function(e,t,n){const r=yo(mo,n);for(const n of e.values())if(n.parentId)xo(n,e,t,r);else{const e=pr(n,r.nodeOrigin),t=Rr(n.extent)?n.extent:r.nodeExtent,o=vr(e,t,zr(n));n.internals.positionAbsolute=o}}(n,r,{nodeOrigin:s,nodeExtent:i,zIndexMode:c}),l?(m(),p({fitViewQueued:!1,fitViewOptions:void 0})):p({}),u?.length>0&&(a&&console.log("React Flow: trigger node changes",u),t?.(u)))},updateNodePositions:(e,t=!1)=>{const n=[];let r=[];const{nodeLookup:o,triggerNodeChanges:s,connection:i,updateConnection:a,onNodesChangeMiddlewareMap:l}=h();for(const[s,l]of e){const e=o.get(s),c=!!(e?.expandParent&&e?.parentId&&l?.position),u={id:s,type:"position",position:c?{x:Math.max(0,l.position.x),y:Math.max(0,l.position.y)}:l.position,dragging:t};if(e&&i.inProgress&&i.fromNode.id===e.id){const t=fo(e,i.fromHandle,lr.Left,!0);a({...i,from:t})}c&&e.parentId&&n.push({id:s,parentId:e.parentId,rect:{...l.internals.positionAbsolute,width:l.measured.width??0,height:l.measured.height??0}}),r.push(u)}if(n.length>0){const{parentLookup:e,nodeOrigin:t}=h(),s=So(n,o,e,t);r.push(...s)}for(const e of l.values())r=e(r);s(r)},triggerNodeChanges:e=>{const{onNodesChange:t,setNodes:n,nodes:r,hasDefaultNodes:o,debug:s}=h();e?.length&&(o&&n(function(e,t){return $s(e,t)}(e,r)),s&&console.log("React Flow: trigger node changes",e),t?.(e))},triggerEdgeChanges:e=>{const{onEdgesChange:t,setEdges:n,edges:r,hasDefaultEdges:o,debug:s}=h();e?.length&&(o&&n(function(e,t){return $s(e,t)}(e,r)),s&&console.log("React Flow: trigger edge changes",e),t?.(e))},addSelectedNodes:e=>{const{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:s}=h();t?o(e.map(e=>zs(e,!0))):(o(qs(r,new Set([...e]),!0)),s(qs(n)))},addSelectedEdges:e=>{const{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:s}=h();t?s(e.map(e=>zs(e,!0))):(s(qs(n,new Set([...e]))),o(qs(r,new Set,!0)))},unselectNodesAndEdges:({nodes:e,edges:t}={})=>{const{edges:n,nodes:r,nodeLookup:o,triggerNodeChanges:s,triggerEdgeChanges:i}=h(),a=t||n,l=(e||r).map(e=>{const t=o.get(e.id);return t&&(t.selected=!1),zs(e.id,!1)}),c=a.map(e=>zs(e.id,!1));s(l),i(c)},setMinZoom:e=>{const{panZoom:t,maxZoom:n}=h();t?.setScaleExtent([e,n]),p({minZoom:e})},setMaxZoom:e=>{const{panZoom:t,minZoom:n}=h();t?.setScaleExtent([n,e]),p({maxZoom:e})},setTranslateExtent:e=>{h().panZoom?.setTranslateExtent(e),p({translateExtent:e})},resetSelectedElements:()=>{const{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:r,elementsSelectable:o}=h();if(!o)return;const s=t.reduce((e,t)=>t.selected?[...e,zs(t.id,!1)]:e,[]),i=e.reduce((e,t)=>t.selected?[...e,zs(t.id,!1)]:e,[]);n(s),r(i)},setNodeExtent:e=>{const{nodes:t,nodeLookup:n,parentLookup:r,nodeOrigin:o,elevateNodesOnSelect:s,nodeExtent:i,zIndexMode:a}=h();e[0][0]===i[0][0]&&e[0][1]===i[0][1]&&e[1][0]===i[1][0]&&e[1][1]===i[1][1]||(wo(t,n,r,{nodeOrigin:o,nodeExtent:e,elevateNodesOnSelect:s,checkEquality:!1,zIndexMode:a}),p({nodeExtent:e}))},panBy:e=>{const{transform:t,width:n,height:r,panZoom:o,translateExtent:s}=h();return async function({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,s]],r),a=!!i&&(i.x!==n[0]||i.y!==n[1]||i.k!==n[2]);return Promise.resolve(a)}({delta:e,panZoom:o,transform:t,translateExtent:s,width:n,height:r})},setCenter:async(e,t,n)=>{const{width:r,height:o,maxZoom:s,panZoom:i}=h();if(!i)return Promise.resolve(!1);const a=void 0!==n?.zoom?n.zoom:s;return await i.setViewport({x:r/2-e*a,y:o/2-t*a,zoom:a},{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{p({connection:{...sr}})},updateConnection:e=>{p({connection:e})},reset:()=>p({...wa()})}},h=Object.is,p?rs(p,h):rs;var p,h};function ka({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:s,initialWidth:i,initialHeight:a,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:u,fitView:d,nodeOrigin:f,nodeExtent:p,zIndexMode:h,children:m}){const[g]=(0,o.useState)(()=>xa({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:i,height:a,fitView:d,minZoom:l,maxZoom:c,fitViewOptions:u,nodeOrigin:f,nodeExtent:p,zIndexMode:h}));return(0,r.jsx)(is,{value:g,children:(0,r.jsx)(Xs,{children:m})})}function Sa({children:e,nodes:t,edges:n,defaultNodes:s,defaultEdges:i,width:a,height:l,fitView:c,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:p,nodeExtent:h,zIndexMode:m}){return(0,o.useContext)(ss)?(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)(ka,{initialNodes:t,initialEdges:n,defaultNodes:s,defaultEdges:i,initialWidth:a,initialHeight:l,fitView:c,initialFitViewOptions:u,initialMinZoom:d,initialMaxZoom:f,nodeOrigin:p,nodeExtent:h,zIndexMode:m,children:e})}const Ea={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var Na,_a=Us(function({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,className:a,nodeTypes:l,edgeTypes:c,onNodeClick:u,onEdgeClick:d,onInit:f,onMove:p,onMoveStart:h,onMoveEnd:m,onConnect:g,onConnectStart:y,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:w,onNodeMouseEnter:x,onNodeMouseMove:k,onNodeMouseLeave:S,onNodeContextMenu:E,onNodeDoubleClick:N,onNodeDragStart:_,onNodeDrag:C,onNodeDragStop:j,onNodesDelete:O,onEdgesDelete:T,onDelete:M,onSelectionChange:A,onSelectionDragStart:I,onSelectionDrag:P,onSelectionDragStop:L,onSelectionContextMenu:D,onSelectionStart:$,onSelectionEnd:R,onBeforeDelete:z,connectionMode:q,connectionLineType:B=ir.Bezier,connectionLineStyle:F,connectionLineComponent:V,connectionLineContainerStyle:U,deleteKeyCode:H="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:W=!1,selectionMode:X=or.Full,panActivationKeyCode:Y="Space",multiSelectionKeyCode:G=($r()?"Meta":"Control"),zoomActivationKeyCode:Z=($r()?"Meta":"Control"),snapToGrid:Q,snapGrid:J,onlyRenderVisibleElements:ee=!1,selectNodesOnDrag:te,nodesDraggable:ne,autoPanOnNodeFocus:re,nodesConnectable:oe,nodesFocusable:se,nodeOrigin:ie=_s,edgesFocusable:ae,edgesReconnectable:le,elementsSelectable:ce=!0,defaultViewport:ue=Cs,minZoom:de=.5,maxZoom:fe=2,translateExtent:pe=Jn,preventScrolling:he=!0,nodeExtent:me,defaultMarkerColor:ge="#b1b1b7",zoomOnScroll:ye=!0,zoomOnPinch:ve=!0,panOnScroll:be=!1,panOnScrollSpeed:we=.5,panOnScrollMode:xe=rr.Free,zoomOnDoubleClick:ke=!0,panOnDrag:Se=!0,onPaneClick:Ee,onPaneMouseEnter:Ne,onPaneMouseMove:_e,onPaneMouseLeave:Ce,onPaneScroll:je,onPaneContextMenu:Oe,paneClickDistance:Te=1,nodeClickDistance:Me=0,children:Ae,onReconnect:Ie,onReconnectStart:Pe,onReconnectEnd:Le,onEdgeContextMenu:De,onEdgeDoubleClick:$e,onEdgeMouseEnter:Re,onEdgeMouseMove:ze,onEdgeMouseLeave:qe,reconnectRadius:Be=10,onNodesChange:Fe,onEdgesChange:Ve,noDragClassName:Ue="nodrag",noWheelClassName:He="nowheel",noPanClassName:Ke="nopan",fitView:We,fitViewOptions:Xe,connectOnClick:Ye,attributionPosition:Ge,proOptions:Ze,defaultEdgeOptions:Qe,elevateNodesOnSelect:Je=!0,elevateEdgesOnSelect:et=!1,disableKeyboardA11y:tt=!1,autoPanOnConnect:nt,autoPanOnNodeDrag:rt,autoPanSpeed:ot,connectionRadius:st,isValidConnection:it,onError:at,style:lt,id:ct,nodeDragThreshold:ut,connectionDragThreshold:dt,viewport:ft,onViewportChange:pt,width:ht,height:mt,colorMode:gt="light",debug:yt,onScroll:vt,ariaLabelConfig:bt,zIndexMode:wt="basic",...xt},kt){const St=ct||"1",Et=function(e){const[t,n]=(0,o.useState)("system"===e?null:e);return(0,o.useEffect)(()=>{if("system"!==e)return void n(e);const t=As(),r=()=>n(t?.matches?"dark":"light");return r(),t?.addEventListener("change",r),()=>{t?.removeEventListener("change",r)}},[e]),null!==t?t:As()?.matches?"dark":"light"}(gt),Nt=(0,o.useCallback)(e=>{e.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),vt?.(e)},[vt]);return(0,r.jsx)("div",{"data-testid":"rf__wrapper",...xt,onScroll:Nt,style:{...lt,...Ea},ref:kt,className:i(["react-flow",a,Et]),id:ct,role:"application",children:(0,r.jsxs)(Sa,{nodes:e,edges:t,width:ht,height:mt,fitView:We,fitViewOptions:Xe,minZoom:de,maxZoom:fe,nodeOrigin:ie,nodeExtent:me,zIndexMode:wt,children:[(0,r.jsx)(ba,{onInit:f,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:x,onNodeMouseMove:k,onNodeMouseLeave:S,onNodeContextMenu:E,onNodeDoubleClick:N,nodeTypes:l,edgeTypes:c,connectionLineType:B,connectionLineStyle:F,connectionLineComponent:V,connectionLineContainerStyle:U,selectionKeyCode:K,selectionOnDrag:W,selectionMode:X,deleteKeyCode:H,multiSelectionKeyCode:G,panActivationKeyCode:Y,zoomActivationKeyCode:Z,onlyRenderVisibleElements:ee,defaultViewport:ue,translateExtent:pe,minZoom:de,maxZoom:fe,preventScrolling:he,zoomOnScroll:ye,zoomOnPinch:ve,zoomOnDoubleClick:ke,panOnScroll:be,panOnScrollSpeed:we,panOnScrollMode:xe,panOnDrag:Se,onPaneClick:Ee,onPaneMouseEnter:Ne,onPaneMouseMove:_e,onPaneMouseLeave:Ce,onPaneScroll:je,onPaneContextMenu:Oe,paneClickDistance:Te,nodeClickDistance:Me,onSelectionContextMenu:D,onSelectionStart:$,onSelectionEnd:R,onReconnect:Ie,onReconnectStart:Pe,onReconnectEnd:Le,onEdgeContextMenu:De,onEdgeDoubleClick:$e,onEdgeMouseEnter:Re,onEdgeMouseMove:ze,onEdgeMouseLeave:qe,reconnectRadius:Be,defaultMarkerColor:ge,noDragClassName:Ue,noWheelClassName:He,noPanClassName:Ke,rfId:St,disableKeyboardA11y:tt,nodeExtent:me,viewport:ft,onViewportChange:pt}),(0,r.jsx)(Ms,{nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:g,onConnectStart:y,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:w,nodesDraggable:ne,autoPanOnNodeFocus:re,nodesConnectable:oe,nodesFocusable:se,edgesFocusable:ae,edgesReconnectable:le,elementsSelectable:ce,elevateNodesOnSelect:Je,elevateEdgesOnSelect:et,minZoom:de,maxZoom:fe,nodeExtent:me,onNodesChange:Fe,onEdgesChange:Ve,snapToGrid:Q,snapGrid:J,connectionMode:q,translateExtent:pe,connectOnClick:Ye,defaultEdgeOptions:Qe,fitView:We,fitViewOptions:Xe,onNodesDelete:O,onEdgesDelete:T,onDelete:M,onNodeDragStart:_,onNodeDrag:C,onNodeDragStop:j,onSelectionDrag:P,onSelectionDragStart:I,onSelectionDragStop:L,onMove:p,onMoveStart:h,onMoveEnd:m,noPanClassName:Ke,nodeOrigin:ie,rfId:St,autoPanOnConnect:nt,autoPanOnNodeDrag:rt,autoPanSpeed:ot,onError:at,connectionRadius:st,isValidConnection:it,selectNodesOnDrag:te,nodeDragThreshold:ut,connectionDragThreshold:dt,onBeforeDelete:z,debug:yt,ariaLabelConfig:bt,zIndexMode:wt}),(0,r.jsx)(Ns,{onSelectionChange:A}),Ae,(0,r.jsx)(bs,{proOptions:Ze,position:Ge}),(0,r.jsx)(ys,{rfId:St,disableKeyboardA11y:tt})]})})});function Ca({dimensions:e,lineWidth:t,variant:n,className:o}){return(0,r.jsx)("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:i(["react-flow__background-pattern",n,o])})}function ja({radius:e,className:t}){return(0,r.jsx)("circle",{cx:e,cy:e,r:e,className:i(["react-flow__background-pattern","dots",t])})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(Na||(Na={}));const Oa={[Na.Dots]:1,[Na.Lines]:1,[Na.Cross]:6},Ta=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Ma({id:e,variant:t=Na.Dots,gap:n=20,size:s,lineWidth:a=1,offset:l=0,color:c,bgColor:u,style:d,className:f,patternClassName:p}){const h=(0,o.useRef)(null),{transform:m,patternId:g}=ls(Ta,os),y=s||Oa[t],v=t===Na.Dots,b=t===Na.Cross,w=Array.isArray(n)?n:[n,n],x=[w[0]*m[2]||1,w[1]*m[2]||1],k=y*m[2],S=Array.isArray(l)?l:[l,l],E=b?[k,k]:x,N=[S[0]*m[2]||1+E[0]/2,S[1]*m[2]||1+E[1]/2],_=`${g}${e||""}`;return(0,r.jsxs)("svg",{className:i(["react-flow__background",f]),style:{...d,...Js,"--xy-background-color-props":u,"--xy-background-pattern-color-props":c},ref:h,"data-testid":"rf__background",children:[(0,r.jsx)("pattern",{id:_,x:m[0]%x[0],y:m[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:v?(0,r.jsx)(ja,{radius:k/2,className:p}):(0,r.jsx)(Ca,{dimensions:E,lineWidth:a,variant:t,className:p})}),(0,r.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${_})`})]})}Ma.displayName="Background";const Aa=(0,o.memo)(Ma);function Ia(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,r.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Pa(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,r.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function La(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,r.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Da(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,r.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function $a(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,r.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ra({children:e,className:t,...n}){return(0,r.jsx)("button",{type:"button",className:i(["react-flow__controls-button",t]),...n,children:e})}const za=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function qa({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:l,onFitView:c,onInteractiveChange:u,className:d,children:f,position:p="bottom-left",orientation:h="vertical","aria-label":m}){const g=cs(),{isInteractive:y,minZoomReached:v,maxZoomReached:b,ariaLabelConfig:w}=ls(za,os),{zoomIn:x,zoomOut:k,fitView:S}=Gs(),E="horizontal"===h?"horizontal":"vertical";return(0,r.jsxs)(vs,{className:i(["react-flow__controls",E,d]),position:p,style:e,"data-testid":"rf__controls","aria-label":m??w["controls.ariaLabel"],children:[t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ra,{onClick:()=>{x(),a?.()},className:"react-flow__controls-zoomin",title:w["controls.zoomIn.ariaLabel"],"aria-label":w["controls.zoomIn.ariaLabel"],disabled:b,children:(0,r.jsx)(Ia,{})}),(0,r.jsx)(Ra,{onClick:()=>{k(),l?.()},className:"react-flow__controls-zoomout",title:w["controls.zoomOut.ariaLabel"],"aria-label":w["controls.zoomOut.ariaLabel"],disabled:v,children:(0,r.jsx)(Pa,{})})]}),n&&(0,r.jsx)(Ra,{className:"react-flow__controls-fitview",onClick:()=>{S(s),c?.()},title:w["controls.fitView.ariaLabel"],"aria-label":w["controls.fitView.ariaLabel"],children:(0,r.jsx)(La,{})}),o&&(0,r.jsx)(Ra,{className:"react-flow__controls-interactive",onClick:()=>{g.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),u?.(!y)},title:w["controls.interactive.ariaLabel"],"aria-label":w["controls.interactive.ariaLabel"],children:y?(0,r.jsx)($a,{}):(0,r.jsx)(Da,{})}),f]})}qa.displayName="Controls";const Ba=(0,o.memo)(qa),Fa=(0,o.memo)(function({id:e,x:t,y:n,width:o,height:s,style:a,color:l,strokeColor:c,strokeWidth:u,className:d,borderRadius:f,shapeRendering:p,selected:h,onClick:m}){const{background:g,backgroundColor:y}=a||{},v=l||g||y;return(0,r.jsx)("rect",{className:i(["react-flow__minimap-node",{selected:h},d]),x:t,y:n,rx:f,ry:f,width:o,height:s,style:{fill:v,stroke:c,strokeWidth:u},shapeRendering:p,onClick:m?t=>m(t,e):void 0})}),Va=e=>e.nodes.map(e=>e.id),Ua=e=>e instanceof Function?e:()=>e,Ha=(0,o.memo)(function({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:o,nodeBorderRadius:s,nodeStrokeWidth:i,shapeRendering:a,NodeComponent:l,onClick:c}){const{node:u,x:d,y:f,width:p,height:h}=ls(t=>{const{internals:n}=t.nodeLookup.get(e),r=n.userNode,{x:o,y:s}=n.positionAbsolute,{width:i,height:a}=zr(r);return{node:r,x:o,y:s,width:i,height:a}},os);return u&&!u.hidden&&qr(u)?(0,r.jsx)(l,{x:d,y:f,width:p,height:h,style:u.style,selected:!!u.selected,className:o(u),color:t(u),borderRadius:s,strokeColor:n(u),strokeWidth:i,shapeRendering:a,onClick:c,id:u.id}):null});var Ka=(0,o.memo)(function({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:i=Fa,onClick:a}){const l=ls(Va,os),c=Ua(t),u=Ua(e),d=Ua(n),f="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return(0,r.jsx)(r.Fragment,{children:l.map(e=>(0,r.jsx)(Ha,{id:e,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:o,nodeStrokeWidth:s,NodeComponent:i,onClick:a,shapeRendering:f},e))})});const Wa=e=>!e.hidden,Xa=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Cr(hr(e.nodeLookup,{filter:Wa}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}};function Ya({style:e,className:t,nodeStrokeColor:n,nodeColor:s,nodeClassName:a="",nodeBorderRadius:l=5,nodeStrokeWidth:c,nodeComponent:u,bgColor:d,maskColor:f,maskStrokeColor:p,maskStrokeWidth:h,position:m="bottom-right",onClick:g,onNodeClick:y,pannable:v=!1,zoomable:b=!1,ariaLabel:w,inversePan:x,zoomStep:k=1,offsetScale:S=5}){const E=cs(),N=(0,o.useRef)(null),{boundingRect:_,viewBB:C,rfId:j,panZoom:O,translateExtent:T,flowWidth:M,flowHeight:A,ariaLabelConfig:I}=ls(Xa,os),P=e?.width??200,L=e?.height??150,D=_.width/P,$=_.height/L,R=Math.max(D,$),z=R*P,q=R*L,B=S*R,F=_.x-(z-_.width)/2-B,V=_.y-(q-_.height)/2-B,U=z+2*B,H=q+2*B,K=`react-flow__minimap-desc-${j}`,W=(0,o.useRef)(0),X=(0,o.useRef)();W.current=R,(0,o.useEffect)(()=>{if(N.current&&O)return X.current=function({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Ne(e);return{update:function({translateExtent:e,width:s,height:i,zoomStep:a=1,pannable:l=!0,zoomable:c=!0,inversePan:u=!1}){let d=[0,0];const f=Wn().on("start",e=>{"mousedown"!==e.sourceEvent.type&&"touchstart"!==e.sourceEvent.type||(d=[e.sourceEvent.clientX??e.sourceEvent.touches[0].clientX,e.sourceEvent.clientY??e.sourceEvent.touches[0].clientY])}).on("zoom",l?o=>{const a=n();if("mousemove"!==o.sourceEvent.type&&"touchmove"!==o.sourceEvent.type||!t)return;const l=[o.sourceEvent.clientX??o.sourceEvent.touches[0].clientX,o.sourceEvent.clientY??o.sourceEvent.touches[0].clientY],c=[l[0]-d[0],l[1]-d[1]];d=l;const f=r()*Math.max(a[2],Math.log(a[2]))*(u?-1:1),p={x:a[0]-c[0]*f,y:a[1]-c[1]*f},h=[[0,0],[s,i]];t.setViewportConstrained({x:p.x,y:p.y,zoom:a[2]},h,e)}:null).on("zoom.wheel",c?e=>{if("wheel"!==e.sourceEvent.type||!t)return;const r=n(),o=e.sourceEvent.ctrlKey&&$r()?10:1,s=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*a,i=r[2]*Math.pow(2,s*o);t.scaleTo(i)}:null);o.call(f,{})},destroy:function(){o.on("zoom",null)},pointer:_e}}({domNode:N.current,panZoom:O,getTransform:()=>E.getState().transform,getViewScale:()=>W.current}),()=>{X.current?.destroy()}},[O]),(0,o.useEffect)(()=>{X.current?.update({translateExtent:T,width:M,height:A,inversePan:x,pannable:v,zoomStep:k,zoomable:b})},[v,b,x,k,T,M,A]);const Y=g?e=>{const[t,n]=X.current?.pointer(e)||[0,0];g(e,{x:t,y:n})}:void 0,G=y?(0,o.useCallback)((e,t)=>{const n=E.getState().nodeLookup.get(t).internals.userNode;y(e,n)},[]):void 0,Z=w??I["minimap.ariaLabel"];return(0,r.jsx)(vs,{position:m,style:{...e,"--xy-minimap-background-color-props":"string"==typeof d?d:void 0,"--xy-minimap-mask-background-color-props":"string"==typeof f?f:void 0,"--xy-minimap-mask-stroke-color-props":"string"==typeof p?p:void 0,"--xy-minimap-mask-stroke-width-props":"number"==typeof h?h*R:void 0,"--xy-minimap-node-background-color-props":"string"==typeof s?s:void 0,"--xy-minimap-node-stroke-color-props":"string"==typeof n?n:void 0,"--xy-minimap-node-stroke-width-props":"number"==typeof c?c:void 0},className:i(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:(0,r.jsxs)("svg",{width:P,height:L,viewBox:`${F} ${V} ${U} ${H}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:N,onClick:Y,children:[Z&&(0,r.jsx)("title",{id:K,children:Z}),(0,r.jsx)(Ka,{onClick:G,nodeColor:s,nodeStrokeColor:n,nodeBorderRadius:l,nodeClassName:a,nodeStrokeWidth:c,nodeComponent:u}),(0,r.jsx)("path",{className:"react-flow__minimap-mask",d:`M${F-B},${V-B}h${U+2*B}v${H+2*B}h${-U-2*B}z\n        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Ya.displayName="MiniMap";const Ga=(0,o.memo)(Ya),Za={[Fo.Line]:"right",[Fo.Handle]:"bottom-right"};(0,o.memo)(function({nodeId:e,position:t,variant:n=Fo.Handle,className:s,style:a,children:l,color:c,minWidth:u=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:h=!1,resizeDirection:m,autoScale:g=!0,shouldResize:y,onResizeStart:v,onResize:b,onResizeEnd:w}){const x=fi(),k="string"==typeof e?e:x,S=cs(),E=(0,o.useRef)(null),N=n===Fo.Handle,_=ls((0,o.useCallback)((C=N&&g,e=>C?`${Math.max(1/e.transform[2],1)}`:void 0),[N,g]),os);var C;const j=(0,o.useRef)(null),O=t??Za[n];(0,o.useEffect)(()=>{if(E.current&&k)return j.current||(j.current=function({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const s=Ne(e);let i={controlDirection:Vo("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};return{update:function({controlPosition:e,boundaries:a,keepAspectRatio:l,resizeDirection:c,onResizeStart:u,onResize:d,onResizeEnd:f,shouldResize:p}){let h,m={...Xo},g={...Yo};i={boundaries:a,resizeDirection:c,keepAspectRatio:l,controlDirection:Vo(e)};let y,v,b,w=null,x=[],k=!1;const S=ze().on("start",e=>{const{nodeLookup:r,transform:o,snapGrid:s,snapToGrid:i,nodeOrigin:a,paneDomNode:l}=n();if(h=r.get(t),!h)return;w=l?.getBoundingClientRect()??null;const{xSnapped:c,ySnapped:d}=Ur(e.sourceEvent,{transform:o,snapGrid:s,snapToGrid:i,containerBounds:w});m={width:h.measured.width??0,height:h.measured.height??0,x:h.position.x??0,y:h.position.y??0},g={...m,pointerX:c,pointerY:d,aspectRatio:m.width/m.height},y=void 0,h.parentId&&("parent"===h.extent||h.expandParent)&&(y=r.get(h.parentId),v=y&&"parent"===h.extent?function(e){return[[0,0],[e.measured.width,e.measured.height]]}(y):void 0),x=[],b=void 0;for(const[e,n]of r)if(n.parentId===t&&(x.push({id:e,position:{...n.position},extent:n.extent}),"parent"===n.extent||n.expandParent)){const e=Go(n,h,n.origin??a);b=b?[[Math.min(e[0][0],b[0][0]),Math.min(e[0][1],b[0][1])],[Math.max(e[1][0],b[1][0]),Math.max(e[1][1],b[1][1])]]:e}u?.(e,{...m})}).on("drag",e=>{const{transform:t,snapGrid:o,snapToGrid:s,nodeOrigin:a}=n(),l=Ur(e.sourceEvent,{transform:t,snapGrid:o,snapToGrid:s,containerBounds:w}),c=[];if(!h)return;const{x:u,y:f,width:S,height:E}=m,N={},_=h.origin??a,{width:C,height:j,x:O,y:T}=function(e,t,n,r,o,s,i,a){let{affectsX:l,affectsY:c}=t;const{isHorizontal:u,isVertical:d}=t,f=u&&d,{xSnapped:p,ySnapped:h}=n,{minWidth:m,maxWidth:g,minHeight:y,maxHeight:v}=r,{x:b,y:w,width:x,height:k,aspectRatio:S}=e;let E=Math.floor(u?p-e.pointerX:0),N=Math.floor(d?h-e.pointerY:0);const _=x+(l?-E:E),C=k+(c?-N:N),j=-s[0]*x,O=-s[1]*k;let T=Ko(_,m,g),M=Ko(C,y,v);if(i){let e=0,t=0;l&&E<0?e=Uo(b+E+j,i[0][0]):!l&&E>0&&(e=Ho(b+_+j,i[1][0])),c&&N<0?t=Uo(w+N+O,i[0][1]):!c&&N>0&&(t=Ho(w+C+O,i[1][1])),T=Math.max(T,e),M=Math.max(M,t)}if(a){let e=0,t=0;l&&E>0?e=Ho(b+E,a[0][0]):!l&&E<0&&(e=Uo(b+_,a[1][0])),c&&N>0?t=Ho(w+N,a[0][1]):!c&&N<0&&(t=Uo(w+C,a[1][1])),T=Math.max(T,e),M=Math.max(M,t)}if(o){if(u){const e=Ko(_/S,y,v)*S;if(T=Math.max(T,e),i){let e=0;e=!l&&!c||l&&!c&&f?Ho(w+O+_/S,i[1][1])*S:Uo(w+O+(l?E:-E)/S,i[0][1])*S,T=Math.max(T,e)}if(a){let e=0;e=!l&&!c||l&&!c&&f?Uo(w+_/S,a[1][1])*S:Ho(w+(l?E:-E)/S,a[0][1])*S,T=Math.max(T,e)}}if(d){const e=Ko(C*S,m,g)/S;if(M=Math.max(M,e),i){let e=0;e=!l&&!c||c&&!l&&f?Ho(b+C*S+j,i[1][0])/S:Uo(b+(c?N:-N)*S+j,i[0][0])/S,M=Math.max(M,e)}if(a){let e=0;e=!l&&!c||c&&!l&&f?Uo(b+C*S,a[1][0])/S:Ho(b+(c?N:-N)*S,a[0][0])/S,M=Math.max(M,e)}}}N+=N<0?M:-M,E+=E<0?T:-T,o&&(f?_>C*S?N=(Wo(l,c)?-E:E)/S:E=(Wo(l,c)?-N:N)*S:u?(N=E/S,c=l):(E=N*S,l=c));const A=l?b+E:b,I=c?w+N:w;return{width:x+(l?-E:E),height:k+(c?-N:N),x:s[0]*E*(l?-1:1)+A,y:s[1]*N*(c?-1:1)+I}}(g,i.controlDirection,l,i.boundaries,i.keepAspectRatio,_,v,b),M=C!==S,A=j!==E,I=O!==u&&M,P=T!==f&&A;if(!(I||P||M||A))return;if((I||P||1===_[0]||1===_[1])&&(N.x=I?O:m.x,N.y=P?T:m.y,m.x=N.x,m.y=N.y,x.length>0)){const e=O-u,t=T-f;for(const n of x)n.position={x:n.position.x-e+_[0]*(C-S),y:n.position.y-t+_[1]*(j-E)},c.push(n)}if((M||A)&&(N.width=!M||i.resizeDirection&&"horizontal"!==i.resizeDirection?m.width:C,N.height=!A||i.resizeDirection&&"vertical"!==i.resizeDirection?m.height:j,m.width=N.width,m.height=N.height),y&&h.expandParent){const e=_[0]*(N.width??0);N.x&&N.x<e&&(m.x=e,g.x=g.x-(N.x-e));const t=_[1]*(N.height??0);N.y&&N.y<t&&(m.y=t,g.y=g.y-(N.y-t))}const L=function({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:s}){const i=e-t,a=n-r,l=[i>0?1:i<0?-1:0,a>0?1:a<0?-1:0];return i&&o&&(l[0]=-1*l[0]),a&&s&&(l[1]=-1*l[1]),l}({width:m.width,prevWidth:S,height:m.height,prevHeight:E,affectsX:i.controlDirection.affectsX,affectsY:i.controlDirection.affectsY}),D={...m,direction:L},$=p?.(e,D);!1!==$&&(k=!0,d?.(e,D),r(N,c))}).on("end",e=>{k&&(f?.(e,{...m}),o?.({...m}),k=!1)});s.call(S)},destroy:function(){s.on(".drag",null)}}}({domNode:E.current,nodeId:k,getStoreItems:()=>{const{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o,domNode:s}=S.getState();return{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o,paneDomNode:s}},onChange:(e,t)=>{const{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,nodeOrigin:s}=S.getState(),i=[],a={x:e.x,y:e.y},l=r.get(k);if(l&&l.expandParent&&l.parentId){const t=l.origin??s,n=e.width??l.measured.width??0,c=e.height??l.measured.height??0,u=So([{id:l.id,parentId:l.parentId,rect:{width:n,height:c,...Br({x:e.x??l.position.x,y:e.y??l.position.y},{width:n,height:c},l.parentId,r,t)}}],r,o,s);i.push(...u),a.x=e.x?Math.max(t[0]*n,e.x):void 0,a.y=e.y?Math.max(t[1]*c,e.y):void 0}if(void 0!==a.x&&void 0!==a.y){const e={id:k,type:"position",position:{...a}};i.push(e)}if(void 0!==e.width&&void 0!==e.height){const t={id:k,type:"dimensions",resizing:!0,setAttributes:!m||("horizontal"===m?"width":"height"),dimensions:{width:e.width,height:e.height}};i.push(t)}for(const e of t){const t={...e,type:"position"};i.push(t)}n(i)},onEnd:({width:e,height:t})=>{const n={id:k,type:"dimensions",resizing:!1,dimensions:{width:e,height:t}};S.getState().triggerNodeChanges([n])}})),j.current.update({controlPosition:O,boundaries:{minWidth:u,minHeight:d,maxWidth:f,maxHeight:p},keepAspectRatio:h,resizeDirection:m,onResizeStart:v,onResize:b,onResizeEnd:w,shouldResize:y}),()=>{j.current?.destroy()}},[O,u,d,f,p,h,v,b,w,y]);const T=O.split("-");return(0,r.jsx)("div",{className:i(["react-flow__resize-control","nodrag",...T,n,s]),ref:E,style:{...a,scale:_,...c&&{[N?"backgroundColor":"borderColor"]:c}},children:l})});var Qa={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ja=o.createContext&&o.createContext(Qa),el=["attr","size","title"];function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tl.apply(this,arguments)}function nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(n),!0).forEach(function(t){ol(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ol(e,t,n){var r;return(t="symbol"==typeof(r=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sl(e){return e&&e.map((e,t)=>o.createElement(e.tag,rl({key:t},e.attr),sl(e.child)))}function il(e){return t=>o.createElement(al,tl({attr:rl({},e.attr)},t),sl(e.child))}function al(e){var t=t=>{var n,{attr:r,size:s,title:i}=e,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,el),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),o.createElement("svg",tl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:rl(rl({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&o.createElement("title",null,i),e.children)};return void 0!==Ja?o.createElement(Ja.Consumer,null,e=>t(e)):t(Qa)}function ll(e){return il({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}function cl(e){return il({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"},child:[]}]})(e)}function ul(e){return il({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1H8a3 3 0 00-3 3v1.5a1.5 1.5 0 01-3 0V6z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"M6 12a2 2 0 012-2h8a2 2 0 012 2v2a2 2 0 01-2 2H2h2a2 2 0 002-2v-2z"},child:[]}]})(e)}function dl(e){return il({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"},child:[]}]})(e)}function fl(e){return il({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 5a2 2 0 012-2h12a2 2 0 012 2v2a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm14 1a1 1 0 11-2 0 1 1 0 012 0zM2 13a2 2 0 012-2h12a2 2 0 012 2v2a2 2 0 01-2 2H4a2 2 0 01-2-2v-2zm14 1a1 1 0 11-2 0 1 1 0 012 0z",clipRule:"evenodd"},child:[]}]})(e)}function pl(e){return il({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(e)}function hl(e){return il({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}function ml(e){return il({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}function gl(e){return il({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},child:[]}]})(e)}function yl(e){return il({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"},child:[]}]})(e)}const vl=(0,o.memo)(function(e){const{selected:t}=e;return(0,r.jsxs)("div",{className:`\n        flex h-10 w-10 items-center justify-center rounded-lg border-2 border-dashed border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800\n        text-lg font-light text-slate-500 dark:text-slate-400 shadow-sm transition-colors\n        hover:border-blue-400 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400\n        ${t?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 ring-2 ring-blue-200 dark:ring-blue-900":""}\n      `,title:"Add new job",children:[(0,r.jsx)(hi,{type:"target",position:lr.Left,className:"!h-2 !w-2 !border-2 !border-slate-400 dark:!border-slate-600 !bg-white dark:!bg-slate-800"}),"+"]})});function bl(e){return il({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"},child:[]}]})(e)}function wl(e){return il({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.61.455a3.41 3.41 0 0 0-3.41 3.41 3.41 3.41 0 0 0 3.41 3.41 3.41 3.41 0 0 0 3.41-3.41 3.41 3.41 0 0 0-3.41-3.41zM12.92.8C8.923.777 5.137 2.941 3.148 6.451a4.5 4.5 0 0 1 .26-.007 4.92 4.92 0 0 1 2.585.737A8.316 8.316 0 0 1 12.688 3.6 4.944 4.944 0 0 1 13.723.834 11.008 11.008 0 0 0 12.92.8zm9.226 4.994a4.915 4.915 0 0 1-1.918 2.246 8.36 8.36 0 0 1-.273 8.303 4.89 4.89 0 0 1 1.632 2.54 11.156 11.156 0 0 0 .559-13.089zM3.41 7.932A3.41 3.41 0 0 0 0 11.342a3.41 3.41 0 0 0 3.41 3.409 3.41 3.41 0 0 0 3.41-3.41 3.41 3.41 0 0 0-3.41-3.41zm2.027 7.866a4.908 4.908 0 0 1-2.915.358 11.1 11.1 0 0 0 7.991 6.698 11.234 11.234 0 0 0 2.422.249 4.879 4.879 0 0 1-.999-2.85 8.484 8.484 0 0 1-.836-.136 8.304 8.304 0 0 1-5.663-4.32zm11.405.928a3.41 3.41 0 0 0-3.41 3.41 3.41 3.41 0 0 0 3.41 3.41 3.41 3.41 0 0 0 3.41-3.41 3.41 3.41 0 0 0-3.41-3.41z"},child:[]}]})(e)}function xl(e){return il({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"},child:[]}]})(e)}function kl({runsOn:e,className:t=""}){const{icon:n,version:o}=function(e){const t=(e||"ubuntu-latest").split(",")[0].trim().toLowerCase();if(t.startsWith("ubuntu")){const e=t.slice(7)||"latest";return{icon:(0,r.jsx)(wl,{className:"text-[#E95420] shrink-0",size:14}),version:e}}if(t.startsWith("macos")){const e=t.slice(6)||"latest";return{icon:(0,r.jsx)(bl,{className:"text-gray-700 dark:text-gray-300 shrink-0",size:14}),version:e}}if(t.startsWith("windows")){const e=t.slice(8)||"latest";return{icon:(0,r.jsx)(xl,{className:"text-blue-500 shrink-0",size:14}),version:e}}if("self-hosted"===t||t.startsWith("self-hosted"))return{icon:(0,r.jsx)(fl,{className:"text-slate-600 dark:text-slate-400 shrink-0",size:14}),version:"self-hosted"};const n=t.includes("-")?t.slice(t.indexOf("-")+1):t||"latest";return{icon:(0,r.jsx)(fl,{className:"text-slate-600 dark:text-slate-400 shrink-0",size:14}),version:n}}(e);return(0,r.jsxs)("span",{className:`inline-flex items-center gap-1 rounded bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 text-xs text-slate-600 dark:text-slate-300 ${t}`,title:e||"ubuntu-latest",children:[n,(0,r.jsx)("span",{children:o})]})}const Sl=(0,o.memo)(function(e){const{data:t,selected:n}=e,o=t;return(0,r.jsxs)("div",{className:`\n        min-w-[180px] rounded-lg border-2 bg-white dark:bg-slate-800 px-3 py-2 shadow-sm\n        ${n?"border-blue-500 dark:border-blue-400 ring-2 ring-blue-200 dark:ring-blue-900":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}\n      `,children:[(0,r.jsx)(hi,{type:"target",position:lr.Left,className:"!h-2 !w-2 !border-2 !border-slate-400 dark:!border-slate-600 !bg-white dark:!bg-slate-800"}),(0,r.jsx)("div",{className:"font-medium text-slate-800 dark:text-slate-200",children:o.label}),(0,r.jsxs)("div",{className:"mt-1 flex flex-wrap items-center gap-1",children:[(0,r.jsx)(kl,{runsOn:o.runsOn??"ubuntu-latest"}),o.hasMatrix&&o.matrixCombinations&&(0,r.jsxs)("span",{className:"rounded bg-amber-100 dark:bg-amber-900/30 px-1.5 py-0.5 text-xs font-medium text-amber-800 dark:text-amber-200",children:[o.matrixCombinations," matrix"]}),o.stepCount>0&&(0,r.jsxs)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[o.stepCount," step",1!==o.stepCount?"s":""]})]}),(0,r.jsx)(hi,{type:"source",position:lr.Right,className:"!h-2 !w-2 !border-2 !border-slate-400 dark:!border-slate-600 !bg-white dark:!bg-slate-800"})]})}),El=[{name:"node",label:"Node.js",values:["16","18","20","22"]},{name:"python",label:"Python",values:["3.8","3.9","3.10","3.11","3.12","3.13"]},{name:"os",label:"Operating System",values:["ubuntu-latest","ubuntu-22.04","ubuntu-20.04","windows-latest","windows-2022","windows-2019","macos-latest","macos-14","macos-13","macos-12"]},{name:"java",label:"Java",values:["8","11","17","21"]},{name:"go",label:"Go",values:["1.19","1.20","1.21","1.22","1.23"]},{name:"ruby",label:"Ruby",values:["3.0","3.1","3.2","3.3"]},{name:"php",label:"PHP",values:["8.0","8.1","8.2","8.3"]},{name:"dotnet",label:".NET",values:["6.0","7.0","8.0"]}];function Nl(){return(0,r.jsx)(wl,{className:"text-[#E95420]",size:16})}function _l(){return(0,r.jsx)(bl,{className:"text-gray-700",size:16})}function Cl(){return(0,r.jsx)(xl,{className:"text-blue-500",size:16})}function jl({workflow:e,jobId:t,onWorkflowChange:n,onClose:s,onDeleteJob:i}){const a=e.jobs[t],l=(0,o.useCallback)(r=>{const o={...e,jobs:{...e.jobs}};o.jobs[t]&&(o.jobs[t]=r(o.jobs[t]),n(o))},[e,t,n]),c=(0,o.useCallback)((e,t)=>{l(n=>({...n,[e]:t}))},[l]),u=(0,o.useCallback)(()=>{l(e=>({...e,steps:[...e.steps??[],{run:""}]}))},[l]),d=(0,o.useCallback)((e,t)=>{l(n=>{const r=[...n.steps??[]];return r[e]=t(r[e]??{run:""}),{...n,steps:r}})},[l]),f=(0,o.useCallback)(e=>{l(t=>{const n=(t.steps??[]).filter((t,n)=>n!==e);return{...t,steps:n}})},[l]),p=a?Array.isArray(a["runs-on"])?a["runs-on"].join(", "):String(a["runs-on"]??""):"",h=(0,o.useMemo)(()=>a?.needs?Array.isArray(a.needs)?a.needs:[a.needs]:[],[a?.needs]),m=Object.keys(e.jobs).filter(e=>e!==t),g=[{value:"ubuntu-latest",label:"Ubuntu Latest",icon:Nl()},{value:"ubuntu-22.04",label:"Ubuntu 22.04",icon:Nl()},{value:"ubuntu-20.04",label:"Ubuntu 20.04",icon:Nl()},{value:"macos-latest",label:"macOS Latest",icon:_l()},{value:"macos-14",label:"macOS 14",icon:_l()},{value:"macos-13",label:"macOS 13",icon:_l()},{value:"macos-12",label:"macOS 12",icon:_l()},{value:"windows-latest",label:"Windows Latest",icon:Cl()},{value:"windows-2022",label:"Windows 2022",icon:Cl()},{value:"windows-2019",label:"Windows 2019",icon:Cl()},{value:"self-hosted",label:"Self-hosted",icon:(0,r.jsx)(fl,{className:"text-slate-600",size:16})}],y=g.find(e=>e.value===p)||{value:p,label:p||"ubuntu-latest",icon:Nl()},[v,b]=(0,o.useState)(!1),[w,x]=(0,o.useState)({}),[k,S]=(0,o.useState)({}),E=(0,o.useRef)(null);(0,o.useEffect)(()=>{const e=e=>{E.current&&!E.current.contains(e.target)&&b(!1);const t=e.target;t instanceof Element&&(t.closest("[data-matrix-dropdown]")||(x({}),S({})))};return(v||Object.keys(w).length>0||Object.keys(k).length>0)&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[v,w,k]);const N=(0,o.useCallback)(e=>{c("runs-on",e||"ubuntu-latest"),b(!1)},[c]),_=(0,o.useCallback)((e,t,n)=>{n.stopPropagation();const r=h,o=t?[...r,e]:r.filter(t=>t!==e);c("needs",0===o.length?void 0:1===o.length?o[0]:o)},[h,c]);return a?(0,r.jsxs)("aside",{className:"flex w-96 shrink-0 flex-col border-l border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-sm pr-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 dark:border-slate-700 px-3 py-1.5",children:[(0,r.jsxs)("h2",{className:"text-xs font-semibold text-slate-800 dark:text-slate-200",children:["Job: ",t]}),(0,r.jsx)("button",{type:"button",onClick:s,className:"rounded p-1 text-slate-400 dark:text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"Close panel",children:(0,r.jsx)("span",{className:"text-sm leading-none",children:""})})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400",children:"Display name"}),(0,r.jsx)("input",{type:"text",value:a.name??"",onChange:e=>c("name",e.target.value||void 0),className:"mt-1 w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:t})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400",children:"Runs on"}),(0,r.jsxs)("div",{ref:E,className:"relative mt-1",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>b(!v),className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-1.5 py-1 text-xs text-left flex items-center gap-2 hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-slate-900 dark:text-slate-200",children:[(0,r.jsx)("span",{className:"flex-shrink-0",children:y.icon}),(0,r.jsx)("span",{className:"flex-1",children:y.label}),(0,r.jsx)("span",{className:"text-slate-400 dark:text-slate-500 transition-transform "+(v?"rotate-180":""),children:""})]}),v&&(0,r.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded shadow-lg max-h-60 overflow-auto",children:[g.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>N(e.value),className:"w-full px-1.5 py-1 text-xs text-left flex items-center gap-2 hover:bg-slate-50 dark:hover:bg-slate-700 "+(e.value===p?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-slate-900 dark:text-slate-200"),children:[(0,r.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,r.jsx)("span",{children:e.label})]},e.value)),!g.some(e=>e.value===p)&&(0,r.jsxs)("button",{type:"button",onClick:()=>N(p),className:"w-full px-1.5 py-1 text-xs text-left flex items-center gap-2 hover:bg-slate-50 dark:hover:bg-slate-700 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",children:[(0,r.jsx)("span",{className:"flex-shrink-0",children:y.icon}),(0,r.jsx)("span",{children:p||"ubuntu-latest"})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400",children:"Needs"}),0===m.length?(0,r.jsx)("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"No other jobs in this workflow."}):(0,r.jsx)("ul",{className:"mt-1 space-y-1.5 rounded border border-slate-300 dark:border-slate-600 bg-slate-50/50 dark:bg-slate-700/50 p-2",children:m.map(e=>(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",id:`needs-${e}`,checked:h.includes(e),onChange:t=>_(e,t.target.checked,t),onClick:e=>e.stopPropagation(),className:"h-4 w-4 rounded border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 focus:ring-slate-500 dark:focus:ring-slate-400"}),(0,r.jsx)("label",{htmlFor:`needs-${e}`,className:"cursor-pointer text-xs text-slate-700 dark:text-slate-300",children:e})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400",children:"Environment Variables"}),(0,r.jsx)("button",{type:"button",onClick:()=>{const e={...a.env??{},"":""};c("env",e)},className:"rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-1.5 py-0.5 text-xs text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:"+ Add variable"})]}),a.env&&0!==Object.keys(a.env).length?(0,r.jsx)("div",{className:"space-y-1.5",children:Object.entries(a.env).map(([e,t])=>(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:n=>{const r={...a.env??{}};delete r[e],r[n.target.value]=t,c("env",Object.keys(r).length>0?r:void 0)},className:"flex-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Variable name"}),(0,r.jsx)("input",{type:"text",value:t,onChange:t=>{const n={...a.env??{}};""===t.target.value?delete n[e]:n[e]=t.target.value,c("env",Object.keys(n).length>0?n:void 0)},className:"flex-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Value"}),(0,r.jsx)("button",{type:"button",onClick:()=>{const t={...a.env??{}};delete t[e],c("env",Object.keys(t).length>0?t:void 0)},className:"rounded p-1 text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 hover:text-slate-600 dark:hover:text-slate-300 shrink-0",children:""})]},e))}):(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 italic",children:"No environment variables configured"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400",children:"Matrix Strategy"}),(0,r.jsx)("button",{type:"button",onClick:()=>{a.strategy?.matrix?c("strategy",void 0):c("strategy",{matrix:{}})},className:"rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-1.5 py-0.5 text-xs text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:a.strategy?.matrix?"Remove matrix":"Add matrix"})]}),a.strategy?.matrix&&(0,r.jsxs)("div",{className:"mb-3 rounded border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50 p-2 space-y-2","data-matrix-dropdown":!0,children:[(0,r.jsxs)("div",{className:"space-y-2",children:[Object.entries(a.strategy.matrix).map(([e,t])=>{const n=(o=e,El.some(e=>e.name===o));var o;const s=function(e){const t=El.find(t=>t.name===e);return t?t.values:null}(e),i=w[e]??!1;return(0,r.jsxs)("div",{className:"rounded border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,r.jsx)("div",{className:"relative flex-1",children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{type:"button",onClick:()=>x(t=>({...t,[e]:!t[e]})),className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-1.5 py-1 text-xs text-left flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-600 text-slate-900 dark:text-slate-200",children:[(0,r.jsx)("span",{className:"font-medium",children:El.find(t=>t.name===e)?.label||e}),(0,r.jsx)("span",{className:"text-slate-400 dark:text-slate-500",children:""})]}),i&&(0,r.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded shadow-lg max-h-60 overflow-auto",children:[El.map(n=>(0,r.jsx)("button",{type:"button",onClick:()=>{const r={...a.strategy.matrix};delete r[e];const o=Array.isArray(t)?t:[];r[n.name]=o.length>0?o:[n.values[0]],c("strategy",{...a.strategy,matrix:r}),x(t=>({...t,[e]:!1}))},className:"w-full px-1.5 py-1 text-xs text-left hover:bg-slate-50 dark:hover:bg-slate-700 "+(n.name===e?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-slate-900 dark:text-slate-200"),children:n.label},n.name)),(0,r.jsx)("div",{className:"border-t border-slate-200 px-1.5 py-1",children:(0,r.jsx)("input",{type:"text",value:e,onChange:n=>{const r={...a.strategy.matrix};delete r[e],r[n.target.value]=t,c("strategy",{...a.strategy,matrix:r})},className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Custom variable name",onClick:e=>e.stopPropagation()})})]})]}):(0,r.jsx)("input",{type:"text",value:e,onChange:n=>{const r={...a.strategy.matrix};delete r[e],r[n.target.value]=t,c("strategy",{...a.strategy,matrix:r})},className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs font-medium",placeholder:"Variable name"})}),(0,r.jsx)("button",{type:"button",onClick:()=>{const t={...a.strategy.matrix};delete t[e],c("strategy",{...a.strategy,matrix:Object.keys(t).length>0?t:void 0})},className:"ml-2 rounded p-1 text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 hover:text-slate-600 dark:hover:text-slate-300 shrink-0",children:""})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[Array.isArray(t)&&t.map((t,n)=>{const o=String(t),i=k[`${e}-${n}`]??!1,l=null!==s;return(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[l?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>S(t=>({...t,[`${e}-${n}`]:!t[`${e}-${n}`]})),className:"w-24 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-1.5 py-1 text-xs text-left flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-600 text-slate-900 dark:text-slate-200",children:[(0,r.jsx)("span",{className:"truncate",children:o}),(0,r.jsx)("span",{className:"text-slate-400 dark:text-slate-500 text-xs shrink-0 ml-1",children:""})]}),i&&(0,r.jsxs)("div",{className:"absolute z-10 w-32 mt-1 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded shadow-lg max-h-60 overflow-auto",children:[s.map(t=>(0,r.jsx)("button",{type:"button",onClick:()=>{const r={...a.strategy.matrix},o=[...r[e]??[]];o[n]=t,r[e]=o,c("strategy",{...a.strategy,matrix:r}),S(t=>({...t,[`${e}-${n}`]:!1}))},className:"w-full px-1.5 py-1 text-xs text-left hover:bg-slate-50 dark:hover:bg-slate-700 "+(t===o?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-slate-900 dark:text-slate-200"),children:t},t)),(0,r.jsx)("div",{className:"border-t border-slate-200 px-2 py-1",children:(0,r.jsx)("input",{type:"text",value:o,onChange:t=>{const r={...a.strategy.matrix},o=r[e]??[],s=[...o],i=Number(t.target.value);o.length>0&&"number"==typeof o[0]&&!Number.isNaN(i)&&""!==t.target.value.trim()?s[n]=i:s[n]=t.target.value,r[e]=s,c("strategy",{...a.strategy,matrix:r})},className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Custom value",onClick:e=>e.stopPropagation()})})]})]}):(0,r.jsx)("input",{type:"text",value:o,onChange:t=>{const r={...a.strategy.matrix},o=r[e]??[],s=[...o],i=Number(t.target.value);o.length>0&&"number"==typeof o[0]&&!Number.isNaN(i)&&""!==t.target.value.trim()?s[n]=i:s[n]=t.target.value,r[e]=s,c("strategy",{...a.strategy,matrix:r})},className:"w-24 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Value"}),(0,r.jsx)("button",{type:"button",onClick:()=>{const t={...a.strategy.matrix},r=(t[e]??[]).filter((e,t)=>t!==n);r.length>0?t[e]=r:delete t[e],c("strategy",{...a.strategy,matrix:Object.keys(t).length>0?t:void 0})},className:"rounded p-1 text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 hover:text-slate-600 dark:hover:text-slate-300 shrink-0",children:""})]},n)}),(0,r.jsx)("button",{type:"button",onClick:()=>{const t={...a.strategy.matrix},n=[...t[e]??[],s&&s.length>0?s[0]:""];t[e]=n,c("strategy",{...a.strategy,matrix:t})},className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-1.5 py-0.5 text-xs text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:"+ Add value"})]})]},e)}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>x(e=>({...e,__new__:!e.__new__})),className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-1.5 py-0.5 text-xs text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600 flex items-center justify-between",children:[(0,r.jsx)("span",{children:"+ Add matrix variable"}),(0,r.jsx)("span",{className:"text-slate-400 dark:text-slate-500",children:""})]}),w.__new__&&(0,r.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded shadow-lg max-h-60 overflow-auto",children:[El.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>{const t={...a.strategy.matrix};t[e.name]=[e.values[0]],c("strategy",{...a.strategy,matrix:t}),x(e=>({...e,__new__:!1}))},className:"w-full px-1.5 py-1 text-xs text-left hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-900 dark:text-slate-200",children:e.label},e.name)),(0,r.jsx)("div",{className:"border-t border-slate-200 dark:border-slate-700 px-1.5 py-1",children:(0,r.jsx)("input",{type:"text",onKeyDown:e=>{if("Enter"===e.key){const t=e.currentTarget,n={...a.strategy.matrix,[t.value]:[""]};c("strategy",{...a.strategy,matrix:n}),x(e=>({...e,__new__:!1})),t.value=""}},className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Custom variable name (Enter)",onClick:e=>e.stopPropagation()})})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border-t border-slate-200 dark:border-slate-700 pt-1.5",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-xs text-slate-900 dark:text-slate-200",children:[(0,r.jsx)("input",{type:"checkbox",checked:!1!==a.strategy["fail-fast"],onChange:e=>{c("strategy",{...a.strategy,"fail-fast":!!e.target.checked&&void 0})},className:"h-4 w-4 rounded border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400"}),(0,r.jsx)("span",{children:"Fail fast (default: true)"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Max parallel:"}),(0,r.jsx)("input",{type:"number",value:a.strategy["max-parallel"]??"",onChange:e=>{const t=""===e.target.value?void 0:Number(e.target.value);c("strategy",{...a.strategy,"max-parallel":t})},className:"w-20 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"",min:"1"})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400",children:"Steps"}),(0,r.jsx)("button",{type:"button",onClick:u,className:"rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-1.5 py-0.5 text-xs text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:"Add step"})]}),(0,r.jsx)("ul",{className:"mt-2 space-y-3",children:(a.steps??[]).map((e,t)=>(0,r.jsxs)("li",{className:"rounded border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50 p-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:["Step ",t+1]}),(0,r.jsx)("button",{type:"button",onClick:()=>f(t),className:"rounded p-0.5 text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 hover:text-slate-600 dark:hover:text-slate-300","aria-label":`Remove step ${t+1}`,children:""})]}),(0,r.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,r.jsx)("input",{type:"text",value:e.name??"",onChange:e=>d(t,t=>({...t,name:e.target.value||void 0})),className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Step name"}),(0,r.jsx)("input",{type:"text",value:e.uses??"",onChange:e=>d(t,t=>({...t,uses:e.target.value||void 0})),className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"uses: actions/checkout@v4"}),e.uses&&(0,r.jsxs)("div",{className:"rounded border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,r.jsx)("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"With (action inputs)"}),(0,r.jsx)("button",{type:"button",onClick:()=>{e.with&&Object.keys(e.with).length>0?d(t,e=>({...e,with:void 0})):d(t,e=>({...e,with:{"":""}}))},className:"text-xs text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300",children:e.with&&Object.keys(e.with).length>0?"Remove":"Add"})]}),e.with&&Object.keys(e.with).length>0&&(0,r.jsxs)("div",{className:"space-y-1.5 mt-2",children:[Object.entries(e.with).map(([n,o],s)=>(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("input",{type:"text",value:n,onChange:r=>{const s={...e.with};delete s[n],s[r.target.value]=o,d(t,e=>({...e,with:Object.keys(s).length>0?s:void 0}))},className:"flex-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Input name"}),(0,r.jsx)("input",{type:"text",value:String(o),onChange:r=>{const s={...e.with},i=Number(r.target.value);"number"!=typeof o||Number.isNaN(i)||""===r.target.value.trim()?s[n]=r.target.value:s[n]=i,d(t,e=>({...e,with:s}))},className:"flex-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Value"}),(0,r.jsx)("button",{type:"button",onClick:()=>{const r={...e.with};delete r[n],d(t,e=>({...e,with:Object.keys(r).length>0?r:void 0}))},className:"rounded p-0.5 text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 hover:text-slate-600 dark:hover:text-slate-300 shrink-0",children:""})]},s)),(0,r.jsx)("button",{type:"button",onClick:()=>{const n={...e.with,"":""};d(t,e=>({...e,with:n}))},className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-1.5 py-0.5 text-xs text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:"+ Add input"})]})]}),(0,r.jsx)("textarea",{value:e.run??"",onChange:e=>d(t,t=>({...t,run:e.target.value||void 0})),className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs font-mono",placeholder:"run: ...",rows:2})]})]},t))})]})]}),i&&(0,r.jsx)("div",{className:"flex justify-center border-t border-slate-200 dark:border-slate-700 p-4",children:(0,r.jsx)("button",{type:"button",onClick:()=>i(t),className:"rounded border border-red-200 dark:border-red-800 bg-white dark:bg-slate-800 px-3 py-1.5 text-xs font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30","aria-label":`Delete job ${t}`,children:"Delete job"})})]}):null}const Ol=new Set(["branch_protection_rule","check_run","check_suite","discussion","discussion_comment","issue_comment","issues","label","merge_group","milestone","pull_request","pull_request_review","pull_request_review_comment","pull_request_target","registry_package","release","repository_dispatch","watch","workflow_run"]);function Tl(e){if(!e)return[];if("string"==typeof e)return[{event:e,config:{}}];if(Array.isArray(e))return e.flatMap(e=>"string"==typeof e?[{event:e,config:{}}]:"object"==typeof e&&null!==e?Object.entries(e).map(([e,t])=>({event:e,config:t??{}})):[]);if("object"==typeof e&&null!==e){const t=[];for(const[n,r]of Object.entries(e))if("schedule"===n&&Array.isArray(r))for(const e of r)"object"==typeof e&&null!==e&&"cron"in e?t.push({event:n,config:{cron:e.cron}}):t.push({event:n,config:{}});else t.push({event:n,config:r??{}});return t}return[]}const Ml="shrink-0 text-purple-700 dark:text-purple-300";function Al({trigger:e,className:t=""}){const n=function(e){const{event:t,config:n}=e,o=function(e){const t=e.toLowerCase();return"push"===t?(0,r.jsx)(yl,{className:Ml,size:14}):"pull_request"===t||"pull_request_target"===t?(0,r.jsx)(gl,{className:Ml,size:14}):"schedule"===t?(0,r.jsx)(hl,{className:Ml,size:14}):(0,r.jsx)(ml,{className:Ml,size:14})}(t),s=[];return n.branches&&n.branches.length>0&&s.push({icon:o,label:1===n.branches.length?n.branches[0]:n.branches.join(", ")}),n.tags&&n.tags.length>0&&s.push({icon:o,label:1===n.tags.length?n.tags[0]:n.tags.join(", ")}),n.cron&&s.push({icon:o,label:n.cron}),n.types&&n.types.length>0&&s.push({icon:o,label:1===n.types.length?n.types[0]:n.types.join(", ")}),0===s.length&&s.push({icon:o,label:t}),s}(e),o=function(e){const{event:t,config:n}=e,r=[t];return n.branches&&n.branches.length>0&&r.push(`branches: ${n.branches.join(", ")}`),n.tags&&n.tags.length>0&&r.push(`tags: ${n.tags.join(", ")}`),n.paths&&n.paths.length>0&&r.push(`paths: ${n.paths.join(", ")}`),n.types&&n.types.length>0&&r.push(`types: ${n.types.join(", ")}`),r.join("  ")}(e);return(0,r.jsx)(r.Fragment,{children:n.map(({icon:e,label:n},s)=>(0,r.jsxs)("span",{className:`inline-flex items-center gap-1 rounded bg-purple-100 dark:bg-purple-900/30 px-1.5 py-0.5 text-xs font-medium text-purple-800 dark:text-purple-200 ${t}`,title:o,children:[e,(0,r.jsx)("span",{children:n})]},s))})}const Il=(0,o.memo)(function(e){const{data:t,selected:n}=e,o=t;return(0,r.jsxs)("div",{className:`\n        min-w-[180px] rounded-lg border-2 bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-purple-900/30 dark:to-indigo-900/30 px-3 py-2 shadow-sm\n        ${n?"border-purple-500 dark:border-purple-400 ring-2 ring-purple-200 dark:ring-purple-900":"border-purple-300 dark:border-purple-700 hover:border-purple-400 dark:hover:border-purple-600"}\n      `,children:[(0,r.jsx)("div",{className:"font-medium text-slate-800 dark:text-slate-200",children:"Trigger"}),(0,r.jsx)("div",{className:"mt-1 flex flex-wrap items-center gap-1",children:0===o.triggers.length?(0,r.jsx)("span",{className:"rounded bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 text-xs italic text-slate-500 dark:text-slate-400",children:"No triggers"}):o.triggers.map((e,t)=>(0,r.jsx)(Al,{trigger:e},t))}),(0,r.jsx)(hi,{type:"source",position:lr.Right,className:"!h-2 !w-2 !border-2 !border-purple-400 dark:!border-purple-600 !bg-white dark:!bg-slate-800"})]})}),Pl=[{value:"push",label:"Push"},{value:"pull_request",label:"Pull Request"},{value:"pull_request_target",label:"Pull Request Target"},{value:"pull_request_review",label:"Pull Request Review"},{value:"pull_request_review_comment",label:"Pull Request Review Comment"},{value:"workflow_dispatch",label:"Workflow Dispatch"},{value:"repository_dispatch",label:"Repository Dispatch"},{value:"schedule",label:"Schedule (Cron)"},{value:"workflow_call",label:"Workflow Call"},{value:"workflow_run",label:"Workflow Run"},{value:"issues",label:"Issues"},{value:"issue_comment",label:"Issue Comment"},{value:"label",label:"Label"},{value:"milestone",label:"Milestone"},{value:"project",label:"Project"},{value:"project_card",label:"Project Card"},{value:"project_column",label:"Project Column"},{value:"release",label:"Release"},{value:"watch",label:"Watch"},{value:"create",label:"Create"},{value:"delete",label:"Delete"},{value:"fork",label:"Fork"},{value:"gollum",label:"Gollum (Wiki)"},{value:"page_build",label:"Page Build"},{value:"public",label:"Public"},{value:"status",label:"Status"},{value:"branch_protection_rule",label:"Branch Protection Rule"},{value:"check_run",label:"Check Run"},{value:"check_suite",label:"Check Suite"},{value:"discussion",label:"Discussion"},{value:"discussion_comment",label:"Discussion Comment"},{value:"merge_group",label:"Merge Group"},{value:"registry_package",label:"Registry Package"}];function Ll({workflow:e,onWorkflowChange:t,onClose:n}){const[s,i]=(0,o.useState)(()=>Tl(e.on)),a=(0,o.useRef)(e);a.current=e,(0,o.useEffect)(()=>{i(Tl(e.on))},[e.on]);const l=(0,o.useCallback)(e=>{i(e);const n=function(e){if(0===e.length)return{};const t=e.filter(e=>"schedule"===e.event),n=e.filter(e=>"schedule"!==e.event),r={};if(t.length>0&&(r.schedule=t.map(e=>({cron:e.config.cron||"0 0 * * *"}))),1===n.length){const e=n[0];0===Object.keys(e.config).length?r[e.event]={}:r[e.event]=e.config}else if(n.length>1){const e=n.map(e=>0===Object.keys(e.config).length?e.event:{[e.event]:e.config});return t.length>0?[...e,{schedule:t.map(e=>({cron:e.config.cron||"0 0 * * *"}))}]:e}if(t.length>0&&0===n.length)return r;if(1===n.length&&0===t.length){const e=n[0];return 0===Object.keys(e.config).length?e.event:{[e.event]:e.config}}return r}(e);t({...a.current,on:n})},[t]),c=(0,o.useCallback)(()=>{l([...s,{event:"push",config:{}}])},[s,l]),u=(0,o.useCallback)(e=>{l(s.filter((t,n)=>n!==e))},[s,l]),d=(0,o.useCallback)((e,t)=>{const n=[...s];n[e]=t(n[e]),l(n)},[s,l]),f=(0,o.useCallback)((e,t,n)=>{d(e,e=>({...e,config:{...e.config,[t]:n}}))},[d]),p=(0,o.useCallback)((e,t,n)=>{const r=s[e].config[t]??[];n&&!r.includes(n)&&f(e,t,[...r,n])},[s,f]),h=(0,o.useCallback)((e,t,n)=>{const r=s[e].config[t]??[];f(e,t,r.filter((e,t)=>t!==n))},[s,f]);return(0,r.jsxs)("aside",{className:"flex w-96 shrink-0 flex-col border-l border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-sm pr-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 dark:border-slate-700 px-3 py-1.5",children:[(0,r.jsx)("h2",{className:"text-xs font-semibold text-slate-800 dark:text-slate-200",children:"Workflow Triggers"}),(0,r.jsx)("button",{type:"button",onClick:n,className:"rounded p-1 text-slate-400 dark:text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"Close panel",children:(0,r.jsx)("span",{className:"text-sm leading-none",children:""})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400",children:"Triggers"}),(0,r.jsx)("button",{type:"button",onClick:c,className:"rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-1.5 py-0.5 text-xs text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:"+ Add Trigger"})]}),0===s.length?(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 italic",children:"No triggers configured"}):(0,r.jsx)("div",{className:"space-y-2",children:s.map((e,t)=>{return(0,r.jsxs)("div",{className:"rounded border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50 p-2 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:["Trigger ",t+1]}),(0,r.jsx)("button",{type:"button",onClick:()=>u(t),className:"rounded p-0.5 text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 hover:text-slate-600 dark:hover:text-slate-300","aria-label":`Remove trigger ${t+1}`,children:""})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Event Type"}),(0,r.jsx)("select",{value:e.event,onChange:e=>d(t,t=>({...t,event:e.target.value,config:{}})),className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",children:Pl.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),("push"===e.event||"pull_request"===e.event)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Branches"}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(e.config.branches??[]).map((n,o)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"text",value:n,onChange:n=>{const r=[...e.config.branches??[]];r[o]=n.target.value,f(t,"branches",r)},className:"flex-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"main"}),(0,r.jsx)("button",{type:"button",onClick:()=>h(t,"branches",o),className:"rounded p-1 text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 hover:text-slate-600 dark:hover:text-slate-300",children:""})]},o)),(0,r.jsx)("input",{type:"text",onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const n=e.currentTarget;p(t,"branches",n.value),n.value=""}},className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Press Enter to add branch"})]})]}),"push"===e.event&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Tags"}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(e.config.tags??[]).map((n,o)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"text",value:n,onChange:n=>{const r=[...e.config.tags??[]];r[o]=n.target.value,f(t,"tags",r)},className:"flex-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"v*"}),(0,r.jsx)("button",{type:"button",onClick:()=>h(t,"tags",o),className:"rounded p-1 text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 hover:text-slate-600 dark:hover:text-slate-300",children:""})]},o)),(0,r.jsx)("input",{type:"text",onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const n=e.currentTarget;p(t,"tags",n.value),n.value=""}},className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Press Enter to add tag"})]})]}),(n=e.event,Ol.has(n)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Types (optional)"}),"repository_dispatch"===e.event&&(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Filter by custom event type sent via API"}),"release"===e.event&&(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"e.g. published, unpublished, created, prereleased, released"}),"pull_request"===e.event&&(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"e.g. opened, synchronize, closed, labeled, etc."}),"workflow_run"===e.event&&(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"e.g. completed, requested, in_progress"}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(e.config.types??[]).map((n,o)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"text",value:n,onChange:n=>{const r=[...e.config.types??[]];r[o]=n.target.value,f(t,"types",r)},className:"flex-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"release"===e.event?"published":"repository_dispatch"===e.event?"deploy":"pull_request"===e.event?"opened":"workflow_run"===e.event?"completed":"activity_type"}),(0,r.jsx)("button",{type:"button",onClick:()=>h(t,"types",o),className:"rounded p-1 text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 hover:text-slate-600 dark:hover:text-slate-300",children:""})]},o)),(0,r.jsx)("input",{type:"text",onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const n=e.currentTarget;p(t,"types",n.value),n.value=""}},className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Press Enter to add type"})]})]})),("push"===e.event||"pull_request"===e.event)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Paths"}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(e.config.paths??[]).map((n,o)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"text",value:n,onChange:n=>{const r=[...e.config.paths??[]];r[o]=n.target.value,f(t,"paths",r)},className:"flex-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"src/**"}),(0,r.jsx)("button",{type:"button",onClick:()=>h(t,"paths",o),className:"rounded p-1 text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 hover:text-slate-600 dark:hover:text-slate-300",children:""})]},o)),(0,r.jsx)("input",{type:"text",onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const n=e.currentTarget;p(t,"paths",n.value),n.value=""}},className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Press Enter to add path"})]})]}),("push"===e.event||"pull_request"===e.event)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Paths Ignore"}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(e.config.pathsIgnore??[]).map((n,o)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"text",value:n,onChange:n=>{const r=[...e.config.pathsIgnore??[]];r[o]=n.target.value,f(t,"pathsIgnore",r)},className:"flex-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"docs/**"}),(0,r.jsx)("button",{type:"button",onClick:()=>h(t,"pathsIgnore",o),className:"rounded p-1 text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 hover:text-slate-600 dark:hover:text-slate-300",children:""})]},o)),(0,r.jsx)("input",{type:"text",onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const n=e.currentTarget;p(t,"pathsIgnore",n.value),n.value=""}},className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Press Enter to add path"})]})]}),"schedule"===e.event&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Cron Expression"}),(0,r.jsx)("input",{type:"text",value:e.config.cron??"",onChange:e=>f(t,"cron",e.target.value),className:"w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs font-mono",placeholder:"0 0 * * *"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:'Format: minute hour day month weekday (e.g., "0 0 * * *" for daily at midnight)'})]})]},t);var n})})]})})]})}function Dl({workflow:e,onWorkflowChange:t,onClose:n}){const s=(0,o.useCallback)(n=>{t(n(e))},[e,t]),i=(0,o.useCallback)((e,t)=>{s(n=>({...n,[e]:t}))},[s]),a=(0,o.useMemo)(()=>e.env??{},[e.env]),l=(0,o.useCallback)((e,t)=>{const n={...a};""===t?delete n[e]:n[e]=t,i("env",Object.keys(n).length>0?n:void 0)},[a,i]),c=(0,o.useCallback)(e=>{const t={...a};delete t[e],i("env",Object.keys(t).length>0?t:void 0)},[a,i]);return(0,r.jsxs)("aside",{className:"flex w-96 shrink-0 flex-col border-l border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-sm pr-3",children:[(0,r.jsxs)("div",{className:"flex flex-col border-b border-slate-200 dark:border-slate-700 px-3 py-1.5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-xs font-semibold text-slate-800 dark:text-slate-200",children:"Workflow config"}),(0,r.jsx)("button",{type:"button",onClick:n,className:"rounded p-1 text-slate-400 dark:text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"Close panel",children:(0,r.jsx)("span",{className:"text-sm leading-none",children:""})})]}),(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Name, run name, and environment variables"})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400",children:"Workflow name"}),(0,r.jsx)("input",{type:"text",value:e.name??"",onChange:e=>i("name",e.target.value||void 0),className:"mt-1 w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Untitled Workflow"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400",children:"Run name"}),(0,r.jsx)("input",{type:"text",value:e["run-name"]??"",onChange:e=>i("run-name",e.target.value||void 0),className:"mt-1 w-full rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Run name expression"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400",children:"Environment Variables"}),(0,r.jsx)("button",{type:"button",onClick:()=>{const e={...a,"":""};i("env",e)},className:"rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-1.5 py-0.5 text-xs text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:"+ Add variable"})]}),0===Object.keys(a).length?(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 italic",children:"No environment variables configured"}):(0,r.jsx)("div",{className:"space-y-1.5",children:Object.entries(a).map(([e,t])=>(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:n=>{const r={...a};delete r[e],r[n.target.value]=t,i("env",Object.keys(r).length>0?r:void 0)},className:"flex-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Variable name"}),(0,r.jsx)("input",{type:"text",value:t,onChange:t=>l(e,t.target.value),className:"flex-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 px-1.5 py-1 text-xs",placeholder:"Value"}),(0,r.jsx)("button",{type:"button",onClick:()=>c(e),className:"rounded p-1 text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 hover:text-slate-600 dark:hover:text-slate-300 shrink-0",children:""})]},e))})]})]})]})}const $l=Symbol.for("yaml.alias"),Rl=Symbol.for("yaml.document"),zl=Symbol.for("yaml.map"),ql=Symbol.for("yaml.pair"),Bl=Symbol.for("yaml.scalar"),Fl=Symbol.for("yaml.seq"),Vl=Symbol.for("yaml.node.type"),Ul=e=>!!e&&"object"==typeof e&&e[Vl]===$l,Hl=e=>!!e&&"object"==typeof e&&e[Vl]===Rl,Kl=e=>!!e&&"object"==typeof e&&e[Vl]===zl,Wl=e=>!!e&&"object"==typeof e&&e[Vl]===ql,Xl=e=>!!e&&"object"==typeof e&&e[Vl]===Bl,Yl=e=>!!e&&"object"==typeof e&&e[Vl]===Fl;function Gl(e){if(e&&"object"==typeof e)switch(e[Vl]){case zl:case Fl:return!0}return!1}function Zl(e){if(e&&"object"==typeof e)switch(e[Vl]){case $l:case zl:case Bl:case Fl:return!0}return!1}const Ql=e=>(Xl(e)||Gl(e))&&!!e.anchor,Jl=Symbol("break visit"),ec=Symbol("skip children"),tc=Symbol("remove node");function nc(e,t){const n=ic(t);Hl(e)?rc(null,e.contents,n,Object.freeze([e]))===tc&&(e.contents=null):rc(null,e,n,Object.freeze([]))}function rc(e,t,n,r){const o=ac(e,t,n,r);if(Zl(o)||Wl(o))return lc(e,r,o),rc(e,o,n,r);if("symbol"!=typeof o)if(Gl(t)){r=Object.freeze(r.concat(t));for(let e=0;e<t.items.length;++e){const o=rc(e,t.items[e],n,r);if("number"==typeof o)e=o-1;else{if(o===Jl)return Jl;o===tc&&(t.items.splice(e,1),e-=1)}}}else if(Wl(t)){r=Object.freeze(r.concat(t));const e=rc("key",t.key,n,r);if(e===Jl)return Jl;e===tc&&(t.key=null);const o=rc("value",t.value,n,r);if(o===Jl)return Jl;o===tc&&(t.value=null)}return o}async function oc(e,t){const n=ic(t);Hl(e)?await sc(null,e.contents,n,Object.freeze([e]))===tc&&(e.contents=null):await sc(null,e,n,Object.freeze([]))}async function sc(e,t,n,r){const o=await ac(e,t,n,r);if(Zl(o)||Wl(o))return lc(e,r,o),sc(e,o,n,r);if("symbol"!=typeof o)if(Gl(t)){r=Object.freeze(r.concat(t));for(let e=0;e<t.items.length;++e){const o=await sc(e,t.items[e],n,r);if("number"==typeof o)e=o-1;else{if(o===Jl)return Jl;o===tc&&(t.items.splice(e,1),e-=1)}}}else if(Wl(t)){r=Object.freeze(r.concat(t));const e=await sc("key",t.key,n,r);if(e===Jl)return Jl;e===tc&&(t.key=null);const o=await sc("value",t.value,n,r);if(o===Jl)return Jl;o===tc&&(t.value=null)}return o}function ic(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function ac(e,t,n,r){return"function"==typeof n?n(e,t,r):Kl(t)?n.Map?.(e,t,r):Yl(t)?n.Seq?.(e,t,r):Wl(t)?n.Pair?.(e,t,r):Xl(t)?n.Scalar?.(e,t,r):Ul(t)?n.Alias?.(e,t,r):void 0}function lc(e,t,n){const r=t[t.length-1];if(Gl(r))r.items[e]=n;else if(Wl(r))"key"===e?r.key=n:r.value=n;else{if(!Hl(r)){const e=Ul(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}r.contents=n}}nc.BREAK=Jl,nc.SKIP=ec,nc.REMOVE=tc,oc.BREAK=Jl,oc.SKIP=ec,oc.REMOVE=tc;const cc={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},uc=e=>e.replace(/[!,[\]{}]/g,e=>cc[e]);class dc{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},dc.defaultYaml,e),this.tags=Object.assign({},dc.defaultTags,t)}clone(){const e=new dc(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new dc(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:dc.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},dc.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:dc.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},dc.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),r=n.shift();switch(r){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,r]=n;return this.tags[e]=r,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;return"1.1"===e||"1.2"===e?(this.yaml.version=e,!0):(t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1)}default:return t(0,`Unknown directive ${r}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,r]=e.match(/^(.*!)([^!]*)$/s);r||t(`The ${e} tag has no suffix`);const o=this.tags[n];if(o)try{return o+decodeURIComponent(r)}catch(e){return t(String(e)),null}return"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+uc(e.substring(n.length));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let r;if(e&&n.length>0&&Zl(e.contents)){const t={};nc(e.contents,(e,n)=>{Zl(n)&&n.tag&&(t[n.tag]=!0)}),r=Object.keys(t)}else r=[];for(const[o,s]of n)"!!"===o&&"tag:yaml.org,2002:"===s||e&&!r.some(e=>e.startsWith(s))||t.push(`%TAG ${o} ${s}`);return t.join("\n")}}function fc(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function pc(e){const t=new Set;return nc(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function hc(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function mc(e,t,n,r){if(r&&"object"==typeof r)if(Array.isArray(r))for(let t=0,n=r.length;t<n;++t){const n=r[t],o=mc(e,r,String(t),n);void 0===o?delete r[t]:o!==n&&(r[t]=o)}else if(r instanceof Map)for(const t of Array.from(r.keys())){const n=r.get(t),o=mc(e,r,t,n);void 0===o?r.delete(t):o!==n&&r.set(t,o)}else if(r instanceof Set)for(const t of Array.from(r)){const n=mc(e,r,t,t);void 0===n?r.delete(t):n!==t&&(r.delete(t),r.add(n))}else for(const[t,n]of Object.entries(r)){const o=mc(e,r,t,n);void 0===o?delete r[t]:o!==n&&(r[t]=o)}return e.call(t,n,r)}function gc(e,t,n){if(Array.isArray(e))return e.map((e,t)=>gc(e,String(t),n));if(e&&"function"==typeof e.toJSON){if(!n||!Ql(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=e=>{r.res=e,delete n.onCreate};const o=e.toJSON(t,n);return n.onCreate&&n.onCreate(o),o}return"bigint"!=typeof e||n?.keep?e:Number(e)}dc.defaultYaml={explicit:!1,version:"1.2"},dc.defaultTags={"!!":"tag:yaml.org,2002:"};class yc{constructor(e){Object.defineProperty(this,Vl,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:n,onAnchor:r,reviver:o}={}){if(!Hl(e))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:e,keep:!0,mapAsMap:!0===t,mapKeyWarned:!1,maxAliasCount:"number"==typeof n?n:100},i=gc(this,"",s);if("function"==typeof r)for(const{count:e,res:t}of s.anchors.values())r(t,e);return"function"==typeof o?mc(o,{"":i},"",i):i}}class vc extends yc{constructor(e){super($l),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,t){let n,r;t?.aliasResolveCache?n=t.aliasResolveCache:(n=[],nc(e,{Node:(e,t)=>{(Ul(t)||Ql(t))&&n.push(t)}}),t&&(t.aliasResolveCache=n));for(const e of n){if(e===this)break;e.anchor===this.source&&(r=e)}return r}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:r,maxAliasCount:o}=t,s=this.resolve(r,t);if(!s){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}let i=n.get(s);if(i||(gc(s,null,t),i=n.get(s)),void 0===i?.res)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(o>=0&&(i.count+=1,0===i.aliasCount&&(i.aliasCount=bc(r,s,n)),i.count*i.aliasCount>o))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return i.res}toString(e,t,n){const r=`*${this.source}`;if(e){if(fc(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${r} `}return r}}function bc(e,t,n){if(Ul(t)){const r=t.resolve(e),o=n&&r&&n.get(r);return o?o.count*o.aliasCount:0}if(Gl(t)){let r=0;for(const o of t.items){const t=bc(e,o,n);t>r&&(r=t)}return r}if(Wl(t)){const r=bc(e,t.key,n),o=bc(e,t.value,n);return Math.max(r,o)}return 1}const wc=e=>!e||"function"!=typeof e&&"object"!=typeof e;class xc extends yc{constructor(e){super(Bl),this.value=e}toJSON(e,t){return t?.keep?this.value:gc(this.value,e,t)}toString(){return String(this.value)}}function kc(e,t,n){if(Hl(e)&&(e=e.contents),Zl(e))return e;if(Wl(e)){const t=n.schema[zl].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:o,onTagObj:s,schema:i,sourceObjects:a}=n;let l;if(r&&e&&"object"==typeof e){if(l=a.get(e),l)return l.anchor??(l.anchor=o(e)),new vc(l.anchor);l={anchor:null,node:null},a.set(e,l)}t?.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let c=function(e,t,n){if(t){const e=n.filter(e=>e.tag===t),r=e.find(e=>!e.format)??e[0];if(!r)throw new Error(`Tag ${t} not found`);return r}return n.find(t=>t.identify?.(e)&&!t.format)}(e,t,i.tags);if(!c){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new xc(e);return l&&(l.node=t),t}c=e instanceof Map?i[zl]:Symbol.iterator in Object(e)?i[Fl]:i[zl]}s&&(s(c),delete n.onTagObj);const u=c?.createNode?c.createNode(n.schema,e,n):"function"==typeof c?.nodeClass?.from?c.nodeClass.from(n.schema,e,n):new xc(e);return t?u.tag=t:c.default||(u.tag=c.tag),l&&(l.node=u),u}function Sc(e,t,n){let r=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const e=[];e[n]=r,r=e}else r=new Map([[n,r]])}return kc(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}xc.BLOCK_FOLDED="BLOCK_FOLDED",xc.BLOCK_LITERAL="BLOCK_LITERAL",xc.PLAIN="PLAIN",xc.QUOTE_DOUBLE="QUOTE_DOUBLE",xc.QUOTE_SINGLE="QUOTE_SINGLE";const Ec=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class Nc extends yc{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(t=>Zl(t)||Wl(t)?t.clone(e):t),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(Ec(e))this.add(t);else{const[n,...r]=e,o=this.get(n,!0);if(Gl(o))o.addIn(r,t);else{if(void 0!==o||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`);this.set(n,Sc(this.schema,r,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const r=this.get(t,!0);if(Gl(r))return r.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...r]=e,o=this.get(n,!0);return 0===r.length?!t&&Xl(o)?o.value:o:Gl(o)?o.getIn(r,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!Wl(t))return!1;const n=t.value;return null==n||e&&Xl(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const r=this.get(t,!0);return!!Gl(r)&&r.hasIn(n)}setIn(e,t){const[n,...r]=e;if(0===r.length)this.set(n,t);else{const e=this.get(n,!0);if(Gl(e))e.setIn(r,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`);this.set(n,Sc(this.schema,r,t))}}}}const _c=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Cc(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const jc=(e,t,n)=>e.endsWith("\n")?Cc(n,t):n.includes("\n")?"\n"+Cc(n,t):(e.endsWith(" ")?"":" ")+n,Oc="flow",Tc="block",Mc="quoted";function Ac(e,t,n="flow",{indentAtStart:r,lineWidth:o=80,minContentWidth:s=20,onFold:i,onOverflow:a}={}){if(!o||o<0)return e;o<s&&(s=0);const l=Math.max(1+s,1+o-t.length);if(e.length<=l)return e;const c=[],u={};let d,f,p=o-t.length;"number"==typeof r&&(r>o-Math.max(2,s)?c.push(0):p=o-r);let h=!1,m=-1,g=-1,y=-1;n===Tc&&(m=Ic(e,m,t.length),-1!==m&&(p=m+l));for(let r;r=e[m+=1];){if(n===Mc&&"\\"===r){switch(g=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}y=m}if("\n"===r)n===Tc&&(m=Ic(e,m,t.length)),p=m+t.length+l,d=void 0;else{if(" "===r&&f&&" "!==f&&"\n"!==f&&"\t"!==f){const t=e[m+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(d=m)}if(m>=p)if(d)c.push(d),p=d+l,d=void 0;else if(n===Mc){for(;" "===f||"\t"===f;)f=r,r=e[m+=1],h=!0;const t=m>y+1?m-2:g-1;if(u[t])return e;c.push(t),u[t]=!0,p=t+l,d=void 0}else h=!0}f=r}if(h&&a&&a(),0===c.length)return e;i&&i();let v=e.slice(0,c[0]);for(let r=0;r<c.length;++r){const o=c[r],s=c[r+1]||e.length;0===o?v=`\n${t}${e.slice(0,s)}`:(n===Mc&&u[o]&&(v+=`${e[o]}\\`),v+=`\n${t}${e.slice(o+1,s)}`)}return v}function Ic(e,t,n){let r=t,o=t+1,s=e[o];for(;" "===s||"\t"===s;)if(t<o+n)s=e[++t];else{do{s=e[++t]}while(s&&"\n"!==s);r=t,o=t+1,s=e[o]}return r}const Pc=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),Lc=e=>/^(%|---|\.\.\.)/m.test(e);function Dc(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,o=t.options.doubleQuotedMinMultiLineLength,s=t.indent||(Lc(e)?"  ":"");let i="",a=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(i+=n.slice(a,e)+"\\ ",e+=1,a=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":{i+=n.slice(a,e);const t=n.substr(e+2,4);switch(t){case"0000":i+="\\0";break;case"0007":i+="\\a";break;case"000b":i+="\\v";break;case"001b":i+="\\e";break;case"0085":i+="\\N";break;case"00a0":i+="\\_";break;case"2028":i+="\\L";break;case"2029":i+="\\P";break;default:"00"===t.substr(0,2)?i+="\\x"+t.substr(2):i+=n.substr(e,6)}e+=5,a=e+1}break;case"n":if(r||'"'===n[e+2]||n.length<o)e+=1;else{for(i+=n.slice(a,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)i+="\n",e+=2;i+=s," "===n[e+2]&&(i+="\\"),e+=1,a=e+1}break;default:e+=1}return i=a?i+n.slice(a):n,r?i:Ac(i,s,Mc,Pc(t,!1))}function $c(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return Dc(e,t);const n=t.indent||(Lc(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?r:Ac(r,n,Oc,Pc(t,!1))}function Rc(e,t){const{singleQuote:n}=t.options;let r;if(!1===n)r=Dc;else{const t=e.includes('"'),o=e.includes("'");r=t&&!o?$c:o&&!t?Dc:n?$c:Dc}return r(e,t)}let zc;try{zc=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{zc=/\n+(?!\n|$)/g}function qc({comment:e,type:t,value:n},r,o,s){const{blockQuote:i,commentString:a,lineWidth:l}=r.options;if(!i||/\n[\t ]+$/.test(n))return Rc(n,r);const c=r.indent||(r.forceBlockIndent||Lc(n)?"  ":""),u="literal"===i||"folded"!==i&&t!==xc.BLOCK_FOLDED&&(t===xc.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const r=t-n,o=e.length;if(o<=r)return!1;for(let t=0,n=0;t<o;++t)if("\n"===e[t]){if(t-n>r)return!0;if(n=t+1,o-n<=r)return!1}return!0}(n,l,c.length));if(!n)return u?"|\n":">\n";let d,f;for(f=n.length;f>0;--f){const e=n[f-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let p=n.substring(f);const h=p.indexOf("\n");-1===h?d="-":n===p||h!==p.length-1?(d="+",s&&s()):d="",p&&(n=n.slice(0,-p.length),"\n"===p[p.length-1]&&(p=p.slice(0,-1)),p=p.replace(zc,`$&${c}`));let m,g=!1,y=-1;for(m=0;m<n.length;++m){const e=n[m];if(" "===e)g=!0;else{if("\n"!==e)break;y=m}}let v=n.substring(0,y<m?y+1:m);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${c}`));let b=(g?c?"2":"1":"")+d;if(e&&(b+=" "+a(e.replace(/ ?[\r\n]+/g," ")),o&&o()),!u){const e=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let o=!1;const s=Pc(r,!0);"folded"!==i&&t!==xc.BLOCK_FOLDED&&(s.onOverflow=()=>{o=!0});const a=Ac(`${v}${e}${p}`,c,Tc,s);if(!o)return`>${b}\n${c}${a}`}return`|${b}\n${c}${v}${n=n.replace(/\n+/g,`$&${c}`)}${p}`}function Bc(e,t,n,r){const{implicitKey:o,inFlow:s}=t,i="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==xc.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(i.value)&&(a=xc.QUOTE_DOUBLE);const l=e=>{switch(e){case xc.BLOCK_FOLDED:case xc.BLOCK_LITERAL:return o||s?Rc(i.value,t):qc(i,t,n,r);case xc.QUOTE_DOUBLE:return Dc(i.value,t);case xc.QUOTE_SINGLE:return $c(i.value,t);case xc.PLAIN:return function(e,t,n,r){const{type:o,value:s}=e,{actualString:i,implicitKey:a,indent:l,indentStep:c,inFlow:u}=t;if(a&&s.includes("\n")||u&&/[[\]{},]/.test(s))return Rc(s,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||u||!s.includes("\n")?Rc(s,t):qc(e,t,n,r);if(!a&&!u&&o!==xc.PLAIN&&s.includes("\n"))return qc(e,t,n,r);if(Lc(s)){if(""===l)return t.forceBlockIndent=!0,qc(e,t,n,r);if(a&&l===c)return Rc(s,t)}const d=s.replace(/\n+/g,`$&\n${l}`);if(i){const e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(d),{compat:n,tags:r}=t.doc.schema;if(r.some(e)||n?.some(e))return Rc(s,t)}return a?d:Ac(d,l,Oc,Pc(t,!1))}(i,t,n,r);default:return null}};let c=l(a);if(null===c){const{defaultKeyType:e,defaultStringType:n}=t.options,r=o&&e||n;if(c=l(r),null===c)throw new Error(`Unsupported default string type ${r}`)}return c}function Fc(e,t){const n=Object.assign({blockQuote:!0,commentString:_c,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function Vc(e,t,n,r){if(Wl(e))return e.toString(t,n,r);if(Ul(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let o;const s=Zl(e)?e:t.doc.createNode(e,{onTagObj:e=>o=e});o??(o=function(e,t){if(t.tag){const n=e.filter(e=>e.tag===t.tag);if(n.length>0)return n.find(e=>e.format===t.format)??n[0]}let n,r;if(Xl(t)){r=t.value;let o=e.filter(e=>e.identify?.(r));if(o.length>1){const e=o.filter(e=>e.test);e.length>0&&(o=e)}n=o.find(e=>e.format===t.format)??o.find(e=>!e.format)}else r=t,n=e.find(e=>e.nodeClass&&r instanceof e.nodeClass);if(!n)throw new Error(`Tag not resolved for ${r?.constructor?.name??(null===r?"null":typeof r)} value`);return n}(t.doc.schema.tags,s));const i=function(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const o=[],s=(Xl(e)||Gl(e))&&e.anchor;s&&fc(s)&&(n.add(s),o.push(`&${s}`));const i=e.tag??(t.default?null:t.tag);return i&&o.push(r.directives.tagString(i)),o.join(" ")}(s,o,t);i.length>0&&(t.indentAtStart=(t.indentAtStart??0)+i.length+1);const a="function"==typeof o.stringify?o.stringify(s,t,n,r):Xl(s)?Bc(s,t,n,r):s.toString(t,n,r);return i?Xl(s)||"{"===a[0]||"["===a[0]?`${i} ${a}`:`${i}\n${t.indent}${a}`:a}function Uc(e,t){"debug"!==e&&"warn"!==e||console.warn(t)}const Hc="<<",Kc={identify:e=>e===Hc||"symbol"==typeof e&&e.description===Hc,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new xc(Symbol(Hc)),{addToJSMap:Wc}),stringify:()=>Hc};function Wc(e,t,n){if(n=e&&Ul(n)?n.resolve(e.doc):n,Yl(n))for(const r of n.items)Xc(e,t,r);else if(Array.isArray(n))for(const r of n)Xc(e,t,r);else Xc(e,t,n)}function Xc(e,t,n){const r=e&&Ul(n)?n.resolve(e.doc):n;if(!Kl(r))throw new Error("Merge sources must be maps or map aliases");const o=r.toJSON(null,e,Map);for(const[e,n]of o)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0});return t}function Yc(e,t,{key:n,value:r}){if(Zl(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(((e,t)=>(Kc.identify(t)||Xl(t)&&(!t.type||t.type===xc.PLAIN)&&Kc.identify(t.value))&&e?.doc.schema.tags.some(e=>e.tag===Kc.tag&&e.default))(e,n))Wc(e,t,r);else{const o=gc(n,"",e);if(t instanceof Map)t.set(o,gc(r,o,e));else if(t instanceof Set)t.add(o);else{const s=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(Zl(e)&&n?.doc){const t=Fc(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const r=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(r);e.length>40&&(e=e.substring(0,36)+'..."'),Uc(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(t)}(n,o,e),i=gc(r,s,e);s in t?Object.defineProperty(t,s,{value:i,writable:!0,enumerable:!0,configurable:!0}):t[s]=i}}return t}function Gc(e,t,n){const r=kc(e,void 0,n),o=kc(t,void 0,n);return new Zc(r,o)}class Zc{constructor(e,t=null){Object.defineProperty(this,Vl,{value:ql}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return Zl(t)&&(t=t.clone(e)),Zl(n)&&(n=n.clone(e)),new Zc(t,n)}toJSON(e,t){return Yc(t,t?.mapAsMap?new Map:{},this)}toString(e,t,n){return e?.doc?function({key:e,value:t},n,r,o){const{allNullValues:s,doc:i,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:d}}=n;let f=Zl(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Gl(e)||!Zl(e)&&"object"==typeof e)throw new Error("With simple keys, collection cannot be used as a key value")}let p=!d&&(!e||f&&null==t&&!n.inFlow||Gl(e)||(Xl(e)?e.type===xc.BLOCK_FOLDED||e.type===xc.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(d||!s),indent:a+l});let h,m,g,y=!1,v=!1,b=Vc(e,n,()=>y=!0,()=>v=!0);if(!p&&!n.inFlow&&b.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(s||null==t)return y&&r&&r(),""===b?"?":p?`? ${b}`:b}else if(s&&!d||null==t&&p)return b=`? ${b}`,f&&!y?b+=jc(b,n.indent,c(f)):v&&o&&o(),b;y&&(f=null),p?(f&&(b+=jc(b,n.indent,c(f))),b=`? ${b}\n${a}:`):(b=`${b}:`,f&&(b+=jc(b,n.indent,c(f)))),Zl(t)?(h=!!t.spaceBefore,m=t.commentBefore,g=t.comment):(h=!1,m=null,g=null,t&&"object"==typeof t&&(t=i.createNode(t))),n.implicitKey=!1,p||f||!Xl(t)||(n.indentAtStart=b.length+1),v=!1,u||!(l.length>=2)||n.inFlow||p||!Yl(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substring(2));let w=!1;const x=Vc(t,n,()=>w=!0,()=>v=!0);let k=" ";if(f||h||m)k=h?"\n":"",m&&(k+=`\n${Cc(c(m),n.indent)}`),""!==x||n.inFlow?k+=`\n${n.indent}`:"\n"===k&&g&&(k="\n\n");else if(!p&&Gl(t)){const e=x[0],r=x.indexOf("\n"),o=-1!==r,s=n.inFlow??t.flow??0===t.items.length;if(o||!s){let t=!1;if(o&&("&"===e||"!"===e)){let n=x.indexOf(" ");"&"===e&&-1!==n&&n<r&&"!"===x[n+1]&&(n=x.indexOf(" ",n+1)),(-1===n||r<n)&&(t=!0)}t||(k=`\n${n.indent}`)}}else""!==x&&"\n"!==x[0]||(k="");return b+=k+x,n.inFlow?w&&r&&r():g&&!w?b+=jc(b,n.indent,c(g)):v&&o&&o(),b}(this,e,t,n):JSON.stringify(this)}}function Qc(e,t,n){return(t.inFlow??e.flow?eu:Jc)(e,t,n)}function Jc({comment:e,items:t},n,{blockItemPrefix:r,flowChars:o,itemIndent:s,onChompKeep:i,onComment:a}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:s,type:null});let d=!1;const f=[];for(let e=0;e<t.length;++e){const o=t[e];let i=null;if(Zl(o))!d&&o.spaceBefore&&f.push(""),tu(n,f,o.commentBefore,d),o.comment&&(i=o.comment);else if(Wl(o)){const e=Zl(o.key)?o.key:null;e&&(!d&&e.spaceBefore&&f.push(""),tu(n,f,e.commentBefore,d))}d=!1;let a=Vc(o,u,()=>i=null,()=>d=!0);i&&(a+=jc(a,s,c(i))),d&&i&&(d=!1),f.push(r+a)}let p;if(0===f.length)p=o.start+o.end;else{p=f[0];for(let e=1;e<f.length;++e){const t=f[e];p+=t?`\n${l}${t}`:"\n"}}return e?(p+="\n"+Cc(c(e),l),a&&a()):d&&i&&i(),p}function eu({items:e},t,{flowChars:n,itemIndent:r}){const{indent:o,indentStep:s,flowCollectionPadding:i,options:{commentString:a}}=t;r+=s;const l=Object.assign({},t,{indent:r,inFlow:!0,type:null});let c=!1,u=0;const d=[];for(let n=0;n<e.length;++n){const o=e[n];let s=null;if(Zl(o))o.spaceBefore&&d.push(""),tu(t,d,o.commentBefore,!1),o.comment&&(s=o.comment);else if(Wl(o)){const e=Zl(o.key)?o.key:null;e&&(e.spaceBefore&&d.push(""),tu(t,d,e.commentBefore,!1),e.comment&&(c=!0));const n=Zl(o.value)?o.value:null;n?(n.comment&&(s=n.comment),n.commentBefore&&(c=!0)):null==o.value&&e?.comment&&(s=e.comment)}s&&(c=!0);let i=Vc(o,l,()=>s=null);n<e.length-1&&(i+=","),s&&(i+=jc(i,r,a(s))),!c&&(d.length>u||i.includes("\n"))&&(c=!0),d.push(i),u=d.length}const{start:f,end:p}=n;if(0===d.length)return f+p;if(!c){const e=d.reduce((e,t)=>e+t.length+2,2);c=t.options.lineWidth>0&&e>t.options.lineWidth}if(c){let e=f;for(const t of d)e+=t?`\n${s}${o}${t}`:"\n";return`${e}\n${o}${p}`}return`${f}${i}${d.join(" ")}${i}${p}`}function tu({indent:e,options:{commentString:t}},n,r,o){if(r&&o&&(r=r.replace(/^\n+/,"")),r){const o=Cc(t(r),e);n.push(o.trimStart())}}function nu(e,t){const n=Xl(t)?t.value:t;for(const r of e)if(Wl(r)){if(r.key===t||r.key===n)return r;if(Xl(r.key)&&r.key.value===n)return r}}class ru extends Nc{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(zl,e),this.items=[]}static from(e,t,n){const{keepUndefined:r,replacer:o}=n,s=new this(e),i=(e,i)=>{if("function"==typeof o)i=o.call(t,e,i);else if(Array.isArray(o)&&!o.includes(e))return;(void 0!==i||r)&&s.items.push(Gc(e,i,n))};if(t instanceof Map)for(const[e,n]of t)i(e,n);else if(t&&"object"==typeof t)for(const e of Object.keys(t))i(e,t[e]);return"function"==typeof e.sortMapEntries&&s.items.sort(e.sortMapEntries),s}add(e,t){let n;n=Wl(e)?e:e&&"object"==typeof e&&"key"in e?new Zc(e.key,e.value):new Zc(e,e?.value);const r=nu(this.items,n.key),o=this.schema?.sortMapEntries;if(r){if(!t)throw new Error(`Key ${n.key} already set`);Xl(r.value)&&wc(n.value)?r.value.value=n.value:r.value=n.value}else if(o){const e=this.items.findIndex(e=>o(n,e)<0);-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=nu(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=nu(this.items,e),r=n?.value;return(!t&&Xl(r)?r.value:r)??void 0}has(e){return!!nu(this.items,e)}set(e,t){this.add(new Zc(e,t),!0)}toJSON(e,t,n){const r=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(r);for(const e of this.items)Yc(t,r,e);return r}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!Wl(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Qc(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const ou={collection:"map",default:!0,nodeClass:ru,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(Kl(e)||t("Expected a mapping for this tag"),e),createNode:(e,t,n)=>ru.from(e,t,n)};class su extends Nc{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Fl,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=iu(e);return"number"==typeof t&&this.items.splice(t,1).length>0}get(e,t){const n=iu(e);if("number"!=typeof n)return;const r=this.items[n];return!t&&Xl(r)?r.value:r}has(e){const t=iu(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=iu(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[n];Xl(r)&&wc(t)?r.value=t:this.items[n]=t}toJSON(e,t){const n=[];t?.onCreate&&t.onCreate(n);let r=0;for(const e of this.items)n.push(gc(e,String(r++),t));return n}toString(e,t,n){return e?Qc(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){const{replacer:r}=n,o=new this(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let s of t){if("function"==typeof r){const n=t instanceof Set?s:String(e++);s=r.call(t,n,s)}o.items.push(kc(s,void 0,n))}}return o}}function iu(e){let t=Xl(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}const au={collection:"seq",default:!0,nodeClass:su,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(Yl(e)||t("Expected a sequence for this tag"),e),createNode:(e,t,n)=>su.from(e,t,n)},lu={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,r)=>Bc(e,t=Object.assign({actualString:!0},t),n,r)},cu={identify:e=>null==e,createNode:()=>new xc(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new xc(null),stringify:({source:e},t)=>"string"==typeof e&&cu.test.test(e)?e:t.options.nullStr},uu={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new xc("t"===e[0]||"T"===e[0]),stringify:({source:e,value:t},n)=>e&&uu.test.test(e)&&t===("t"===e[0]||"T"===e[0])?e:t?n.options.trueStr:n.options.falseStr};function du({format:e,minFractionDigits:t,tag:n,value:r}){if("bigint"==typeof r)return String(r);const o="number"==typeof r?r:Number(r);if(!isFinite(o))return isNaN(o)?".nan":o<0?"-.inf":".inf";let s=Object.is(r,-0)?"-0":JSON.stringify(r);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(s)){let e=s.indexOf(".");e<0&&(e=s.length,s+=".");let n=t-(s.length-e-1);for(;n-- >0;)s+="0"}return s}const fu={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:du},pu={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():du(e)}},hu={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new xc(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:du},mu=e=>"bigint"==typeof e||Number.isInteger(e),gu=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function yu(e,t,n){const{value:r}=e;return mu(r)&&r>=0?n+r.toString(t):du(e)}const vu={identify:e=>mu(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>gu(e,2,8,n),stringify:e=>yu(e,8,"0o")},bu={identify:mu,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>gu(e,0,10,n),stringify:du},wu={identify:e=>mu(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>gu(e,2,16,n),stringify:e=>yu(e,16,"0x")},xu=[ou,au,lu,cu,uu,vu,bu,wu,fu,pu,hu];function ku(e){return"bigint"==typeof e||Number.isInteger(e)}const Su=({value:e})=>JSON.stringify(e),Eu=[{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Su},{identify:e=>null==e,createNode:()=>new xc(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Su},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>"true"===e,stringify:Su},{identify:ku,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>ku(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Su}],Nu=[ou,au].concat(Eu,{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)}),_u={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,o,s){if(!n)return"";const i=n;let a;if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<i.length;++t)e+=String.fromCharCode(i[t]);a=btoa(e)}if(t??(t=xc.BLOCK_LITERAL),t!==xc.QUOTE_DOUBLE){const e=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),n=Math.ceil(a.length/e),o=new Array(n);for(let t=0,r=0;t<n;++t,r+=e)o[t]=a.substr(r,e);a=o.join(t===xc.BLOCK_LITERAL?"\n":" ")}return Bc({comment:e,type:t,value:a},r,o,s)}};function Cu(e,t){if(Yl(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!Wl(r)){if(Kl(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const e=r.items[0]||new Zc(new xc(null));if(r.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${r.commentBefore}\n${e.key.commentBefore}`:r.commentBefore),r.comment){const t=e.value??e.key;t.comment=t.comment?`${r.comment}\n${t.comment}`:r.comment}r=e}e.items[n]=Wl(r)?r:new Zc(r)}}else t("Expected a sequence for this tag");return e}function ju(e,t,n){const{replacer:r}=n,o=new su(e);o.tag="tag:yaml.org,2002:pairs";let s=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let i,a;if("function"==typeof r&&(e=r.call(t,String(s++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);i=e[0],a=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected tuple with one key, not ${t.length} keys`);i=t[0],a=e[i]}else i=e;o.items.push(Gc(i,a,n))}return o}const Ou={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Cu,createNode:ju};class Tu extends su{constructor(){super(),this.add=ru.prototype.add.bind(this),this.delete=ru.prototype.delete.bind(this),this.get=ru.prototype.get.bind(this),this.has=ru.prototype.has.bind(this),this.set=ru.prototype.set.bind(this),this.tag=Tu.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t?.onCreate&&t.onCreate(n);for(const e of this.items){let r,o;if(Wl(e)?(r=gc(e.key,"",t),o=gc(e.value,r,t)):r=gc(e,"",t),n.has(r))throw new Error("Ordered maps must not include duplicate keys");n.set(r,o)}return n}static from(e,t,n){const r=ju(e,t,n),o=new this;return o.items=r.items,o}}Tu.tag="tag:yaml.org,2002:omap";const Mu={collection:"seq",identify:e=>e instanceof Map,nodeClass:Tu,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Cu(e,t),r=[];for(const{key:e}of n.items)Xl(e)&&(r.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):r.push(e.value));return Object.assign(new Tu,n)},createNode:(e,t,n)=>Tu.from(e,t,n)};function Au({value:e,source:t},n){return t&&(e?Iu:Pu).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const Iu={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new xc(!0),stringify:Au},Pu={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new xc(!1),stringify:Au},Lu={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:du},Du={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():du(e)}},$u={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new xc(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const r=e.substring(n+1).replace(/_/g,"");"0"===r[r.length-1]&&(t.minFractionDigits=r.length)}return t},stringify:du},Ru=e=>"bigint"==typeof e||Number.isInteger(e);function zu(e,t,n,{intAsBigInt:r}){const o=e[0];if("-"!==o&&"+"!==o||(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===o?BigInt(-1)*t:t}const s=parseInt(e,n);return"-"===o?-1*s:s}function qu(e,t,n){const{value:r}=e;if(Ru(r)){const e=r.toString(t);return r<0?"-"+n+e.substr(1):n+e}return du(e)}const Bu={identify:Ru,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>zu(e,2,2,n),stringify:e=>qu(e,2,"0b")},Fu={identify:Ru,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>zu(e,1,8,n),stringify:e=>qu(e,8,"0")},Vu={identify:Ru,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>zu(e,0,10,n),stringify:du},Uu={identify:Ru,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>zu(e,2,16,n),stringify:e=>qu(e,16,"0x")};class Hu extends ru{constructor(e){super(e),this.tag=Hu.tag}add(e){let t;t=Wl(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new Zc(e.key,null):new Zc(e,null),nu(this.items,t.key)||this.items.push(t)}get(e,t){const n=nu(this.items,e);return!t&&Wl(n)?Xl(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=nu(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new Zc(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){const{replacer:r}=n,o=new this(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof r&&(e=r.call(t,e,e)),o.items.push(Gc(e,null,n));return o}}Hu.tag="tag:yaml.org,2002:set";const Ku={collection:"map",identify:e=>e instanceof Set,nodeClass:Hu,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Hu.from(e,t,n),resolve(e,t){if(Kl(e)){if(e.hasAllNullValues(!0))return Object.assign(new Hu,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Wu(e,t){const n=e[0],r="-"===n||"+"===n?e.substring(1):e,o=e=>t?BigInt(e):Number(e),s=r.replace(/_/g,"").split(":").reduce((e,t)=>e*o(60)+o(t),o(0));return"-"===n?o(-1)*s:s}function Xu(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return du(e);let r="";t<0&&(r="-",t*=n(-1));const o=n(60),s=[t%o];return t<60?s.unshift(0):(t=(t-s[0])/o,s.unshift(t%o),t>=60&&(t=(t-s[0])/o,s.unshift(t))),r+s.map(e=>String(e).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Yu={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Wu(e,n),stringify:Xu},Gu={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Wu(e,!1),stringify:Xu},Zu={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(Zu.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,o,s,i,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let c=Date.UTC(n,r-1,o,s||0,i||0,a||0,l);const u=t[8];if(u&&"Z"!==u){let e=Wu(u,!1);Math.abs(e)<30&&(e*=60),c-=6e4*e}return new Date(c)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},Qu=[ou,au,lu,cu,Iu,Pu,Bu,Fu,Vu,Uu,Lu,Du,$u,_u,Kc,Mu,Ou,Ku,Yu,Gu,Zu],Ju=new Map([["core",xu],["failsafe",[ou,au,lu]],["json",Nu],["yaml11",Qu],["yaml-1.1",Qu]]),ed={binary:_u,bool:uu,float:hu,floatExp:pu,floatNaN:fu,floatTime:Gu,int:bu,intHex:wu,intOct:vu,intTime:Yu,map:ou,merge:Kc,null:cu,omap:Mu,pairs:Ou,seq:au,set:Ku,timestamp:Zu},td={"tag:yaml.org,2002:binary":_u,"tag:yaml.org,2002:merge":Kc,"tag:yaml.org,2002:omap":Mu,"tag:yaml.org,2002:pairs":Ou,"tag:yaml.org,2002:set":Ku,"tag:yaml.org,2002:timestamp":Zu};function nd(e,t,n){const r=Ju.get(t);if(r&&!e)return n&&!r.includes(Kc)?r.concat(Kc):r.slice();let o=r;if(!o){if(!Array.isArray(e)){const e=Array.from(Ju.keys()).filter(e=>"yaml11"!==e).map(e=>JSON.stringify(e)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}o=[]}if(Array.isArray(e))for(const t of e)o=o.concat(t);else"function"==typeof e&&(o=e(o.slice()));return n&&(o=o.concat(Kc)),o.reduce((e,t)=>{const n="string"==typeof t?ed[t]:t;if(!n){const e=JSON.stringify(t),n=Object.keys(ed).map(e=>JSON.stringify(e)).join(", ");throw new Error(`Unknown custom tag ${e}; use one of ${n}`)}return e.includes(n)||e.push(n),e},[])}const rd=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class od{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:r,schema:o,sortMapEntries:s,toStringDefaults:i}){this.compat=Array.isArray(e)?nd(e,"compat"):e?nd(null,e):null,this.name="string"==typeof o&&o||"core",this.knownTags=r?td:{},this.tags=nd(t,this.name,n),this.toStringOptions=i??null,Object.defineProperty(this,zl,{value:ou}),Object.defineProperty(this,Bl,{value:lu}),Object.defineProperty(this,Fl,{value:au}),this.sortMapEntries="function"==typeof s?s:!0===s?rd:null}clone(){const e=Object.create(od.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}class sd{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Vl,{value:Rl});let r=null;"function"==typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t,t=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=o;let{version:s}=o;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new dc({version:s}),this.setSchema(s,n),this.contents=void 0===e?null:this.createNode(e,r,n)}clone(){const e=Object.create(sd.prototype,{[Vl]:{value:Rl}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Zl(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){id(this.contents)&&this.contents.add(e)}addIn(e,t){id(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=pc(this);e.anchor=!t||n.has(t)?hc(t||"a",n):t}return new vc(e.anchor)}createNode(e,t,n){let r;if("function"==typeof t)e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),r=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:i,keepUndefined:a,onTagObj:l,tag:c}=n??{},{onAnchor:u,setAnchors:d,sourceObjects:f}=function(e,t){const n=[],r=new Map;let o=null;return{onAnchor:r=>{n.push(r),o??(o=pc(e));const s=hc(t,o);return o.add(s),s},setAnchors:()=>{for(const e of n){const t=r.get(e);if("object"!=typeof t||!t.anchor||!Xl(t.node)&&!Gl(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:r}}(this,s||"a"),p=kc(e,c,{aliasDuplicateObjects:o??!0,keepUndefined:a??!1,onAnchor:u,onTagObj:l,replacer:r,schema:this.schema,sourceObjects:f});return i&&Gl(p)&&(p.flow=!0),d(),p}createPair(e,t,n={}){const r=this.createNode(e,null,n),o=this.createNode(t,null,n);return new Zc(r,o)}delete(e){return!!id(this.contents)&&this.contents.delete(e)}deleteIn(e){return Ec(e)?null!=this.contents&&(this.contents=null,!0):!!id(this.contents)&&this.contents.deleteIn(e)}get(e,t){return Gl(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return Ec(e)?!t&&Xl(this.contents)?this.contents.value:this.contents:Gl(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!Gl(this.contents)&&this.contents.has(e)}hasIn(e){return Ec(e)?void 0!==this.contents:!!Gl(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=Sc(this.schema,[e],t):id(this.contents)&&this.contents.set(e,t)}setIn(e,t){Ec(e)?this.contents=t:null==this.contents?this.contents=Sc(this.schema,Array.from(e),t):id(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new dc({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new dc({version:e}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new od(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:r,onAnchor:o,reviver:s}={}){const i={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof r?r:100},a=gc(this.contents,t??"",i);if("function"==typeof o)for(const{count:e,res:t}of i.anchors.values())o(t,e);return"function"==typeof s?mc(s,{"":a},"",a):a}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return function(e,t){const n=[];let r=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(n.push(t),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const o=Fc(e,t),{commentString:s}=o.options;if(e.commentBefore){1!==n.length&&n.unshift("");const t=s(e.commentBefore);n.unshift(Cc(t,""))}let i=!1,a=null;if(e.contents){if(Zl(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const t=s(e.contents.commentBefore);n.push(Cc(t,""))}o.forceBlockIndent=!!e.comment,a=e.contents.comment}const t=a?void 0:()=>i=!0;let l=Vc(e.contents,o,()=>a=null,t);a&&(l+=jc(l,"",s(a))),"|"!==l[0]&&">"!==l[0]||"---"!==n[n.length-1]?n.push(l):n[n.length-1]=`--- ${l}`}else n.push(Vc(e.contents,o));if(e.directives?.docEnd)if(e.comment){const t=s(e.comment);t.includes("\n")?(n.push("..."),n.push(Cc(t,""))):n.push(`... ${t}`)}else n.push("...");else{let t=e.comment;t&&i&&(t=t.replace(/^\n+/,"")),t&&(i&&!a||""===n[n.length-1]||n.push(""),n.push(Cc(s(t),"")))}return n.join("\n")+"\n"}(this,e)}}function id(e){if(Gl(e))return!0;throw new Error("Expected a YAML collection as document contents")}class ad extends Error{constructor(e,t,n,r){super(),this.name=e,this.code=n,this.message=r,this.pos=t}}class ld extends ad{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class cd extends ad{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const ud=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map(e=>t.linePos(e));const{line:r,col:o}=n.linePos[0];n.message+=` at line ${r}, column ${o}`;let s=o-1,i=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&i.length>80){const e=Math.min(s-39,i.length-79);i=""+i.substring(e),s-=e-1}if(i.length>80&&(i=i.substring(0,79)+""),r>1&&/^ *$/.test(i.substring(0,s))){let n=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);n.length>80&&(n=n.substring(0,79)+"\n"),i=n+i}if(/[^ ]/.test(i)){let e=1;const t=n.linePos[1];t?.line===r&&t.col>o&&(e=Math.max(1,Math.min(t.col-o,80-s)));const a=" ".repeat(s)+"^".repeat(e);n.message+=`:\n\n${i}\n${a}\n`}};function dd(e,{flow:t,indicator:n,next:r,offset:o,onError:s,parentIndent:i,startOnNewline:a}){let l=!1,c=a,u=a,d="",f="",p=!1,h=!1,m=null,g=null,y=null,v=null,b=null,w=null,x=null;for(const o of e)switch(h&&("space"!==o.type&&"newline"!==o.type&&"comma"!==o.type&&s(o.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h=!1),m&&(c&&"comment"!==o.type&&"newline"!==o.type&&s(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),o.type){case"space":t||"doc-start"===n&&"flow-collection"===r?.type||!o.source.includes("\t")||(m=o),u=!0;break;case"comment":{u||s(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=o.source.substring(1)||" ";d?d+=f+e:d=e,f="",c=!1;break}case"newline":c?d?d+=o.source:w&&"seq-item-ind"===n||(l=!0):f+=o.source,c=!0,p=!0,(g||y)&&(v=o),u=!0;break;case"anchor":g&&s(o,"MULTIPLE_ANCHORS","A node can have at most one anchor"),o.source.endsWith(":")&&s(o.offset+o.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=o,x??(x=o.offset),c=!1,u=!1,h=!0;break;case"tag":y&&s(o,"MULTIPLE_TAGS","A node can have at most one tag"),y=o,x??(x=o.offset),c=!1,u=!1,h=!0;break;case n:(g||y)&&s(o,"BAD_PROP_ORDER",`Anchors and tags must be after the ${o.source} indicator`),w&&s(o,"UNEXPECTED_TOKEN",`Unexpected ${o.source} in ${t??"collection"}`),w=o,c="seq-item-ind"===n||"explicit-key-ind"===n,u=!1;break;case"comma":if(t){b&&s(o,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),b=o,c=!1,u=!1;break}default:s(o,"UNEXPECTED_TOKEN",`Unexpected ${o.type} token`),c=!1,u=!1}const k=e[e.length-1],S=k?k.offset+k.source.length:o;return h&&r&&"space"!==r.type&&"newline"!==r.type&&"comma"!==r.type&&("scalar"!==r.type||""!==r.source)&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(c&&m.indent<=i||"block-map"===r?.type||"block-seq"===r?.type)&&s(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:b,found:w,spaceBefore:l,comment:d,hasNewline:p,anchor:g,tag:y,newlineAfterProp:v,end:S,start:x??S}}function fd(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of e.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(fd(t.key)||fd(t.value))return!0}return!1;default:return!0}}function pd(e,t,n){if("flow-collection"===t?.type){const r=t.end[0];r.indent!==e||"]"!==r.source&&"}"!==r.source||!fd(t)||n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function hd(e,t,n){const{uniqueKeys:r}=e.options;if(!1===r)return!1;const o="function"==typeof r?r:(e,t)=>e===t||Xl(e)&&Xl(t)&&e.value===t.value;return t.some(e=>o(e.key,n))}const md="All mapping items must start at the same column";function gd(e,t,n,r){let o="";if(e){let s=!1,i="";for(const a of e){const{source:e,type:l}=a;switch(l){case"space":s=!0;break;case"comment":{n&&!s&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";o?o+=i+t:o=t,i="";break}case"newline":o&&(i+=e),s=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}t+=e.length}}return{comment:o,offset:t}}const yd="Block collections are not allowed within flow collections",vd=e=>e&&("block-map"===e.type||"block-seq"===e.type);function bd(e,t,n,r,o,s){const i="block-map"===n.type?function({composeNode:e,composeEmptyNode:t},n,r,o,s){const i=new(s?.nodeClass??ru)(n.schema);n.atRoot&&(n.atRoot=!1);let a=r.offset,l=null;for(const s of r.items){const{start:c,key:u,sep:d,value:f}=s,p=dd(c,{indicator:"explicit-key-ind",next:u??d?.[0],offset:a,onError:o,parentIndent:r.indent,startOnNewline:!0}),h=!p.found;if(h){if(u&&("block-seq"===u.type?o(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==r.indent&&o(a,"BAD_INDENT",md)),!p.anchor&&!p.tag&&!d){l=p.end,p.comment&&(i.comment?i.comment+="\n"+p.comment:i.comment=p.comment);continue}(p.newlineAfterProp||fd(u))&&o(u??c[c.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else p.found?.indent!==r.indent&&o(a,"BAD_INDENT",md);n.atKey=!0;const m=p.end,g=u?e(n,u,p,o):t(n,m,c,null,p,o);n.schema.compat&&pd(r.indent,u,o),n.atKey=!1,hd(n,i.items,g)&&o(m,"DUPLICATE_KEY","Map keys must be unique");const y=dd(d??[],{indicator:"map-value-ind",next:f,offset:g.range[2],onError:o,parentIndent:r.indent,startOnNewline:!u||"block-scalar"===u.type});if(a=y.end,y.found){h&&("block-map"!==f?.type||y.hasNewline||o(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&p.start<y.found.offset-1024&&o(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const l=f?e(n,f,y,o):t(n,a,d,null,y,o);n.schema.compat&&pd(r.indent,f,o),a=l.range[2];const c=new Zc(g,l);n.options.keepSourceTokens&&(c.srcToken=s),i.items.push(c)}else{h&&o(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),y.comment&&(g.comment?g.comment+="\n"+y.comment:g.comment=y.comment);const e=new Zc(g);n.options.keepSourceTokens&&(e.srcToken=s),i.items.push(e)}}return l&&l<a&&o(l,"IMPOSSIBLE","Map comment with trailing content"),i.range=[r.offset,a,l??a],i}(e,t,n,r,s):"block-seq"===n.type?function({composeNode:e,composeEmptyNode:t},n,r,o,s){const i=new(s?.nodeClass??su)(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let a=r.offset,l=null;for(const{start:s,value:c}of r.items){const u=dd(s,{indicator:"seq-item-ind",next:c,offset:a,onError:o,parentIndent:r.indent,startOnNewline:!0});if(!u.found){if(!(u.anchor||u.tag||c)){l=u.end,u.comment&&(i.comment=u.comment);continue}"block-seq"===c?.type?o(u.end,"BAD_INDENT","All sequence items must start at the same column"):o(a,"MISSING_CHAR","Sequence item without - indicator")}const d=c?e(n,c,u,o):t(n,u.end,s,null,u,o);n.schema.compat&&pd(r.indent,c,o),a=d.range[2],i.items.push(d)}return i.range=[r.offset,a,l??a],i}(e,t,n,r,s):function({composeNode:e,composeEmptyNode:t},n,r,o,s){const i="{"===r.start.source,a=i?"flow map":"flow sequence",l=new(s?.nodeClass??(i?ru:su))(n.schema);l.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let u=r.offset+r.start.source.length;for(let s=0;s<r.items.length;++s){const c=r.items[s],{start:d,key:f,sep:p,value:h}=c,m=dd(d,{flow:a,indicator:"explicit-key-ind",next:f??p?.[0],offset:u,onError:o,parentIndent:r.indent,startOnNewline:!1});if(!m.found){if(!(m.anchor||m.tag||p||h)){0===s&&m.comma?o(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):s<r.items.length-1&&o(m.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),m.comment&&(l.comment?l.comment+="\n"+m.comment:l.comment=m.comment),u=m.end;continue}!i&&n.options.strict&&fd(f)&&o(f,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===s)m.comma&&o(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(m.comma||o(m.start,"MISSING_CHAR",`Missing , between ${a} items`),m.comment){let e="";e:for(const t of d)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=l.items[l.items.length-1];Wl(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,m.comment=m.comment.substring(e.length+1)}}if(i||p||m.found){n.atKey=!0;const s=m.end,g=f?e(n,f,m,o):t(n,s,d,null,m,o);vd(f)&&o(g.range,"BLOCK_IN_FLOW",yd),n.atKey=!1;const y=dd(p??[],{flow:a,indicator:"map-value-ind",next:h,offset:g.range[2],onError:o,parentIndent:r.indent,startOnNewline:!1});if(y.found){if(!i&&!m.found&&n.options.strict){if(p)for(const e of p){if(e===y.found)break;if("newline"===e.type){o(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}m.start<y.found.offset-1024&&o(y.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else h&&("source"in h&&":"===h.source?.[0]?o(h,"MISSING_CHAR",`Missing space after : in ${a}`):o(y.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const v=h?e(n,h,y,o):y.found?t(n,y.end,p,null,y,o):null;v?vd(h)&&o(v.range,"BLOCK_IN_FLOW",yd):y.comment&&(g.comment?g.comment+="\n"+y.comment:g.comment=y.comment);const b=new Zc(g,v);if(n.options.keepSourceTokens&&(b.srcToken=c),i){const e=l;hd(n,e.items,g)&&o(s,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(b)}else{const e=new ru(n.schema);e.flow=!0,e.items.push(b);const t=(v??g).range;e.range=[g.range[0],t[1],t[2]],l.items.push(e)}u=v?v.range[2]:y.end}else{const r=h?e(n,h,m,o):t(n,m.end,p,null,m,o);l.items.push(r),u=r.range[2],vd(h)&&o(r.range,"BLOCK_IN_FLOW",yd)}}const d=i?"}":"]",[f,...p]=r.end;let h=u;if(f?.source===d)h=f.offset+f.source.length;else{const e=a[0].toUpperCase()+a.substring(1);o(u,c?"MISSING_CHAR":"BAD_INDENT",c?`${e} must end with a ${d}`:`${e} in block collection must be sufficiently indented and end with a ${d}`),f&&1!==f.source.length&&p.unshift(f)}if(p.length>0){const e=gd(p,h,n.options.strict,o);e.comment&&(l.comment?l.comment+="\n"+e.comment:l.comment=e.comment),l.range=[r.offset,h,e.offset]}else l.range=[r.offset,h,h];return l}(e,t,n,r,s),a=i.constructor;return"!"===o||o===a.tagName?(i.tag=a.tagName,i):(o&&(i.tag=o),i)}function wd(e,t,n){const r=t.offset,o=function({offset:e,props:t},n,r){if("block-scalar-header"!==t[0].type)return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:o}=t[0],s=o[0];let i=0,a="",l=-1;for(let t=1;t<o.length;++t){const n=o[t];if(a||"-"!==n&&"+"!==n){const r=Number(n);!i&&r?i=r:-1===l&&(l=e+t)}else a=n}-1!==l&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${o}`);let c=!1,u="",d=o.length;for(let e=1;e<t.length;++e){const o=t[e];switch(o.type){case"space":c=!0;case"newline":d+=o.source.length;break;case"comment":n&&!c&&r(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=o.source.length,u=o.source.substring(1);break;case"error":r(o,"UNEXPECTED_TOKEN",o.message),d+=o.source.length;break;default:{r(o,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${o.type}`);const e=o.source;e&&"string"==typeof e&&(d+=e.length)}}}return{mode:s,indent:i,chomp:a,comment:u,length:d}}(t,e.options.strict,n);if(!o)return{value:"",type:null,comment:"",range:[r,r,r]};const s=">"===o.mode?xc.BLOCK_FOLDED:xc.BLOCK_LITERAL,i=t.source?function(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),o=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let e=1;e<t.length;e+=2)o.push([t[e],t[e+1]]);return o}(t.source):[];let a=i.length;for(let e=i.length-1;e>=0;--e){const t=i[e][1];if(""!==t&&"\r"!==t)break;a=e}if(0===a){const e="+"===o.chomp&&i.length>0?"\n".repeat(Math.max(1,i.length-1)):"";let n=r+o.length;return t.source&&(n+=t.source.length),{value:e,type:s,comment:o.comment,range:[r,n,n]}}let l=t.indent+o.indent,c=t.offset+o.length,u=0;for(let t=0;t<a;++t){const[r,s]=i[t];if(""!==s&&"\r"!==s){if(r.length<l){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(c+r.length,"MISSING_CHAR",e)}0===o.indent&&(l=r.length),u=t,0!==l||e.atRoot||n(c,"BAD_INDENT","Block scalar values in collections must be indented");break}0===o.indent&&r.length>l&&(l=r.length),c+=r.length+s.length+1}for(let e=i.length-1;e>=a;--e)i[e][0].length>l&&(a=e+1);let d="",f="",p=!1;for(let e=0;e<u;++e)d+=i[e][0].slice(l)+"\n";for(let e=u;e<a;++e){let[t,r]=i[e];c+=t.length+r.length+1;const a="\r"===r[r.length-1];if(a&&(r=r.slice(0,-1)),r&&t.length<l){const e="Block scalar lines must not be less indented than their "+(o.indent?"explicit indentation indicator":"first line");n(c-r.length-(a?2:1),"BAD_INDENT",e),t=""}s===xc.BLOCK_LITERAL?(d+=f+t.slice(l)+r,f="\n"):t.length>l||"\t"===r[0]?(" "===f?f="\n":p||"\n"!==f||(f="\n\n"),d+=f+t.slice(l)+r,f="\n",p=!0):""===r?"\n"===f?d+="\n":f="\n":(d+=f+r,f=" ",p=!1)}switch(o.chomp){case"-":break;case"+":for(let e=a;e<i.length;++e)d+="\n"+i[e][0].slice(l);"\n"!==d[d.length-1]&&(d+="\n");break;default:d+="\n"}const h=r+o.length+t.source.length;return{value:d,type:s,comment:o.comment,range:[r,h,h]}}function xd(e,t,n){const{offset:r,type:o,source:s,end:i}=e;let a,l;const c=(e,t,o)=>n(r+e,t,o);switch(o){case"scalar":a=xc.PLAIN,l=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),kd(e)}(s,c);break;case"single-quoted-scalar":a=xc.QUOTE_SINGLE,l=function(e,t){return"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote"),kd(e.slice(1,-1)).replace(/''/g,"'")}(s,c);break;case"double-quoted-scalar":a=xc.QUOTE_DOUBLE,l=function(e,t){let n="";for(let r=1;r<e.length-1;++r){const o=e[r];if("\r"!==o||"\n"!==e[r+1])if("\n"===o){const{fold:t,offset:o}=Sd(e,r);n+=t,r=o}else if("\\"===o){let o=e[++r];const s=Ed[o];if(s)n+=s;else if("\n"===o)for(o=e[r+1];" "===o||"\t"===o;)o=e[1+ ++r];else if("\r"===o&&"\n"===e[r+1])for(o=e[1+ ++r];" "===o||"\t"===o;)o=e[1+ ++r];else if("x"===o||"u"===o||"U"===o){const s={x:2,u:4,U:8}[o];n+=Nd(e,r+1,s,t),r+=s}else{const o=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),n+=o}}else if(" "===o||"\t"===o){const t=r;let s=e[r+1];for(;" "===s||"\t"===s;)s=e[1+ ++r];"\n"===s||"\r"===s&&"\n"===e[r+2]||(n+=r>t?e.slice(t,r+1):o)}else n+=o}return'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}(s,c);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${o}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}const u=r+s.length,d=gd(i,u,t,n);return{value:l,type:a,comment:d.comment,range:[r,u,d.offset]}}function kd(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let o=r[1],s=" ",i=t.lastIndex;for(n.lastIndex=i;r=n.exec(e);)""===r[1]?"\n"===s?o+=s:s="\n":(o+=s+r[1],s=" "),i=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=i,r=a.exec(e),o+s+(r?.[1]??"")}function Sd(e,t){let n="",r=e[t+1];for(;!(" "!==r&&"\t"!==r&&"\n"!==r&&"\r"!==r||"\r"===r&&"\n"!==e[t+2]);)"\n"===r&&(n+="\n"),r=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const Ed={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function Nd(e,t,n,r){const o=e.substr(t,n),s=o.length===n&&/^[0-9a-fA-F]+$/.test(o)?parseInt(o,16):NaN;if(isNaN(s)){const o=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(s)}function _d(e,t,n,r){const{value:o,type:s,comment:i,range:a}="block-scalar"===t.type?wd(e,t,r):xd(t,e.options.strict,r),l=n?e.directives.tagName(n.source,e=>r(n,"TAG_RESOLVE_FAILED",e)):null;let c,u;c=e.options.stringKeys&&e.atKey?e.schema[Bl]:l?function(e,t,n,r,o){if("!"===n)return e[Bl];const s=[];for(const t of e.tags)if(!t.collection&&t.tag===n){if(!t.default||!t.test)return t;s.push(t)}for(const e of s)if(e.test?.test(t))return e;const i=e.knownTags[n];return i&&!i.collection?(e.tags.push(Object.assign({},i,{default:!1,test:void 0})),i):(o(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[Bl])}(e.schema,o,l,n,r):"scalar"===t.type?function({atKey:e,directives:t,schema:n},r,o,s){const i=n.tags.find(t=>(!0===t.default||e&&"key"===t.default)&&t.test?.test(r))||n[Bl];if(n.compat){const e=n.compat.find(e=>e.default&&e.test?.test(r))??n[Bl];i.tag!==e.tag&&s(o,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${t.tagString(i.tag)} or ${t.tagString(e.tag)}`,!0)}return i}(e,o,t,r):e.schema[Bl];try{const s=c.resolve(o,e=>r(n??t,"TAG_RESOLVE_FAILED",e),e.options);u=Xl(s)?s:new xc(s)}catch(e){const s=e instanceof Error?e.message:String(e);r(n??t,"TAG_RESOLVE_FAILED",s),u=new xc(o)}return u.range=a,u.source=o,s&&(u.type=s),l&&(u.tag=l),c.format&&(u.format=c.format),i&&(u.comment=i),u}function Cd(e,t,n){if(t){n??(n=t.length);for(let r=n-1;r>=0;--r){let n=t[r];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++r];"space"===n?.type;)e+=n.source.length,n=t[++r];break}}return e}const jd={composeNode:Od,composeEmptyNode:Td};function Od(e,t,n,r){const o=e.atKey,{spaceBefore:s,comment:i,anchor:a,tag:l}=n;let c,u=!0;switch(t.type){case"alias":c=function({options:e},{offset:t,source:n,end:r},o){const s=new vc(n.substring(1));""===s.source&&o(t,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&o(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const i=t+n.length,a=gd(r,i,e.strict,o);return s.range=[t,i,a.offset],a.comment&&(s.comment=a.comment),s}(e,t,r),(a||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=_d(e,t,l,r),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=function(e,t,n,r,o){const s=r.tag,i=s?t.directives.tagName(s.source,e=>o(s,"TAG_RESOLVE_FAILED",e)):null;if("block-seq"===n.type){const{anchor:e,newlineAfterProp:t}=r,n=e&&s?e.offset>s.offset?e:s:e??s;n&&(!t||t.offset<n.offset)&&o(n,"MISSING_CHAR","Missing newline after block sequence props")}const a="block-map"===n.type?"map":"block-seq"===n.type?"seq":"{"===n.start.source?"map":"seq";if(!s||!i||"!"===i||i===ru.tagName&&"map"===a||i===su.tagName&&"seq"===a)return bd(e,t,n,o,i);let l=t.schema.tags.find(e=>e.tag===i&&e.collection===a);if(!l){const r=t.schema.knownTags[i];if(r?.collection!==a)return r?o(s,"BAD_COLLECTION_TYPE",`${r.tag} used for ${a} collection, but expects ${r.collection??"scalar"}`,!0):o(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${i}`,!0),bd(e,t,n,o,i);t.schema.tags.push(Object.assign({},r,{default:!1})),l=r}const c=bd(e,t,n,o,i,l),u=l.resolve?.(c,e=>o(s,"TAG_RESOLVE_FAILED",e),t.options)??c,d=Zl(u)?u:new xc(u);return d.range=c.range,d.tag=i,l?.format&&(d.format=l.format),d}(jd,e,t,n,r),a&&(c.anchor=a.source.substring(1));break;default:r(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),c=Td(e,t.offset,void 0,null,n,r),u=!1}return a&&""===c.anchor&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),o&&e.options.stringKeys&&(!Xl(c)||"string"!=typeof c.value||c.tag&&"tag:yaml.org,2002:str"!==c.tag)&&r(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(c.spaceBefore=!0),i&&("scalar"===t.type&&""===t.source?c.comment=i:c.commentBefore=i),e.options.keepSourceTokens&&u&&(c.srcToken=t),c}function Td(e,t,n,r,{spaceBefore:o,comment:s,anchor:i,tag:a,end:l},c){const u=_d(e,{type:"scalar",offset:Cd(t,n,r),indent:-1,source:""},a,c);return i&&(u.anchor=i.source.substring(1),""===u.anchor&&c(i,"BAD_ALIAS","Anchor cannot be an empty string")),o&&(u.spaceBefore=!0),s&&(u.comment=s,u.range[2]=l),u}function Md(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function Ad(e){let t="",n=!1,r=!1;for(let o=0;o<e.length;++o){const s=e[o];switch(s[0]){case"#":t+=(""===t?"":r?"\n\n":"\n")+(s.substring(1)||" "),n=!0,r=!1;break;case"%":"#"!==e[o+1]?.[0]&&(o+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class Id{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,r)=>{const o=Md(e);r?this.warnings.push(new cd(o,t,n)):this.errors.push(new ld(o,t,n))},this.directives=new dc({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:r}=Ad(this.prelude);if(n){const o=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(r||e.directives.docStart||!o)e.commentBefore=n;else if(Gl(o)&&!o.flow&&o.items.length>0){let e=o.items[0];Wl(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=o.commentBefore;o.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Ad(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,n,r)=>{const o=Md(e);o[0]+=t,this.onError(o,"BAD_DIRECTIVE",n,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=function(e,t,{offset:n,start:r,value:o,end:s},i){const a=Object.assign({_directives:t},e),l=new sd(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=dd(r,{indicator:"doc-start",next:o??s?.[0],offset:n,onError:i,parentIndent:0,startOnNewline:!0});u.found&&(l.directives.docStart=!0,!o||"block-map"!==o.type&&"block-seq"!==o.type||u.hasNewline||i(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=o?Od(c,o,u,i):Td(c,u.end,r,null,u,i);const d=l.contents.range[2],f=gd(s,d,!1,i);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new ld(Md(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new ld(Md(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=gd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new ld(Md(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new sd(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}function Pd(e,t=!0,n){if(e){const r=(e,t,r)=>{const o="number"==typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!n)throw new ld([o,o+1],t,r);n(o,t,r)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return xd(e,t,r);case"block-scalar":return wd({options:{strict:t}},e,r)}}return null}function Ld(e,t){const{implicitKey:n=!1,indent:r,inFlow:o=!1,offset:s=-1,type:i="PLAIN"}=t,a=Bc({type:i,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}}),l=t.end??[{type:"newline",offset:-1,indent:r,source:"\n"}];switch(a[0]){case"|":case">":{const e=a.indexOf("\n"),t=a.substring(0,e),n=a.substring(e+1)+"\n",o=[{type:"block-scalar-header",offset:s,indent:r,source:t}];return $d(o,l)||o.push({type:"newline",offset:-1,indent:r,source:"\n"}),{type:"block-scalar",offset:s,indent:r,props:o,source:n}}case'"':return{type:"double-quoted-scalar",offset:s,indent:r,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:s,indent:r,source:a,end:l};default:return{type:"scalar",offset:s,indent:r,source:a,end:l}}}function Dd(e,t,n={}){let{afterKey:r=!1,implicitKey:o=!1,inFlow:s=!1,type:i}=n,a="indent"in e?e.indent:null;if(r&&"number"==typeof a&&(a+=2),!i)switch(e.type){case"single-quoted-scalar":i="QUOTE_SINGLE";break;case"double-quoted-scalar":i="QUOTE_DOUBLE";break;case"block-scalar":{const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");i=">"===t.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:i="PLAIN"}const l=Bc({type:i,value:t},{implicitKey:o||null===a,indent:null!==a&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":!function(e,t){const n=t.indexOf("\n"),r=t.substring(0,n),o=t.substring(n+1)+"\n";if("block-scalar"===e.type){const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");t.source=r,e.source=o}else{const{offset:t}=e,n="indent"in e?e.indent:-1,s=[{type:"block-scalar-header",offset:t,indent:n,source:r}];$d(s,"end"in e?e.end:void 0)||s.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:"block-scalar",indent:n,props:s,source:o})}}(e,l);break;case'"':Rd(e,l,"double-quoted-scalar");break;case"'":Rd(e,l,"single-quoted-scalar");break;default:Rd(e,l,"scalar")}}function $d(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function Rd(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let o=t.length;"block-scalar-header"===e.props[0].type&&(o-=e.props[0].source.length);for(const e of r)e.offset+=o;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const r={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:n,source:t,end:[r]});break}default:{const r="indent"in e?e.indent:-1,o="end"in e&&Array.isArray(e.end)?e.end.filter(e=>"space"===e.type||"comment"===e.type||"newline"===e.type):[];for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:n,indent:r,source:t,end:o})}}}const zd=e=>"type"in e?qd(e):Bd(e);function qd(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=qd(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=Bd(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=Bd(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=Bd(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function Bd({start:e,key:t,sep:n,value:r}){let o="";for(const t of e)o+=t.source;if(t&&(o+=qd(t)),n)for(const e of n)o+=e.source;return r&&(o+=qd(r)),o}const Fd=Symbol("break visit"),Vd=Symbol("skip children"),Ud=Symbol("remove item");function Hd(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),Kd(Object.freeze([]),e,t)}function Kd(e,t,n){let r=n(t,e);if("symbol"==typeof r)return r;for(const o of["key","value"]){const s=t[o];if(s&&"items"in s){for(let t=0;t<s.items.length;++t){const r=Kd(Object.freeze(e.concat([[o,t]])),s.items[t],n);if("number"==typeof r)t=r-1;else{if(r===Fd)return Fd;r===Ud&&(s.items.splice(t,1),t-=1)}}"function"==typeof r&&"key"===o&&(r=r(t,e))}}return"function"==typeof r?r(t,e):r}Hd.BREAK=Fd,Hd.SKIP=Vd,Hd.REMOVE=Ud,Hd.itemAtPath=(e,t)=>{let n=e;for(const[e,r]of t){const t=n?.[e];if(!t||!("items"in t))return;n=t.items[r]}return n},Hd.parentCollection=(e,t)=>{const n=Hd.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],o=n?.[r];if(o&&"items"in o)return o;throw new Error("Parent collection not found")};const Wd="\ufeff",Xd="",Yd="",Gd="",Zd=e=>!!e&&"items"in e,Qd=e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type);function Jd(e){switch(e){case Wd:return"<BOM>";case Xd:return"<DOC>";case Yd:return"<FLOW_END>";case Gd:return"<SCALAR>";default:return JSON.stringify(e)}}function ef(e){switch(e){case Wd:return"byte-order-mark";case Xd:return"doc-mode";case Yd:return"flow-error-end";case Gd:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function tf(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const nf=new Set("0123456789ABCDEFabcdef"),rf=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),of=new Set(",[]{}"),sf=new Set(" ,[]{}\n\r\t"),af=e=>!e||sf.has(e);class lf{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){if(e){if("string"!=typeof e)throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&tf(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if(e[0]===Wd&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length,n=e.indexOf("#");for(;-1!==n;){const r=e[n-1];if(" "===r||"\t"===r){t=n-1;break}n=e.indexOf("#",n+1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const r=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield Xd,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if(("---"===e||"..."===e)&&tf(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"---"===e?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!tf(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&tf(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(af),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const r=this.getLine();if(null===r)return this.setNext("flow");if((-1!==n&&n<this.indentNext&&"#"!==r[0]||0===n&&(r.startsWith("---")||r.startsWith("..."))&&tf(r[3]))&&(n!==this.indentNext-1||1!==this.flowLevel||"]"!==r[0]&&"}"!==r[0]))return this.flowLevel=0,yield Yd,yield*this.parseLineStart();let o=0;for(;","===r[o];)o+=(yield*this.pushCount(1)),o+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(o+=(yield*this.pushIndicators()),r[o]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(af),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||tf(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let r=n.indexOf("\n",this.pos);if(-1!==r){for(;-1!==r;){const e=this.continueScalar(r+1);if(-1===e)break;r=n.indexOf("\n",e)}-1!==r&&(t=r-("\r"===n[r-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil(e=>tf(e)||"#"===e)}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let r=this.pos;e=this.buffer[r];++r)switch(e){case" ":n+=1;break;case"\n":t=r,n=0;break;case"\r":{const e=this.buffer[r+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext=this.blockScalarIndent+(0===this.indentNext?1:this.indentNext);do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let r=t+1;for(e=this.buffer[r];" "===e;)e=this.buffer[++r];if("\t"===e){for(;"\t"===e||" "===e||"\r"===e||"\n"===e;)e=this.buffer[++r];t=r-1}else if(!this.blockScalarKeep)for(;;){let e=t-1,r=this.buffer[e];"\r"===r&&(r=this.buffer[--e]);const o=e;for(;" "===r;)r=this.buffer[--e];if(!("\n"===r&&e>=this.pos&&e+1+n>o))break;t=e}return yield Gd,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,r=this.pos-1;for(;t=this.buffer[++r];)if(":"===t){const t=this.buffer[r+1];if(tf(t)||e&&of.has(t))break;n=r}else if(tf(t)){let o=this.buffer[r+1];if("\r"===t&&("\n"===o?(r+=1,t="\n",o=this.buffer[r+1]):n=r),"#"===o||e&&of.has(o))break;if("\n"===t){const e=this.continueScalar(r+1);if(-1===e)break;r=Math.max(r,e-2)}}else{if(e&&of.has(t))break;n=r}return t||this.atEnd?(yield Gd,yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(af))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(tf(t)||e&&of.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!tf(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(rf.has(t))t=this.buffer[++e];else{if("%"!==t||!nf.has(this.buffer[e+1])||!nf.has(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class cf{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const r=t+n>>1;this.lineStarts[r]<e?t=r+1:n=r}return this.lineStarts[t]===e?{line:t+1,col:1}:0===t?{line:0,col:e}:{line:t,col:e-this.lineStarts[t-1]+1}}}}function uf(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function df(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function ff(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function pf(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function hf(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===e[++t]?.type;);return e.splice(t,e.length)}function mf(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||uf(t.start,"explicit-key-ind")||uf(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,ff(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class gf{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new lf,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=ef(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||"doc-end"===e?.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&mf(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!n.explicitKey);n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===df(n.start)&&(0===t.indent||n.start.every(e=>"comment"!==e.type||e.indent<t.indent))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==df(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=hf(pf(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0,r=Array.isArray(n)?n[n.length-1]:void 0;"comment"===r?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2],r=n?.value?.end;if(Array.isArray(r))return Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent,r=n&&(t.sep||t.explicitKey)&&"seq-item-ind"!==this.type;let o=[];if(r&&t.sep&&!t.value){const n=[];for(let r=0;r<t.sep.length;++r){const o=t.sep[r];switch(o.type){case"newline":n.push(r);break;case"space":break;case"comment":o.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(o=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(r||t.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||t.explicitKey?r||t.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(t.start.push(this.sourceToken),t.explicitKey=!0),void(this.onKeyLine=!0);case"map-value-ind":if(t.explicitKey)if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(uf(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(ff(t.key)&&!uf(t.sep,"newline")){const e=hf(t.start),n=t.key,r=t.sep;r.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:r}]})}else o.length>0?t.sep=t.sep.concat(o,this.sourceToken):t.sep.push(this.sourceToken);else if(uf(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=hf(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||r?e.items.push({start:o,key:null,sep:[this.sourceToken]}):uf(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(r||t.value?(e.items.push({start:o,key:n,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(n):(Object.assign(t,{key:n,sep:[]}),this.onKeyLine=!0))}default:{const r=this.startBlockValue(e);if(r){if("block-seq"===r.type){if(!t.explicitKey&&t.sep&&!uf(t.sep,"newline"))return void(yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source}))}else n&&e.items.push({start:o});return void this.stack.push(r)}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0,r=Array.isArray(n)?n[n.length-1]:void 0;"comment"===r?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2],r=n?.value?.end;if(Array.isArray(r))return Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||uf(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while("flow-collection"===e?.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=hf(pf(t));mf(e);const r=e.end.splice(1,e.end.length);r.push(this.sourceToken);const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=hf(pf(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const t=hf(pf(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&!(this.indent<=t)&&e.every(e=>"newline"===e.type||"space"===e.type)}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function yf(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new cf||null,prettyErrors:t}}function vf(e,t={}){const{lineCounter:n,prettyErrors:r}=yf(t),o=new gf(n?.addNewLine),s=new Id(t),i=Array.from(s.compose(o.parse(e)));if(r&&n)for(const t of i)t.errors.forEach(ud(e,n)),t.warnings.forEach(ud(e,n));return i.length>0?i:Object.assign([],{empty:!0},s.streamInfo())}function bf(e,t={}){const{lineCounter:n,prettyErrors:r}=yf(t),o=new gf(n?.addNewLine),s=new Id(t);let i=null;for(const t of s.compose(o.parse(e),!0,e.length))if(i){if("silent"!==i.options.logLevel){i.errors.push(new ld(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else i=t;return r&&n&&(i.errors.forEach(ud(e,n)),i.warnings.forEach(ud(e,n))),i}function wf(e,t,n){let r;"function"==typeof t?r=t:void 0===n&&t&&"object"==typeof t&&(n=t);const o=bf(e,n);if(!o)return null;if(o.warnings.forEach(e=>Uc(o.options.logLevel,e)),o.errors.length>0){if("silent"!==o.options.logLevel)throw o.errors[0];o.errors=[]}return o.toJS(Object.assign({reviver:r},n))}function xf(e,t,n){let r=null;if("function"==typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t),"string"==typeof n&&(n=n.length),"number"==typeof n){const e=Math.round(n);n=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){const{keepUndefined:e}=n??t??{};if(!e)return}return Hl(e)&&!r?e.toString(n):new sd(e,r,n).toString(n)}const kf=t;function Sf(e){const t=[];let n;try{n=kf.parse(e,{strict:!1})}catch(e){return{workflow:{name:"",on:{},jobs:{}},errors:[`YAML parse error: ${e instanceof Error?e.message:String(e)}`]}}if(null==n||"object"!=typeof n)return{workflow:{name:"",on:{},jobs:{}},errors:["Invalid workflow: root must be an object"]};const r=n;"jobs"in r&&null!=r.jobs&&"object"==typeof r.jobs||t.push('Workflow must have a "jobs" object');const o=r.jobs??{},s={...r,name:"string"==typeof r.name?r.name:void 0,"run-name":"string"==typeof r["run-name"]?r["run-name"]:void 0,on:r.on??{},env:"object"!=typeof r.env||null===r.env||Array.isArray(r.env)?void 0:r.env,jobs:{}};for(const[e,n]of Object.entries(o)){if(null==n||"object"!=typeof n||Array.isArray(n)){t.push(`Job "${e}" must be an object`);continue}const r=n,o=Array.isArray(r.steps)?r.steps:[];let i;if(r.strategy&&"object"==typeof r.strategy&&null!==r.strategy&&!Array.isArray(r.strategy)){const e=r.strategy,t="object"!=typeof e.matrix||null===e.matrix||Array.isArray(e.matrix)?void 0:e.matrix,n="boolean"==typeof e["fail-fast"]?e["fail-fast"]:void 0,o="number"==typeof e["max-parallel"]?e["max-parallel"]:void 0;(t||void 0!==n||void 0!==o)&&(i={matrix:t,"fail-fast":n,"max-parallel":o})}s.jobs[e]={...r,name:"string"==typeof r.name?r.name:void 0,"runs-on":"string"==typeof r["runs-on"]||Array.isArray(r["runs-on"])?r["runs-on"]:"ubuntu-latest",needs:r.needs,permissions:"object"!=typeof r.permissions||null===r.permissions||Array.isArray(r.permissions)?void 0:r.permissions,env:"object"!=typeof r.env||null===r.env||Array.isArray(r.env)?void 0:r.env,strategy:i,steps:o.map((e,t)=>Ef(e,0,t))}}return{workflow:s,errors:t}}function Ef(e,t,n){if(null==e||"object"!=typeof e||Array.isArray(e))return{name:`Step ${n+1}`,run:""};const r=e;return{id:"string"==typeof r.id?r.id:void 0,name:"string"==typeof r.name?r.name:void 0,uses:"string"==typeof r.uses?r.uses:void 0,run:"string"==typeof r.run?r.run:void 0,with:"object"!=typeof r.with||null===r.with||Array.isArray(r.with)?void 0:r.with,env:"object"!=typeof r.env||null===r.env||Array.isArray(r.env)?void 0:r.env,shell:"string"==typeof r.shell?r.shell:void 0,...r}}var Nf,_f;function Cf(e){switch(e){case Nf.String:return"StringToken";case Nf.Sequence:return"SequenceToken";case Nf.Mapping:return"MappingToken";case Nf.BasicExpression:return"BasicExpressionToken";case Nf.InsertExpression:return"InsertExpressionToken";case Nf.Boolean:return"BooleanToken";case Nf.Number:return"NumberToken";case Nf.Null:return"NullToken";default:throw new Error(`Unhandled token type: ${e} ${e}}`)}}!function(e){e[e.String=0]="String",e[e.Sequence=1]="Sequence",e[e.Mapping=2]="Mapping",e[e.BasicExpression=3]="BasicExpression",e[e.InsertExpression=4]="InsertExpression",e[e.Boolean=5]="Boolean",e[e.Number=6]="Number",e[e.Null=7]="Null"}(Nf=Nf||(Nf={}));class jf{constructor(e,t){this.index=-1,this.isKey=!1,this.parent=e,this._token=t,this.current=t}moveNext(e){switch(this._token.templateTokenType){case Nf.Sequence:{const e=this._token;return++this.index<e.count?(this.current=e.get(this.index),!0):(this.current=void 0,!1)}case Nf.Mapping:{const t=this._token;return this.isKey?(this.isKey=!1,this.currentKey=this.current,this.current=t.get(this.index).value,!0):++this.index<t.count?e?(this.isKey=!1,this.currentKey=t.get(this.index).key,this.current=t.get(this.index).value,!0):(this.isKey=!0,this.currentKey=void 0,this.current=t.get(this.index).key,!0):(this.currentKey=void 0,this.current=void 0,!1)}default:throw new Error(`Unexpected token type '${this._token.templateTokenType}' when traversing state`)}}getAncestors(){const e=[];let t=this.parent;for(;t;)t.current&&e.unshift(t.current),t=t.parent;return e}}class Of extends Error{constructor(e,t){super(e),this.token=t}}class Tf{constructor(e,t,n,r){this.type=e,this.file=t,this.range=n,this.definitionInfo=r}get templateTokenType(){return this.type}get line(){return this.range?.start.line}get col(){return this.range?.start.column}get definition(){return this.definitionInfo?.definition}get description(){return this._description||this.propertyDefinition?.description||this.definition?.description}set description(e){this._description=e}typeName(){return Cf(this.type)}assertNull(e){if(this.type===Nf.Null)return this;throw new Of(`Unexpected type '${this.typeName()}' encountered while reading '${e}'. The type '${Cf(Nf.Null)}' was expected.`,this)}assertBoolean(e){if(this.type===Nf.Boolean)return this;throw new Of(`Unexpected type '${this.typeName()}' encountered while reading '${e}'. The type '${Cf(Nf.Boolean)}' was expected.`,this)}assertNumber(e){if(this.type===Nf.Number)return this;throw new Of(`Unexpected type '${this.typeName()}' encountered while reading '${e}'. The type '${Cf(Nf.Number)}' was expected.`,this)}assertString(e){if(this.type===Nf.String)return this;throw new Of(`Unexpected type '${this.typeName()}' encountered while reading '${e}'. The type '${Cf(Nf.String)}' was expected.`,this)}assertScalar(e){if(!0===this?.isScalar)return this;throw new Of(`Unexpected type '${this.typeName()}' encountered while reading '${e}'. The type 'ScalarToken' was expected.`,this)}assertSequence(e){if(this.type===Nf.Sequence)return this;throw new Of(`Unexpected type '${this.typeName()}' encountered while reading '${e}'. The type '${Cf(Nf.Sequence)}' was expected.`,this)}assertMapping(e){if(this.type===Nf.Mapping)return this;throw new Of(`Unexpected type '${this.typeName()}' encountered while reading '${e}'. The type '${Cf(Nf.Mapping)}' was expected.`,this)}static*traverse(e,t){switch(yield[void 0,e,void 0,[]],e.templateTokenType){case Nf.Sequence:case Nf.Mapping:{let n=new jf(void 0,e);for(n=new jf(n,e);n.parent;)if(n.moveNext(t??!1))switch(e=n.current,yield[n.parent?.current,e,n.currentKey,n.getAncestors()],e.type){case Nf.Sequence:case Nf.Mapping:n=new jf(n,e)}else n=n.parent;break}}}toJSON(){}}class Mf{constructor(e,t,n,r){this.rawMessage=e,this.prefix=t,this.code=n,this.range=r}get message(){return this.prefix?`${this.prefix}: ${this.rawMessage}`:this.rawMessage}toString(){return this.message}}class Af{constructor(e,t,n){this._fileIds={},this._fileNames=[],this.expressionFunctions=[],this.expressionNamedContexts=[],this.state={},this.errors=e,this.schema=t,this.trace=n}error(e,t,n){const r=e,o=n||r?.range,s=this.getErrorPrefix(r?.file??e,r?.line,r?.col),i=t?.message??String(t),a=new Mf(i,s,void 0,o);this.errors.add(a),this.trace.error(a.message)}getFileId(e){const t=e.toUpperCase();let n=this._fileIds[t];return void 0===n&&(n=this._fileNames.length+1,this._fileIds[t]=n,this._fileNames.push(e)),n}getFileName(e){return this._fileNames.length>=e?this._fileNames[e-1]:void 0}getFileTable(){return this._fileNames.slice()}getErrorPrefix(e,t,n){const r=void 0!==e?this.getFileName(e):void 0;return r?void 0!==t&&void 0!==n?`${r} (Line: ${t}, Col: ${n})`:r:void 0!==t&&void 0!==n?`(Line: ${t}, Col: ${n})`:""}}class If{constructor(e,t){this._errors=[],this._maxErrors=e??0,this._maxMessageLength=t??0}get count(){return this._errors.length}add(e){for(let t of Array.isArray(e)?e:[e])(this._maxErrors<=0||this._errors.length<this._maxErrors)&&(this._maxMessageLength>0&&t.message.length>this._maxMessageLength&&(t=new Mf(t.message.substring(0,this._maxMessageLength)+"[...]",t.prefix,t.code,t.range)),this._errors.push(t))}check(e){if(!(this._errors.length<=0))throw e||(e="The template is not valid."),new Error(`${e} ${this._errors.map(e=>e.message).join(",")}`)}clear(){this._errors=[]}getErrors(){return this._errors.slice()}}class Pf{constructor(e,t){this.isDefinitionInfo=!0;const n=!0===e?.isDefinitionInfo?e:void 0;if(this._schema=void 0===n?e:n._schema,this.definition="string"==typeof t?this._schema.getDefinition(t):t,this.definition.readerContext.length>0){this.allowedContext=[];const e={};for(const t of n?.allowedContext??[])this.allowedContext.push(t),e[t.toUpperCase()]=!0;for(const t of this.definition.readerContext){const n=t.toUpperCase();e[n]||(this.allowedContext.push(t),e[n]=!0)}}else this.allowedContext=n?.allowedContext??[]}getScalarDefinitions(){return this._schema.getScalarDefinitions(this.definition)}getDefinitionsOfType(e){return this._schema.getDefinitionsOfType(this.definition,e)}}!function(e){e[e.Null=0]="Null",e[e.Boolean=1]="Boolean",e[e.Number=2]="Number",e[e.String=3]="String",e[e.Sequence=4]="Sequence",e[e.Mapping=5]="Mapping",e[e.OneOf=6]="OneOf",e[e.AllowedValues=7]="AllowedValues"}(_f=_f||(_f={}));const Lf="allowed-values",Df="any",$f="boolean",Rf="boolean-definition",zf="boolean-definition-properties",qf="constant",Bf="context",Ff="definition",Vf="definitions",Uf="description",Hf="ignore-case",Kf="insert",Wf="is-expression",Xf="item-type",Yf="loose-key-type",Gf="loose-value-type",Zf="mapping",Qf="mapping-definition",Jf="mapping-definition-properties",ep="mapping-property-value",tp="non-empty-string",np="null",rp="null-definition",op="null-definition-properties",sp="number",ip="number-definition",ap="number-definition-properties",lp="one-of",cp="one-of-definition",up="${{",dp="property-value",fp="properties",pp="required",hp="require-non-empty",mp="sequence",gp="sequence-definition",yp="sequence-definition-properties",vp="type",bp="sequence-of-non-empty-string",wp="string",xp="string-definition",kp="string-definition-properties",Sp="template-schema",Ep="version";class Np extends Tf{constructor(e,t,n,r){super(e,t,n,r)}get isScalar(){return!0}static trimDisplayString(e){let t=e.trimStart();const n=t.indexOf("\n"),r=t.indexOf("\r");return(n>=0||r>=0)&&(t=t.substr(0,Math.min(n>=0?n:Number.MAX_VALUE,r>=0?r:Number.MAX_VALUE))),t}}class _p extends Np{constructor(e,t,n,r){super(e,t,n,r)}get isLiteral(){return!0}get isExpression(){return!1}toDisplayString(){return Np.trimDisplayString(this.toString())}assertUnexpectedValue(e){throw new Error(`Error while reading '${e}'. Unexpected value '${this.toString()}'`)}}class Cp extends _p{constructor(e,t,n,r,o,s){super(Nf.String,e,t,r),this.value=n,this.source=o,this.blockScalarHeader=s}clone(e){return e?new Cp(void 0,void 0,this.value,this.definitionInfo,this.source,this.blockScalarHeader):new Cp(this.file,this.range,this.value,this.definitionInfo,this.source,this.blockScalarHeader)}toString(){return this.value}toJSON(){return this.value}}class jp extends _p{constructor(e,t,n,r){super(Nf.Number,e,t,r),this.num=n}get value(){return this.num}clone(e){return e?new jp(void 0,void 0,this.num,this.definitionInfo):new jp(this.file,this.range,this.num,this.definitionInfo)}toString(){return`${this.num}`}toJSON(){return this.num}}class Op extends _p{constructor(e,t,n,r){super(Nf.Boolean,e,t,r),this.bool=n}get value(){return this.bool}clone(e){return e?new Op(void 0,void 0,this.bool,this.definitionInfo):new Op(this.file,this.range,this.bool,this.definitionInfo)}toString(){return this.bool?"true":"false"}toJSON(){return this.bool}}class Tp extends _p{constructor(e,t,n){super(Nf.Null,e,t,n)}clone(e){return e?new Tp(void 0,void 0,this.definitionInfo):new Tp(this.file,this.range,this.definitionInfo)}toString(){return""}toJSON(){return null}}class Mp{constructor(e,t){this.key=e,this.value=t}}class Ap extends Tf{constructor(e,t,n){super(Nf.Sequence,e,t,n),this.seq=[]}get count(){return this.seq.length}get isScalar(){return!1}get isLiteral(){return!1}get isExpression(){return!1}add(e){this.seq.push(e)}get(e){return this.seq[e]}clone(e){const t=e?new Ap(void 0,void 0,this.definitionInfo):new Ap(this.file,this.range,this.definitionInfo);for(const n of this.seq)t.add(n.clone(e));return t}toJSON(){return{type:Nf.Sequence,seq:this.seq}}*[Symbol.iterator](){for(const e of this.seq)yield e}}class Ip extends Tf{constructor(e,t,n){super(Nf.Mapping,e,t,n),this.map=[]}get count(){return this.map.length}get isScalar(){return!1}get isLiteral(){return!1}get isExpression(){return!1}add(e,t){this.map.push(new Mp(e,t))}get(e){return this.map[e]}find(e){const t=this.map.find(t=>t.key.toString()===e);return t?.value}remove(e){this.map.splice(e,1)}clone(e){const t=e?new Ip(void 0,void 0,this.definitionInfo):new Ip(this.file,this.range,this.definitionInfo);for(const n of this.map)t.add(n.key.clone(e),n.value.clone(e));return t}toJSON(){const e=[];for(const t of this.map)e.push({Key:t.key,Value:t.value});return{type:Nf.Mapping,map:e}}*[Symbol.iterator](){for(const e of this.map)yield e}}class Pp{}class Lp extends Pp{constructor(e,t){super(),this.literal=e,this.token=t}accept(e){return e.visitLiteral(this)}}class Dp extends Pp{constructor(e,t){super(),this.operator=e,this.expr=t}accept(e){return e.visitUnary(this)}}class $p extends Pp{constructor(e,t){super(),this.functionName=e,this.args=t}accept(e){return e.visitFunctionCall(this)}}class Rp extends Pp{constructor(e,t,n){super(),this.left=e,this.operator=t,this.right=n}accept(e){return e.visitBinary(this)}}class zp extends Pp{constructor(e,t){super(),this.operator=e,this.args=t}accept(e){return e.visitLogical(this)}}class qp extends Pp{constructor(e){super(),this.group=e}accept(e){return e.visitGrouping(this)}}class Bp extends Pp{constructor(e){super(),this.name=e}accept(e){return e.visitContextAccess(this)}}class Fp extends Pp{constructor(e,t){super(),this.expr=e,this.index=t}accept(e){return e.visitIndexAccess(this)}}class Vp extends Pp{accept(){throw new Error("Method not implemented.")}}var Up,Hp;function Kp(e){switch(e){case Up.Array:return"Array";case Up.Boolean:return"Boolean";case Up.Null:return"Null";case Up.Number:return"Number";case Up.Dictionary:return"Object";case Up.String:return"String"}return"unknown"}!function(e){e[e.String=0]="String",e[e.Array=1]="Array",e[e.Dictionary=2]="Dictionary",e[e.Boolean=3]="Boolean",e[e.Number=4]="Number",e[e.CaseSensitiveDictionary=5]="CaseSensitiveDictionary",e[e.Null=6]="Null"}(Up||(Up={}));class Wp{constructor(...e){this.keys=[],this.v=[],this.indexMap={},this.kind=Up.Dictionary,this.primitive=!1;for(const t of e)this.add(t.key,t.value)}coerceString(){return Kp(this.kind)}number(){return NaN}add(e,t){e.toLowerCase()in this.indexMap||(this.keys.push(e),this.v.push(t),this.indexMap[e.toLowerCase()]=this.v.length-1)}get(e){const t=this.indexMap[e.toLowerCase()];if(void 0!==t)return this.v[t]}values(){return this.v}pairs(){const e=[];for(const t of this.keys)e.push({key:t,value:this.v[this.indexMap[t.toLowerCase()]]});return e}}class Xp{constructor(...e){this.v=[],this.kind=Up.Array,this.primitive=!1;for(const t of e)this.add(t)}coerceString(){return Kp(this.kind)}number(){return NaN}add(e){this.v.push(e)}get(e){return this.v[e]}values(){return this.v}}class Yp{constructor(e){this.value=e,this.kind=Up.Boolean,this.primitive=!0}coerceString(){return this.value?"true":"false"}number(){return this.value?1:0}}class Gp{constructor(){this.kind=Up.Null,this.primitive=!0}coerceString(){return""}number(){return 0}}class Zp{constructor(e){this.value=e,this.kind=Up.Number,this.primitive=!0}coerceString(){return 0===this.value?"0":(+this.value.toFixed(15)).toString()}number(){return this.value}}class Qp{constructor(e){this.value=e,this.kind=Up.String,this.primitive=!0}coerceString(){return this.value}number(){return Number(this.value)}}function Jp(e,t){if(t instanceof Gp)return null;if(t instanceof Yp)return t.value;if(t instanceof Zp)return t.number();if(t instanceof Qp)return t.coerceString();if(t instanceof Xp)return t.values();if(t instanceof Wp){const e=t.pairs(),n={};for(const t of e)n[t.key]=t.value;return n}return t}function eh(e,t){return null===t?new Gp:"string"==typeof t?new Qp(t):"number"==typeof t?new Zp(t):"boolean"==typeof t?new Yp(t):Array.isArray(t)?new Xp(...t):"object"==typeof t?new Wp(...Object.keys(t).map(e=>({key:e,value:t[e]}))):t}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LEFT_PAREN=1]="LEFT_PAREN",e[e.RIGHT_PAREN=2]="RIGHT_PAREN",e[e.LEFT_BRACKET=3]="LEFT_BRACKET",e[e.RIGHT_BRACKET=4]="RIGHT_BRACKET",e[e.COMMA=5]="COMMA",e[e.DOT=6]="DOT",e[e.BANG=7]="BANG",e[e.BANG_EQUAL=8]="BANG_EQUAL",e[e.EQUAL_EQUAL=9]="EQUAL_EQUAL",e[e.GREATER=10]="GREATER",e[e.GREATER_EQUAL=11]="GREATER_EQUAL",e[e.LESS=12]="LESS",e[e.LESS_EQUAL=13]="LESS_EQUAL",e[e.AND=14]="AND",e[e.OR=15]="OR",e[e.STAR=16]="STAR",e[e.NUMBER=17]="NUMBER",e[e.STRING=18]="STRING",e[e.IDENTIFIER=19]="IDENTIFIER",e[e.TRUE=20]="TRUE",e[e.FALSE=21]="FALSE",e[e.NULL=22]="NULL",e[e.EOF=23]="EOF"}(Hp||(Hp={}));class th{constructor(e){this.input=e,this.start=0,this.offset=0,this.line=0,this.lastLineOffset=0,this.tokens=[]}lex(){if(this.input.length>oh)throw new Error("ErrorExceededMaxLength");for(;!this.atEnd();){this.start=this.offset;const e=this.next();switch(e){case"(":this.addToken(Hp.LEFT_PAREN);break;case")":this.addToken(Hp.RIGHT_PAREN);break;case"[":this.addToken(Hp.LEFT_BRACKET);break;case"]":this.addToken(Hp.RIGHT_BRACKET);break;case",":this.addToken(Hp.COMMA);break;case".":this.previous()!=Hp.IDENTIFIER&&this.previous()!=Hp.RIGHT_BRACKET&&this.previous()!=Hp.RIGHT_PAREN&&this.previous()!=Hp.STAR?this.consumeNumber():this.addToken(Hp.DOT);break;case"-":case"+":this.consumeNumber();break;case"!":this.addToken(this.match("=")?Hp.BANG_EQUAL:Hp.BANG);break;case"=":if(!this.match("=")){this.consumeIdentifier();break}this.addToken(Hp.EQUAL_EQUAL);break;case"<":this.addToken(this.match("=")?Hp.LESS_EQUAL:Hp.LESS);break;case">":this.addToken(this.match("=")?Hp.GREATER_EQUAL:Hp.GREATER);break;case"&":if(!this.match("&")){this.consumeIdentifier();break}this.addToken(Hp.AND);break;case"|":if(!this.match("|")){this.consumeIdentifier();break}this.addToken(Hp.OR);break;case"*":this.addToken(Hp.STAR);break;case" ":case"\r":case"\t":break;case"\n":++this.line,this.lastLineOffset=this.offset;break;case"'":this.consumeString();break;default:!0===nh(e)?this.consumeNumber():this.consumeIdentifier()}}return this.tokens.push({type:Hp.EOF,lexeme:"",range:this.range()}),{tokens:this.tokens}}pos(){return{line:this.line,column:this.start-this.lastLineOffset}}endPos(){return{line:this.line,column:this.offset-this.lastLineOffset}}range(){return{start:this.pos(),end:this.endPos()}}atEnd(){return this.offset>=this.input.length}peek(){return this.atEnd()?"\0":this.input[this.offset]}peekNext(){return this.offset+1>=this.input.length?"\0":this.input[this.offset+1]}previous(){const e=this.tokens.length;return 0==e?Hp.EOF:this.tokens[e-1].type}next(){return this.input[this.offset++]}match(e){return!this.atEnd()&&this.input[this.offset]===e&&(this.offset++,!0)}addToken(e,t){this.tokens.push({type:e,lexeme:this.input.substring(this.start,this.offset),range:this.range(),value:t})}consumeNumber(){for(;!(this.atEnd()||rh(this.peek())&&"."!=this.peek());)this.next();const e=this.input.substring(this.start,this.offset),t=new Qp(e).number();if(isNaN(t))throw new Error(`Unexpected symbol: '${e}'. Located at position ${this.start+1} within expression: ${this.input}`);this.addToken(Hp.NUMBER,t)}consumeString(){for(;("'"!==this.peek()||"'"===this.peekNext())&&!this.atEnd();)"\n"===this.peek()&&this.line++,"'"===this.peek()&&"'"===this.peekNext()&&this.next(),this.next();if(this.atEnd())throw new Error(`Unexpected symbol: '${this.input.substring(this.start)}'. Located at position ${this.start+1} within expression: ${this.input}`);this.next();let e=this.input.substring(this.start+1,this.offset-1);e=e.replace("''","'"),this.addToken(Hp.STRING,e)}consumeIdentifier(){for(;!this.atEnd()&&!rh(this.peek());)this.next();let e,t=Hp.IDENTIFIER;const n=this.input.substring(this.start,this.offset);if(this.previous()!=Hp.DOT)switch(n){case"true":t=Hp.TRUE;break;case"false":t=Hp.FALSE;break;case"null":t=Hp.NULL;break;case"NaN":t=Hp.NUMBER,e=NaN;break;case"Infinity":t=Hp.NUMBER,e=1/0}if(!function(e){if(""==e)return!1;const t=e[0];if(t>="a"&&t<="z"||t>="A"&&t<="Z"||"_"==t){for(const t of e.substring(1).split(""))if(!(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"_"==t||"-"==t))return!1;return!0}return!1}(n))throw new Error(`Unexpected symbol: '${n}'. Located at position ${this.start+1} within expression: ${this.input}`);this.addToken(t,e)}}function nh(e){return e>="0"&&e<="9"}function rh(e){switch(e){case"(":case"[":case")":case"]":case",":case".":case"!":case">":case"<":case"=":case"&":case"|":return!0}return/\s/.test(e)}const oh=21e3;var sh;!function(e){e[e.ErrorUnexpectedSymbol=0]="ErrorUnexpectedSymbol",e[e.ErrorUnrecognizedNamedValue=1]="ErrorUnrecognizedNamedValue",e[e.ErrorUnexpectedEndOfExpression=2]="ErrorUnexpectedEndOfExpression",e[e.ErrorExceededMaxDepth=3]="ErrorExceededMaxDepth",e[e.ErrorExceededMaxLength=4]="ErrorExceededMaxLength",e[e.ErrorTooFewParameters=5]="ErrorTooFewParameters",e[e.ErrorTooManyParameters=6]="ErrorTooManyParameters",e[e.ErrorEvenParameters=7]="ErrorEvenParameters",e[e.ErrorUnrecognizedContext=8]="ErrorUnrecognizedContext",e[e.ErrorUnrecognizedFunction=9]="ErrorUnrecognizedFunction"}(sh||(sh={}));class ih extends Error{constructor(e,t){super(`${function(e){switch(e){case sh.ErrorUnexpectedEndOfExpression:return"Unexpected end of expression";case sh.ErrorUnexpectedSymbol:return"Unexpected symbol";case sh.ErrorUnrecognizedNamedValue:return"Unrecognized named-value";case sh.ErrorExceededMaxDepth:return"Exceeded max expression depth 50";case sh.ErrorExceededMaxLength:return`Exceeded max expression length ${oh}`;case sh.ErrorTooFewParameters:return"Too few parameters supplied";case sh.ErrorTooManyParameters:return"Too many parameters supplied";case sh.ErrorEvenParameters:return"Even number of parameters supplied, requires an odd number of parameters";case sh.ErrorUnrecognizedContext:return"Unrecognized named-value";case sh.ErrorUnrecognizedFunction:return"Unrecognized function";default:return"Unknown error"}}(e)}: '${function(e){switch(e.type){case Hp.EOF:return"EOF";case Hp.NUMBER:return e.lexeme;case Hp.STRING:return e.value.toString();default:return e.lexeme}}(t)}'`),this.typ=e,this.tok=t,this.pos=this.tok.range.start}}class ah extends Error{}function lh(e,t){let n=e,r=t;if(e.kind===t.kind)return[n,r];switch(e.kind){case Up.Number:if(t.kind===Up.String)return r=new Zp(t.number()),[n,r];break;case Up.String:if(t.kind===Up.Number)return n=new Zp(e.number()),[n,r];break;case Up.Null:case Up.Boolean:return n=new Zp(e.number()),lh(n,r)}switch(t.kind){case Up.Null:case Up.Boolean:return r=new Zp(t.number()),lh(n,r)}return[n,r]}function ch(e,t){const[n,r]=lh(e,t);if(n.kind!=r.kind)return!1;switch(n.kind){case Up.Null:return!0;case Up.Number:{const e=n.value,t=r.value;return!isNaN(e)&&!isNaN(t)&&e==t}case Up.String:{const e=n.value,t=r.value;return uh(e)===uh(t)}case Up.Boolean:return n.value==r.value;case Up.Dictionary:case Up.Array:return n===r}return!1}function uh(e){const t=[];let n=0;const r=e.length;let o=e.indexOf("");for(;n<r;)if(n<o)t.push(e.substring(n,o).toUpperCase()),n=o;else{if(n!=o){t.push(e.substring(n).toUpperCase());break}t.push(e.substring(n,n+1)),n+=1,o=e.indexOf("",n)}return t.join("")}const dh={name:"format",description:"`format( string, replaceValue0, replaceValue1, ..., replaceValueN)`\n\nReplaces values in the `string`, with the variable `replaceValueN`. Variables in the `string` are specified using the `{N}` syntax, where `N` is an integer. You must specify at least one `replaceValue` and `string`. There is no maximum for the number of variables (`replaceValueN`) you can use. Escape curly braces using double braces.",minArgs:1,maxArgs:255,call:(...e)=>{const t=e[0].coerceString(),n=[];let r=0;for(;r<t.length;){const o=t.indexOf("{",r),s=t.indexOf("}",r);if(o>=0&&(s<0||s>o)){if("{"===fh(t,o+1)){n.push(t.substr(r,o-r+1)),r=o+2;continue}if(s>o+1){const i=ph(t,o+1);if(i.success){if(1+i.result>e.length-1)throw new Error(`The following format string references more arguments than were supplied: ${t}`);o>r&&n.push(t.substr(r,o-r)),n.push(`${e[1+i.result].coerceString()}`),r=s+1;continue}}throw new Error(`The following format string is invalid: ${t}`)}if(!(s>=0)){n.push(t.substr(r));break}if("}"!==fh(t,s+1))throw new Error(`The following format string is invalid: ${t}`);n.push(t.substr(r,s-r+1)),r=s+2}return new Qp(n.join(""))}};function fh(e,t){return e.length>t?e[t]:"\0"}function ph(e,t){let n=0;for(;;){const r=fh(e,t+n);if(!(r>="0"&&r<="9"))break;n++}if(n<1)return{success:!1};const r=t+n-1,o=parseInt(e.substr(t,n));return{success:!isNaN(o),result:o,endIndex:r}}const hh={case:{name:"case",description:"`case( pred1, val1, pred2, val2, ..., default )`\n\nEvaluates predicates in order and returns the value corresponding to the first predicate that evaluates to `true`. If no predicate matches, it returns the last argument as the default value.",minArgs:3,maxArgs:Number.MAX_SAFE_INTEGER,call:(...e)=>{for(let t=0;t<e.length-1;t+=2){const n=e[t];if(n.kind!==Up.Boolean)throw new Error("case predicate must evaluate to a boolean value");if(n.value)return e[t+1]}return e[e.length-1]}},contains:{name:"contains",description:"`contains( search, item )`\n\nReturns `true` if `search` contains `item`. If `search` is an array, this function returns `true` if the `item` is an element in the array. If `search` is a string, this function returns `true` if the `item` is a substring of `search`. This function is not case sensitive. Casts values to a string.",minArgs:2,maxArgs:2,call:(...e)=>{const t=e[0],n=e[1];if(t.primitive){const e=t.coerceString();if(n.primitive){const t=n.coerceString();return new Yp(e.toLowerCase().includes(t.toLowerCase()))}}else if(t.kind===Up.Array){const e=t;if(0===e.values().length)return new Yp(!1);for(const t of e.values())if(ch(n,t))return new Yp(!0)}return new Yp(!1)}},endswith:{name:"endsWith",description:"`endsWith( searchString, searchValue )`\n\nReturns `true` if `searchString` ends with `searchValue`. This function is not case sensitive. Casts values to a string.",minArgs:2,maxArgs:2,call:(...e)=>{const t=e[0];if(!t.primitive)return new Yp(!1);const n=e[1];if(!n.primitive)return new Yp(!1);const r=uh(t.coerceString()),o=uh(n.coerceString());return new Yp(r.endsWith(o))}},format:dh,fromjson:{name:"fromJson",description:"`fromJSON(value)`\n\nReturns a JSON object or JSON data type for `value`. You can use this function to provide a JSON object as an evaluated expression or to convert environment variables from a string.",minArgs:1,maxArgs:1,call:(...e)=>{const t=e[0].coerceString();if(""===t.trim())throw new Error("empty input");try{return JSON.parse(t,eh)}catch(e){throw new ah("Error parsing JSON when evaluating fromJson",{cause:e})}}},join:{name:"join",description:"`join( array, optionalSeparator )`\n\nThe value for `array` can be an array or a string. All values in `array` are concatenated into a string. If you provide `optionalSeparator`, it is inserted between the concatenated values. Otherwise, the default separator `,` is used. Casts values to a string.",minArgs:1,maxArgs:2,call:(...e)=>{if(e[0].primitive)return new Qp(e[0].coerceString());if(e[0].kind===Up.Array){let t=",";return e.length>1&&e[1].primitive&&(t=e[1].coerceString()),new Qp(e[0].values().map(e=>e.coerceString()).join(t))}return new Qp("")}},startswith:{name:"startsWith",description:"`startsWith( searchString, searchValue )`\n\nReturns `true` when `searchString` starts with `searchValue`. This function is not case sensitive. Casts values to a string.",minArgs:2,maxArgs:2,call:(...e)=>{const t=e[0];if(!t.primitive)return new Yp(!1);const n=e[1];if(!n.primitive)return new Yp(!1);const r=uh(t.coerceString()),o=uh(n.coerceString());return new Yp(r.startsWith(o))}},tojson:{name:"toJson",description:"`toJSON(value)`\n\nReturns a pretty-print JSON representation of `value`. You can use this function to debug the information provided in contexts.",minArgs:1,maxArgs:1,call:(...e)=>new Qp(JSON.stringify(e[0],Jp,"  "))}};class mh{constructor(e,t,n){this.tokens=e,this.offset=0,this.depth=0,this.extContexts=new Map,this.extFuncs=new Map;for(const e of t)this.extContexts.set(e.toLowerCase(),!0);for(const{name:e,func:t}of n.map(e=>({name:e.name,func:e})))this.extFuncs.set(e.toLowerCase(),t);this.context={allowUnknownKeywords:!1,extensionContexts:this.extContexts,extensionFunctions:this.extFuncs}}parse(){let e;if(this.atEnd())return e;if(e=this.expression(),!this.atEnd())throw this.buildError(sh.ErrorUnexpectedSymbol,this.peek());return e}expression(){this.incrDepth();try{return this.logicalOr()}finally{this.decrDepth()}}logicalOr(){let e=this.logicalAnd();if(this.check(Hp.OR)){this.incrDepth();try{const t=new zp(this.peek(),[e]);for(e=t;this.match(Hp.OR);){const e=this.logicalAnd();t.args.push(e)}}finally{this.decrDepth()}}return e}logicalAnd(){let e=this.equality();if(this.check(Hp.AND)){this.incrDepth();try{const t=new zp(this.peek(),[e]);for(e=t;this.match(Hp.AND);){const e=this.equality();t.args.push(e)}}finally{this.decrDepth()}}return e}equality(){let e=this.comparison();for(;this.match(Hp.BANG_EQUAL,Hp.EQUAL_EQUAL);){const t=this.previous(),n=this.comparison();e=new Rp(e,t,n)}return e}comparison(){let e=this.unary();for(;this.match(Hp.GREATER,Hp.GREATER_EQUAL,Hp.LESS,Hp.LESS_EQUAL);){const t=this.previous(),n=this.unary();e=new Rp(e,t,n)}return e}unary(){if(this.match(Hp.BANG)){this.incrDepth();const e=this.previous(),t=this.unary();try{return new Dp(e,t)}finally{this.decrDepth()}}return this.index()}index(){let e=this.call(),t=0;if(e instanceof qp||e instanceof $p||e instanceof Bp){let n=!0;for(;n;)switch(!0){case this.match(Hp.LEFT_BRACKET):{let n;n=this.match(Hp.STAR)?new Vp:this.expression(),this.consume(Hp.RIGHT_BRACKET,sh.ErrorUnexpectedSymbol),this.incrDepth(),t++,e=new Fp(e,n);break}case this.match(Hp.DOT):if(this.incrDepth(),t++,this.match(Hp.IDENTIFIER)){const t=this.previous();e=new Fp(e,new Lp(new Qp(t.lexeme),t))}else{if(!this.match(Hp.STAR))throw this.buildError(sh.ErrorUnexpectedSymbol,this.peek());e=new Fp(e,new Vp)}break;default:n=!1}}for(let e=0;e<t;e++)this.decrDepth();return e}call(){if(!this.check(Hp.IDENTIFIER))return this.primary();const e=this.next();if(!this.match(Hp.LEFT_PAREN)){if(!this.extContexts.has(e.lexeme.toLowerCase()))throw this.buildError(sh.ErrorUnrecognizedContext,e);return new Bp(e)}const t=[];for(;!this.match(Hp.RIGHT_PAREN);){const e=this.expression();t.push(e),this.check(Hp.RIGHT_PAREN)||this.consume(Hp.COMMA,sh.ErrorUnexpectedSymbol)}return function(e,t,n){const r=t.lexeme.toLowerCase();let o;if(o=hh[r],o||(o=e.extensionFunctions.get(r),o)){if(n<o.minArgs)throw new ih(sh.ErrorTooFewParameters,t);if(n>o.maxArgs)throw new ih(sh.ErrorTooManyParameters,t);if("case"===r&&n%2==0)throw new ih(sh.ErrorEvenParameters,t)}else if(!e.allowUnknownKeywords)throw new ih(sh.ErrorUnrecognizedFunction,t)}(this.context,e,t.length),new $p(e,t)}primary(){switch(!0){case this.match(Hp.FALSE):return new Lp(new Yp(!1),this.previous());case this.match(Hp.TRUE):return new Lp(new Yp(!0),this.previous());case this.match(Hp.NULL):return new Lp(new Gp,this.previous());case this.match(Hp.NUMBER):return new Lp(new Zp(this.previous().value),this.previous());case this.match(Hp.STRING):return new Lp(new Qp(this.previous().value),this.previous());case this.match(Hp.LEFT_PAREN):{const e=this.expression();if(this.atEnd())throw this.buildError(sh.ErrorUnexpectedEndOfExpression,this.previous());return this.consume(Hp.RIGHT_PAREN,sh.ErrorUnexpectedSymbol),new qp(e)}case this.atEnd():throw this.buildError(sh.ErrorUnexpectedEndOfExpression,this.previous())}throw this.buildError(sh.ErrorUnexpectedSymbol,this.peek())}match(...e){for(const t of e)if(this.check(t))return this.next(),!0;return!1}check(e){return!this.atEnd()&&this.peek().type==e}atEnd(){return this.peek().type==Hp.EOF}next(){return this.atEnd()||this.offset++,this.previous()}peek(){return this.tokens[this.offset]}previous(){return this.tokens[this.offset-1]}consume(e,t){if(!this.check(e))throw this.buildError(t,this.peek());this.next()}incrDepth(){if(this.depth++,this.depth>50)throw this.buildError(sh.ErrorExceededMaxDepth,this.peek())}decrDepth(){this.depth--}buildError(e,t){return new ih(e,t)}}class gh extends Np{constructor(e,t,n,r,o){super(e,t,n,o),this.directive=r}get isLiteral(){return!1}get isExpression(){return!0}static validateExpression(e,t){const{namedContexts:n,functions:r}=function(e){const t=/^([a-zA-Z0-9_]+)\(([0-9]+),([0-9]+|MAX)\)$/,n=[],r=[];if(e.length>0)for(const o of e){const e=o.match(t);if(e){const t=e[1],n=Number.parseInt(e[2]),o=e[3],s="MAX"===o?Number.MAX_SAFE_INTEGER:Number.parseInt(o);r.push({name:t,minArgs:n,maxArgs:s})}else n.push(o)}return{namedContexts:n,functions:r}}(t),o=new th(e).lex();new mh(o.tokens,n,r).parse()}}class yh extends gh{constructor(e,t,n,r,o,s,i,a){super(Nf.BasicExpression,e,t,void 0,r),this.expr=n,this.source=s,this.originalExpressions=o,this.expressionRange=i,this.blockScalarHeader=a}get expression(){return this.expr}clone(e){return e?new yh(void 0,void 0,this.expr,this.definitionInfo,this.originalExpressions,this.source,this.expressionRange,this.blockScalarHeader):new yh(this.file,this.range,this.expr,this.definitionInfo,this.originalExpressions,this.source,this.expressionRange,this.blockScalarHeader)}toString(){return`${up} ${this.expr} }}`}toDisplayString(){return Np.trimDisplayString(this.toString())}toJSON(){return{type:Nf.BasicExpression,expr:this.expr}}}class vh extends gh{constructor(e,t,n){super(Nf.InsertExpression,e,t,Kf,n)}clone(e){return e?new vh(void 0,void 0,this.definitionInfo):new vh(this.file,this.range,this.definitionInfo)}toString(){return`${up} ${Kf} }}`}toDisplayString(){return Np.trimDisplayString(this.toString())}toJSON(){return{type:Nf.InsertExpression,expr:"insert"}}}function bh(e){return function(e){return e.isLiteral}(e)&&e.templateTokenType===Nf.String}const wh=/\s/;function xh(e,t,n,r){const o=new kh(e,n,r);let s;try{n.validateStart();const r=new Pf(e.schema,t);s=o.readValue(r),n.validateEnd()}catch(t){e.error(r,t)}return s}class kh{constructor(e,t,n){this._context=e,this._schema=e.schema,this._objectReader=t,this._fileId=n}readValue(e){const t=this._objectReader.allowLiteral();if(t){let n=this.parseScalar(t,e);return n=this.validate(n,e),n}const n=this._objectReader.allowSequenceStart();if(n){const t=e.getDefinitionsOfType(_f.Sequence)[0];if(t){const r=new Pf(e,t.itemType);for(;!this._objectReader.allowSequenceEnd();){const e=this.readValue(r);n.add(e)}}else for(this._context.error(n,"A sequence was not expected");!this._objectReader.allowSequenceEnd();)this.skipValue();return n.definitionInfo=e,n}const r=this._objectReader.allowMappingStart();if(r){const t=e.getDefinitionsOfType(_f.Mapping);if(t.length>0)if(t.length>1||Object.keys(t[0].properties).length>0||!t[0].looseKeyType)this.handleMappingWithWellKnownProperties(e,t,r);else{const n=new Pf(e,t[0].looseKeyType),o=new Pf(e,t[0].looseValueType);this.handleMappingWithAllLooseProperties(e,n,o,t[0],r)}else for(this._context.error(r,"A mapping was not expected");!this._objectReader.allowMappingEnd();)this.skipValue(),this.skipValue();return r.definitionInfo||(r.definitionInfo=e),r}throw new Error("Expected a scalar value, a sequence, or a mapping")}handleMappingWithWellKnownProperties(e,t,n){let r,o,s,i;t[0].looseKeyType&&(r=t[0].looseKeyType,o=t[0].looseValueType);const a={};let l,c=!1;for(;l=this._objectReader.allowLiteral();){const u=this.parseScalar(l,e);if(u.isExpression){if(c=!0,e.allowedContext.length>0){const t=new Pf(e,Df);n.add(u,this.readValue(t))}else this._context.error(u,"A template expression is not allowed in this context"),this.skipValue();continue}const d=u.templateTokenType===Nf.String?u:new Cp(u.file,u.range,u.toString(),u.definitionInfo);if(d.value){const e=d.value.toUpperCase();if(a[e]){this._context.error(d,`'${d.value}' is already defined`),this.skipValue();continue}a[e]=!0}const f=this._schema.matchPropertyAndFilter(t,d.value);if(f){const t=new Pf(e,f.type);d.definitionInfo=t,f.description&&(d.description=f.description);const r=this.readValue(t);n.add(d,r);continue}if(r){s||(s=new Pf(e,r),i=new Pf(e,o)),this.validate(d,s);const a=new Pf(e,t[0].looseValueType);d.definitionInfo=a;const l=this.readValue(i);n.add(d,l);continue}this._context.error(d,`Unexpected value '${d.value}'`),this.skipValue()}if(1===t.length&&(n.definitionInfo=new Pf(e,t[0])),t.length>1){const e={};for(const n of t)for(const t of Object.keys(n.properties))e[t]=(e[t]??0)+1;const r=[];for(const t of Object.keys(e))1===e[t]&&r.push(t);this._context.error(n,`There's not enough info to determine what you meant. Add one of these properties: ${r.sort().join(", ")}`)}else if(1===t.length&&!c)for(const e of Object.keys(t[0].properties))t[0].properties[e].required&&!a[e.toUpperCase()]&&this._context.error(n,`Required property is missing: ${e}`);this.expectMappingEnd()}handleMappingWithAllLooseProperties(e,t,n,r,o){let s;const i={};let a;for(;a=this._objectReader.allowLiteral();){const l=this.parseScalar(a,e);if(l.definitionInfo=t,l.isExpression){e.allowedContext.length>0?(s=this.readValue(n),o.add(l,s)):(this._context.error(l,"A template expression is not allowed in this context"),this.skipValue());continue}const c=l.templateTokenType===Nf.String?l:new Cp(l.file,l.range,l.toString(),l.definitionInfo);if(c.value){const e=c.value.toUpperCase();if(i[e]){this._context.error(c,`'${c.value}' is already defined`),this.skipValue();continue}i[e]=!0}this.validate(c,t);const u=new Pf(e,r.looseValueType);c.definitionInfo=u,s=this.readValue(n),o.add(c,s)}this.expectMappingEnd()}expectMappingEnd(){if(!this._objectReader.allowMappingEnd())throw new Error("Expected mapping end")}skipValue(){if(this._objectReader.allowLiteral());else if(this._objectReader.allowSequenceStart())for(;!this._objectReader.allowSequenceEnd();)this.skipValue();else{if(!this._objectReader.allowMappingStart())throw new Error("Expected a scalar value, a sequence, or a mapping");for(;!this._objectReader.allowMappingEnd();)this.skipValue(),this.skipValue()}}validate(e,t){switch(e.templateTokenType){case Nf.Null:case Nf.Boolean:case Nf.Number:case Nf.String:{const n=e,r=t.getScalarDefinitions();let o;if(o=r.find(e=>e.isMatch(n)))return e.definitionInfo=new Pf(t,o),e;if(n.templateTokenType!==Nf.String){const e=new Cp(n.file,n.range,n.toString(),n.definitionInfo);if(o=r.find(t=>t.isMatch(e)))return e.definitionInfo=new Pf(t,o),e}return this._context.error(n,`Unexpected value '${n.toString()}'`),e}case Nf.BasicExpression:return 0===t.allowedContext.length&&this._context.error(e,"A template expression is not allowed in this context"),e;default:return this._context.error(e,`Unexpected value '${e.toString()}'`),e}}parseScalar(e,t){if(!bh(e)||!e.value)return e;const n=t.allowedContext,r=void 0===e.range||e.range.start.line===e.range.end.line,o=r?e.value:e.source??e.value;let s=o.indexOf(up);if(s<0)return e;let i=!1;const a=[];let l=0;for(;l<o.length;)if(l===s){s=l;let c=-1,u=!1;for(l+=3;l<o.length;l++)if("'"===o[l])u=!u;else if(!u&&"}"===o[l]&&"}"===o[l-1]){c=l,l++;break}if(c<s)return this._context.error(e,"The expression is not closed. An unescaped ${{ sequence was found, but the closing }} sequence was not found."),e;const d=o.substr(s+3,c-s+1-3-2);let f=e.range;if(r){const t=(e.source??o).indexOf(up)-o.indexOf(up);f={start:{line:f.start.line,column:f.start.column+s+t},end:{line:f.end.line,column:f.start.column+c+1+t}}}else{const e=o.substring(0,s),t=e.split("\n").length,n=e.lastIndexOf("\n"),r=s-n,i=c-n+1;f={start:{line:f.start.line+t,column:r},end:{line:f.start.line+t,column:i}}}const p=this.parseIntoExpressionToken(f,d,n,e,t);if(p){if(p.directive&&(0!==s||l<o.length))return this._context.error(e,`The directive '${p.directive}' is not allowed in this context. Directives are not supported for expressions that are embedded within a string. Directives are only supported when the entire value is an expression.`),e;a.push(p)}else i=!0;s=o.indexOf(up,l)}else{if(!(l<s)){this.addString(a,e.range,o.substr(l),e.definitionInfo);break}this.addString(a,e.range,o.substr(l,s-l),e.definitionInfo),l=s}if(i)return e;if(1===a.length&&a[0].templateTokenType===Nf.BasicExpression){const t=a[0],n=this.getExpressionString(t.expression);if(void 0!==n)return new Cp(this._fileId,e.range,n,e.definitionInfo)}if(1===a.length)return a[0];const c=[],u=[],d=[];let f=0;for(const e of a)if(bh(e)){const t=e.value.replace(/'/g,"''").replace(/\{/g,"{{").replace(/\}/g,"}}");c.push(t)}else{c.push(`{${f}}`),f++;const t=e;u.push(", "),u.push(t.expression),d.push(t)}return new yh(this._fileId,e.range,`format('${c.join("")}'${u.join("")})`,t,d,o,void 0,e.blockScalarHeader)}parseIntoExpressionToken(e,t,n,r,o){const s=this.parseExpression(e,r,t,n,o);if(!s.error)return s.expression;this._context.error(r,s.error,e)}parseExpression(e,t,n,r,o){const s=n.trim();if(!s)return{error:new Error("An expression was expected")};const i=this.matchDirective(s,Kf,0);if(i.isMatch)return{expression:new vh(this._fileId,e,o)};if(i.error)return{error:i.error};try{gh.validateExpression(s,r)}catch(e){return{error:e}}const a=n.length-n.trimStart().length,l=n.length-n.trimEnd().length,c={start:{...e.start,column:e.start.column+3+a},end:{...e.end,column:e.end.column-2-l}};return{expression:new yh(this._fileId,e,s,o,void 0,t.source,c,t.blockScalarHeader),error:void 0}}addString(e,t,n,r){if(e.length>0&&e[e.length-1].templateTokenType===Nf.String){const o=e[e.length-1];e[e.length-1]=new Cp(this._fileId,t,`${o.value}${n}`,r)}else e.push(new Cp(this._fileId,t,n,r))}matchDirective(e,t,n){const r=[];if(e.startsWith(t)&&(e.length===t.length||wh.test(e[t.length]))){let o=t.length,s=!1,i=0;for(let t=o;t<e.length;t++){const n=e[t];wh.test(n)&&!s&&0==i?(o<1&&r.push(e.substr(o,t-o)),o=t+1):"'"===n?s=!s:"("!==n||s?")"!==n||s||i--:i++}return o<e.length&&r.push(e.substr(o)),n!=r.length?{isMatch:!1,parameters:[],error:new Error(`Exactly ${n} parameter(s) were expected following the directive '${t}'. Actual parameter count: ${r.length}`)}:{isMatch:!0,parameters:r}}return{isMatch:!1,parameters:r}}getExpressionString(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){const o=e[r];if("'"===o)n=!n,n&&0!==r&&t.push(o);else{if(!n)return;t.push(o)}}return t.join("")}}class Sh{constructor(e,t){this.type=e,this.token=t}}var Eh;!function(e){e[e.Literal=0]="Literal",e[e.SequenceStart=1]="SequenceStart",e[e.SequenceEnd=2]="SequenceEnd",e[e.MappingStart=3]="MappingStart",e[e.MappingEnd=4]="MappingEnd",e[e.DocumentStart=5]="DocumentStart",e[e.DocumentEnd=6]="DocumentEnd"}(Eh=Eh||(Eh={}));class Nh{constructor(e,t){this._fileId=e;const n=JSON.parse(t);this._generator=this.getParseEvents(n,!0),this._current=this._generator.next()}allowLiteral(){if(!this._current.done){const e=this._current.value;if(e.type===Eh.Literal)return this._current=this._generator.next(),e.token}}allowSequenceStart(){if(!this._current.done){const e=this._current.value;if(e.type===Eh.SequenceStart)return this._current=this._generator.next(),e.token}}allowSequenceEnd(){return!this._current.done&&this._current.value.type===Eh.SequenceEnd&&(this._current=this._generator.next(),!0)}allowMappingStart(){if(!this._current.done){const e=this._current.value;if(e.type===Eh.MappingStart)return this._current=this._generator.next(),e.token}}allowMappingEnd(){return!this._current.done&&this._current.value.type===Eh.MappingEnd&&(this._current=this._generator.next(),!0)}validateEnd(){if(this._current.done||this._current.value.type!==Eh.DocumentEnd)throw new Error("Expected end of reader");this._current=this._generator.next()}validateStart(){if(this._current.done||this._current.value.type!==Eh.DocumentStart)throw new Error("Expected start of reader");this._current=this._generator.next()}*getParseEvents(e,t){switch(t&&(yield new Sh(Eh.DocumentStart,void 0)),typeof e){case"undefined":yield new Sh(Eh.Literal,new Tp(this._fileId,void 0,void 0));break;case"boolean":yield new Sh(Eh.Literal,new Op(this._fileId,void 0,e,void 0));break;case"number":yield new Sh(Eh.Literal,new jp(this._fileId,void 0,e,void 0));break;case"string":yield new Sh(Eh.Literal,new Cp(this._fileId,void 0,e,void 0));break;case"object":if(null===e)yield new Sh(Eh.Literal,new Tp(this._fileId,void 0,void 0));else if(Array.isArray(e)){yield new Sh(Eh.SequenceStart,new Ap(this._fileId,void 0,void 0));for(const t of e)for(const e of this.getParseEvents(t))yield e;yield new Sh(Eh.SequenceEnd,void 0)}else{yield new Sh(Eh.MappingStart,new Ip(this._fileId,void 0,void 0));for(const t of Object.keys(e)){yield new Sh(Eh.Literal,new Cp(this._fileId,void 0,t,void 0));for(const n of this.getParseEvents(e[t]))yield n}yield new Sh(Eh.MappingEnd,void 0)}break;default:throw new Error(`Unexpected value type '${typeof e}' when reading object`)}t&&(yield new Sh(Eh.DocumentEnd,void 0))}}class _h{error(){}info(){}verbose(){}}class Ch{constructor(e,t){if(this.readerContext=[],this.evaluatorContext=[],this.key=e,t)for(let e=0;e<t.count;)switch(t.get(e).key.assertString(`${Ff} key`).value){case Bf:{const n=t.get(e).value.assertSequence(`${Ff} ${Bf}`);t.remove(e);const r={},o={};for(const e of n){const t=e.assertString(`${Bf} item`).value,n=t.toUpperCase();if(r[n])throw new Error(`Duplicate context item '${t}'`);r[n]=!0,this.readerContext.push(t);const s=t.indexOf("("),i=s>0?t.substr(0,s+1)+")":t,a=i.toUpperCase();if(o[a])throw new Error(`Duplicate context item '${i}'`);o[a]=!0,this.evaluatorContext.push(i)}break}case Uf:{const n=t.get(e).value;this.description=n.assertString(Uf).value,t.remove(e);break}default:e++}}}class jh extends Ch{constructor(e,t){super(e,t)}}class Oh extends jh{constructor(e,t){if(super(e,t),t)for(const e of t){const t=e.key.assertString(`${Ff} key`);switch(t.value){case $f:{const t=e.value.assertMapping(`${Ff} ${$f}`);for(const e of t){const t=e.key.assertString(`${Ff} ${$f} key`);t.value,t.assertUnexpectedValue(`${Ff} ${$f} key`)}break}default:t.assertUnexpectedValue(`${Ff} key`)}}}get definitionType(){return _f.Boolean}isMatch(e){return e.templateTokenType===Nf.Boolean}validate(){}}class Th{constructor(e){if(this.type="",this.required=!1,e.templateTokenType===Nf.String)this.type=e.value;else{const t=e.assertMapping(ep);for(const e of t){const t=e.key.assertString(`${ep} key`);switch(t.value){case vp:this.type=e.value.assertString(`${ep} ${vp}`).value;break;case pp:this.required=e.value.assertBoolean(`${ep} ${pp}`).value;break;case Uf:this.description=e.value.assertString(`${ep} ${Uf}`).value;break;default:t.assertUnexpectedValue(`${ep} key`)}}}}}class Mh extends Ch{constructor(e,t){if(super(e,t),this.properties={},this.looseKeyType="",this.looseValueType="",t)for(const e of t){const t=e.key.assertString(`${Ff} key`);switch(t.value){case Zf:{const t=e.value.assertMapping(`${Ff} ${Zf}`);for(const e of t){const t=e.key.assertString(`${Ff} ${Zf} key`);switch(t.value){case fp:{const t=e.value.assertMapping(`${Ff} ${Zf} ${fp}`);for(const e of t){const t=e.key.assertString(`${Ff} ${Zf} ${fp} key`);this.properties[t.value]=new Th(e.value)}break}case Yf:{const t=e.value.assertString(`${Ff} ${Zf} ${Yf}`);this.looseKeyType=t.value;break}case Gf:{const t=e.value.assertString(`${Ff} ${Zf} ${Gf}`);this.looseValueType=t.value;break}default:t.assertUnexpectedValue(`${Ff} ${Zf} key`)}}break}default:t.assertUnexpectedValue(`${Ff} key`)}}}get definitionType(){return _f.Mapping}validate(e,t){if(this.looseKeyType){if(e.getDefinition(this.looseKeyType),!this.looseValueType)throw new Error(`Property '${Yf}' is defined but '${Gf}' is not defined on '${t}'`);e.getDefinition(this.looseValueType)}else if(this.looseValueType)throw new Error(`Property '${Gf}' is defined but '${Yf}' is not defined on '${t}'`);for(const n of Object.keys(this.properties)){const r=this.properties[n];if(!r.type)throw new Error(`Type not specified for the property '${n}' on '${t}'`);e.getDefinition(r.type)}}}class Ah extends jh{constructor(e,t){if(super(e,t),t)for(const e of t){const t=e.key.assertString(`${Ff} key`);switch(t.value){case np:{const t=e.value.assertMapping(`${Ff} ${np}`);for(const e of t){const t=e.key.assertString(`${Ff} ${np} key`);t.value,t.assertUnexpectedValue(`${Ff} ${np} key`)}break}default:t.assertUnexpectedValue(`${Ff} key`)}}}get definitionType(){return _f.Null}isMatch(e){return e.templateTokenType===Nf.Null}validate(){}}class Ih extends jh{constructor(e,t){if(super(e,t),t)for(const e of t){const t=e.key.assertString(`${Ff} key`);switch(t.value){case sp:{const t=e.value.assertMapping(`${Ff} ${sp}`);for(const e of t){const t=e.key.assertString(`${Ff} ${sp} key`);t.value,t.assertUnexpectedValue(`${Ff} ${sp} key`)}break}default:t.assertUnexpectedValue(`${Ff} key`)}}}get definitionType(){return _f.Number}isMatch(e){return e.templateTokenType===Nf.Number}validate(){}}class Ph extends Ch{constructor(e,t){if(super(e,t),this.oneOf=[],this.oneOfPrefix=[],t)for(const e of t){const t=e.key.assertString(`${Ff} key`);switch(t.value){case lp:{const t=e.value.assertSequence(`${Ff} ${lp}`);for(const e of t){const t=e.assertString(`${Ff} ${lp} item`);this.oneOf.push(t.value)}break}case Lf:{const t=e.value.assertSequence(`${Ff} ${Lf}`);for(const e of t){const t=e.assertString(`${Ff} ${lp} item`);this.oneOf.push(this.key+"-"+t.value)}break}default:t.assertUnexpectedValue(`${Ff} key`)}}}get definitionType(){return _f.OneOf}validate(e,t){if(0===this.oneOf.length)throw new Error(`'${t}' does not contain any references`);let n=!1;const r=[];let o,s,i,a,l;const c=[],u={};for(const d of this.oneOf){if(u[d])throw new Error(`'${t}' contains duplicate nested type '${d}'`);u[d]=!0;const f=e.getDefinition(d);if(f.readerContext.length>0)throw new Error(`'${t}' is a one-of definition and references another definition that defines context. This is currently not supported.`);switch(f.definitionType){case _f.Mapping:{const e=f;r.push(e),e.looseKeyType&&(n=!0);break}case _f.Sequence:if(s)throw new Error(`'${t}' refers to more than one definition of type '${mp}'`);s=f;break;case _f.Null:if(i)throw new Error(`'${t}' refers to more than one definition of type '${np}'`);i=f;break;case _f.Boolean:if(a)throw new Error(`'${t}' refers to more than one definition of type '${$f}'`);a=f;break;case _f.Number:if(l)throw new Error(`'${t}' refers to more than one definition of type '${sp}'`);l=f;break;case _f.String:{const e=f;if(c.length>0&&(!c[0].constant||!e.constant))throw new Error(`'${t}' refers to more than one 'scalar', but some do not set '${qf}'`);c.push(e);break}case _f.OneOf:if(o)throw new Error(`'${t}' contains multiple allowed-values definitions`);o=f;break;default:throw new Error(`'${t}' refers to a definition with type '${f.definitionType}'`)}}if(r.length>1){if(n)throw new Error(`'${t}' refers to two mappings and at least one sets '${Yf}'. This is not currently supported.`);const e={};for(const n of r)for(const r of Object.keys(n.properties)){const o=n.properties[r],s=e[r];if(s){if(s.type===o.type)continue;throw new Error(`'${t}' contains two mappings with the same property, but each refers to a different type. All matching properties must refer to the same type.`)}e[r]=o}}}}class Lh extends Ch{constructor(e,t){if(super(e,t),this.itemType="",t)for(const e of t){const t=e.key.assertString(`${Ff} key`);switch(t.value){case mp:{const t=e.value.assertMapping(`${Ff} ${mp}`);for(const e of t){const t=e.key.assertString(`${Ff} ${mp} key`);switch(t.value){case Xf:{const t=e.value.assertString(`${Ff} ${mp} ${Xf}`);this.itemType=t.value;break}default:t.assertUnexpectedValue(`${Ff} ${mp} key`)}}break}default:t.assertUnexpectedValue(`${Ff} key`)}}}get definitionType(){return _f.Sequence}validate(e,t){if(!this.itemType)throw new Error(`'${t}' does not defined '${Xf}'`);e.getDefinition(this.itemType)}}class Dh extends jh{constructor(e,t){if(super(e,t),this.constant="",this.ignoreCase=!1,this.requireNonEmpty=!1,this.isExpression=!1,t)for(const e of t){const t=e.key.assertString(`${Ff} key`);switch(t.value){case wp:{const t=e.value.assertMapping(`${Ff} ${wp}`);for(const e of t){const t=e.key.assertString(`${Ff} ${wp} key`);switch(t.value){case qf:{const t=e.value.assertString(`${Ff} ${wp} ${qf}`);this.constant=t.value;break}case Hf:{const t=e.value.assertBoolean(`${Ff} ${wp} ${Hf}`);this.ignoreCase=t.value;break}case hp:{const t=e.value.assertBoolean(`${Ff} ${wp} ${hp}`);this.requireNonEmpty=t.value;break}case Wf:{const t=e.value.assertBoolean(`${Ff} ${wp} ${Wf}`);this.isExpression=t.value;break}default:t.assertUnexpectedValue(`${Ff} ${wp} key`)}}break}default:t.assertUnexpectedValue(`${Ff} key`)}}}get definitionType(){return _f.String}isMatch(e){if(e.templateTokenType===Nf.String){const t=e.value;return this.constant?this.ignoreCase?this.constant.toUpperCase()===t.toUpperCase():this.constant===t:!this.requireNonEmpty||!!t}return!1}validate(){if(this.constant&&this.requireNonEmpty)throw new Error(`Properties '${qf}' and '${hp}' cannot both be set`)}}class $h{constructor(e){this.definitions={},this.version="",this.definitions[np]=new Ah(np),this.definitions[$f]=new Oh($f),this.definitions[sp]=new Ih(sp),this.definitions[wp]=new Dh(wp);const t=new Lh(mp);t.itemType=Df,this.definitions[t.key]=t;const n=new Mh(Zf);n.looseKeyType=wp,n.looseValueType=Df,this.definitions[n.key]=n;const r=new Ph(Df);if(r.oneOf.push(np),r.oneOf.push($f),r.oneOf.push(sp),r.oneOf.push(wp),r.oneOf.push(mp),r.oneOf.push(Zf),this.definitions[r.key]=r,e)for(const t of e){const e=t.key.assertString(`${Sp} key`);switch(e.value){case Ep:this.version=t.value.assertString(`${Sp} ${Ep}`).value;break;case Vf:{const e=t.value.assertMapping(`${Sp} ${Vf}`);for(const t of e){const e=t.key.assertString(`${Sp} ${Vf} key`),n=t.value.assertMapping(`${Sp} ${Vf} value`);let r;for(const o of n){const s=o.key.assertString(`${Ff} key`),i=t.value;switch(s.value){case np:r=new Ah(e.value,n);break;case $f:r=new Oh(e.value,n);break;case sp:r=new Ih(e.value,n);break;case wp:r=new Dh(e.value,n);break;case mp:r=new Lh(e.value,n);break;case Zf:r=new Mh(e.value,n);break;case lp:r=new Ph(e.value,n);break;case Lf:for(const t of i)if(t.value.templateTokenType===Nf.Sequence){const n=t.value;for(const t of n)if(t.templateTokenType===Nf.String){const n=t,r=e.value+"-"+n.value,o=new Dh(r);o.constant=n.toDisplayString(),this.definitions[r]=o}}r=new Ph(e.value,n);break;case Bf:case Uf:continue;default:s.assertUnexpectedValue(`${Ff} mapping key`)}break}if(!r)throw new Error(`Not enough information to construct definition '${e.value}'`);this.definitions[e.value]=r}break}default:e.assertUnexpectedValue(`${Sp} key`)}}}getDefinition(e){const t=this.definitions[e];if(t)return t;throw new Error(`Schema definition '${e}' not found`)}getScalarDefinitions(e){const t=[];switch(e.definitionType){case _f.Null:case _f.Boolean:case _f.Number:case _f.String:t.push(e);break;case _f.OneOf:{const n=e;for(const e of n.oneOf){const n=this.getDefinition(e);t.push(...this.getScalarDefinitions(n))}break}}return t}getDefinitionsOfType(e,t){const n=[];if(e.definitionType===t)n.push(e);else if(e.definitionType===_f.OneOf){const r=e;for(const e of r.oneOf){const r=this.getDefinition(e);r.definitionType===t&&n.push(r)}}return n}matchPropertyAndFilter(e,t){let n,r=!1;for(const o of e){const e=o.properties[t];e?n=e:r=!0}if(n&&r)for(let n=0;n<e.length;)e[n].properties[t]?n++:e.splice(n,1);return n}validate(){const e={};for(const t of Object.keys(this.definitions)){if(!t.match($h._definitionNamePattern))throw new Error(`Invalid definition name '${t}'`);const n=this.definitions[t];n.definitionType===_f.OneOf?e[t]=n:n.validate(this,t)}for(const t of Object.keys(e))e[t].validate(this,t)}static load(e){const t=new Af(new If(10,500),$h.getInternalSchema(),new _h),n=xh(t,Sp,e,void 0);t.errors.check();const r=n.assertMapping(Sp),o=new $h(r);return o.validate(),o}static getInternalSchema(){if(void 0===$h._internalSchema){const e=new $h;let t=new Mh(Sp);t.properties[Ep]=new Th(new Cp(void 0,void 0,tp,void 0)),t.properties[Vf]=new Th(new Cp(void 0,void 0,Vf,void 0)),e.definitions[t.key]=t,t=new Mh(Vf),t.looseKeyType=tp,t.looseValueType=Ff,e.definitions[t.key]=t;let n=new Ph(Ff);n.oneOf.push(rp),n.oneOf.push(Rf),n.oneOf.push(ip),n.oneOf.push(xp),n.oneOf.push(gp),n.oneOf.push(Qf),n.oneOf.push(cp),e.definitions[n.key]=n,t=new Mh(rp),t.properties[Uf]=new Th(new Cp(void 0,void 0,wp,void 0)),t.properties[Bf]=new Th(new Cp(void 0,void 0,bp,void 0)),t.properties[np]=new Th(new Cp(void 0,void 0,op,void 0)),e.definitions[t.key]=t,t=new Mh(op),e.definitions[t.key]=t,t=new Mh(Rf),t.properties[Uf]=new Th(new Cp(void 0,void 0,wp,void 0)),t.properties[Bf]=new Th(new Cp(void 0,void 0,bp,void 0)),t.properties[$f]=new Th(new Cp(void 0,void 0,zf,void 0)),e.definitions[t.key]=t,t=new Mh(zf),e.definitions[t.key]=t,t=new Mh(ip),t.properties[Uf]=new Th(new Cp(void 0,void 0,wp,void 0)),t.properties[Bf]=new Th(new Cp(void 0,void 0,bp,void 0)),t.properties[sp]=new Th(new Cp(void 0,void 0,ap,void 0)),e.definitions[t.key]=t,t=new Mh(ap),e.definitions[t.key]=t,t=new Mh(xp),t.properties[Uf]=new Th(new Cp(void 0,void 0,wp,void 0)),t.properties[Bf]=new Th(new Cp(void 0,void 0,bp,void 0)),t.properties[wp]=new Th(new Cp(void 0,void 0,kp,void 0)),e.definitions[t.key]=t,t=new Mh(kp),t.properties[qf]=new Th(new Cp(void 0,void 0,tp,void 0)),t.properties[Hf]=new Th(new Cp(void 0,void 0,$f,void 0)),t.properties[hp]=new Th(new Cp(void 0,void 0,$f,void 0)),t.properties[Wf]=new Th(new Cp(void 0,void 0,$f,void 0)),e.definitions[t.key]=t,t=new Mh(gp),t.properties[Uf]=new Th(new Cp(void 0,void 0,wp,void 0)),t.properties[Bf]=new Th(new Cp(void 0,void 0,bp,void 0)),t.properties[mp]=new Th(new Cp(void 0,void 0,yp,void 0)),e.definitions[t.key]=t,t=new Mh(yp),t.properties[Xf]=new Th(new Cp(void 0,void 0,tp,void 0)),e.definitions[t.key]=t,t=new Mh(Qf),t.properties[Uf]=new Th(new Cp(void 0,void 0,wp,void 0)),t.properties[Bf]=new Th(new Cp(void 0,void 0,bp,void 0)),t.properties[Zf]=new Th(new Cp(void 0,void 0,Jf,void 0)),e.definitions[t.key]=t,t=new Mh(Jf),t.properties[fp]=new Th(new Cp(void 0,void 0,fp,void 0)),t.properties[Yf]=new Th(new Cp(void 0,void 0,tp,void 0)),t.properties[Gf]=new Th(new Cp(void 0,void 0,tp,void 0)),e.definitions[t.key]=t,t=new Mh(fp),t.looseKeyType=tp,t.looseValueType=dp,e.definitions[t.key]=t,n=new Ph(dp),n.oneOf.push(tp),n.oneOf.push(ep),e.definitions[n.key]=n,t=new Mh(ep),t.properties[vp]=new Th(new Cp(void 0,void 0,tp,void 0)),t.properties[pp]=new Th(new Cp(void 0,void 0,$f,void 0)),t.properties[Uf]=new Th(new Cp(void 0,void 0,wp,void 0)),e.definitions[t.key]=t,t=new Mh(cp),t.properties[Uf]=new Th(new Cp(void 0,void 0,wp,void 0)),t.properties[Bf]=new Th(new Cp(void 0,void 0,bp,void 0)),t.properties[lp]=new Th(new Cp(void 0,void 0,bp,void 0)),t.properties[Lf]=new Th(new Cp(void 0,void 0,bp,void 0)),e.definitions[t.key]=t;const r=new Dh(tp);r.requireNonEmpty=!0,e.definitions[r.key]=r;const o=new Lh(bp);o.itemType=tp,e.definitions[o.key]=o,e.validate(),$h._internalSchema=e}return $h._internalSchema}}$h._definitionNamePattern=/^[a-zA-Z_][a-zA-Z0-9_-]*$/;const Rh=JSON.parse('{"version":"workflow-v1.0","definitions":{"workflow-root":{"description":"A workflow file.","mapping":{"properties":{"on":"on","name":"workflow-name","description":"workflow-description","run-name":"run-name","defaults":"workflow-defaults","env":"workflow-env","permissions":"permissions","concurrency":"workflow-concurrency","jobs":{"type":"jobs","required":true}}}},"workflow-root-strict":{"description":"Workflow file with strict validation","mapping":{"properties":{"on":{"type":"on-strict","required":true},"name":"workflow-name","description":"workflow-description","run-name":"run-name","defaults":"workflow-defaults","env":"workflow-env","permissions":"permissions","concurrency":"workflow-concurrency","jobs":{"type":"jobs","required":true}}}},"workflow-name":{"description":"The name of the workflow that GitHub displays on your repository\'s \'Actions\' tab.\\n\\n[Documentation](https://docs.github.com/actions/using-workflows/workflow-syntax-for-github-actions#name)","string":{}},"workflow-description":{"description":"A description for your workflow or reusable workflow","string":{}},"run-name":{"context":["github","inputs","vars"],"string":{},"description":"The name for workflow runs generated from the workflow. GitHub displays the workflow run name in the list of workflow runs on your repository\'s \'Actions\' tab.\\n\\n[Documentation](https://docs.github.com/actions/using-workflows/workflow-syntax-for-github-actions#run-name)"},"on":{"description":"The GitHub event that triggers the workflow. Events can be a single string, array of events, array of event types, or an event configuration map that schedules a workflow or restricts the execution of a workflow to specific files, tags, or branch changes. View a full list of [events that trigger workflows](https://docs.github.com/actions/using-workflows/events-that-trigger-workflows).\\n\\n[Documentation](https://docs.github.com/actions/using-workflows/workflow-syntax-for-github-actions#on)","one-of":["string","sequence","on-mapping"]},"on-mapping":{"mapping":{"properties":{"workflow_call":"workflow-call"},"loose-key-type":"non-empty-string","loose-value-type":"any"}},"on-strict":{"description":"The GitHub event that triggers the workflow.  Events can be a single string, array of events, array of event types, or an event configuration map that schedules a workflow or restricts the execution of a workflow to specific files, tags, or branch changes. View a full list of [events that trigger workflows](https://docs.github.com/actions/using-workflows/events-that-trigger-workflows).\\n\\n[Documentation](https://docs.github.com/actions/using-workflows/workflow-syntax-for-github-actions#on)","one-of":["on-string-strict","on-sequence-strict","on-mapping-strict"]},"on-mapping-strict":{"description":"The GitHub event that triggers the workflow.  Events can be a single string, array of events, array of event types, or an event configuration map that schedules a workflow or restricts the execution of a workflow to specific files, tags, or branch changes. View a full list of [events that trigger workflows](https://docs.github.com/actions/using-workflows/events-that-trigger-workflows).\\n\\n[Documentation](https://docs.github.com/actions/using-workflows/workflow-syntax-for-github-actions#on)","mapping":{"properties":{"branch_protection_rule":"branch-protection-rule","check_run":"check-run","check_suite":"check-suite","create":"create","delete":"delete","deployment":"deployment","deployment_status":"deployment-status","discussion":"discussion","discussion_comment":"discussion-comment","fork":"fork","gollum":"gollum","image_version":"image-version","issue_comment":"issue-comment","issues":"issues","label":"label","merge_group":"merge-group","milestone":"milestone","page_build":"page-build","project":"project","project_card":"project-card","project_column":"project-column","public":"public","pull_request":"pull-request","pull_request_comment":"pull-request-comment","pull_request_review":"pull-request-review","pull_request_review_comment":"pull-request-review-comment","pull_request_target":"pull-request-target","push":"push","registry_package":"registry-package","release":"release","repository_dispatch":"repository-dispatch","schedule":"schedule","status":"status","watch":"watch","workflow_call":"workflow-call","workflow_dispatch":"workflow-dispatch","workflow_run":"workflow-run"}}},"on-string-strict":{"one-of":["branch-protection-rule-string","check-run-string","check-suite-string","create-string","delete-string","deployment-string","deployment-status-string","discussion-string","discussion-comment-string","fork-string","gollum-string","image-version-string","issue-comment-string","issues-string","label-string","merge-group-string","milestone-string","page-build-string","project-string","project-card-string","project-column-string","public-string","pull-request-string","pull-request-comment-string","pull-request-review-string","pull-request-review-comment-string","pull-request-target-string","push-string","registry-package-string","release-string","repository-dispatch-string","schedule-string","status-string","watch-string","workflow-call-string","workflow-dispatch-string","workflow-run-string"]},"on-sequence-strict":{"sequence":{"item-type":"on-string-strict"}},"branch-protection-rule-string":{"description":"Runs your workflow when branch protection rules in the workflow repository are changed.","string":{"constant":"branch_protection_rule"}},"branch-protection-rule":{"description":"Runs your workflow when branch protection rules in the workflow repository are changed.","one-of":["null","branch-protection-rule-mapping"]},"branch-protection-rule-mapping":{"mapping":{"properties":{"types":"branch-protection-rule-activity"}}},"branch-protection-rule-activity":{"description":"The types of branch protection rule activity that trigger the workflow. Supported activity types: `created`, `edited`, `deleted`.","one-of":["branch-protection-rule-activity-type","branch-protection-rule-activity-types"]},"branch-protection-rule-activity-types":{"sequence":{"item-type":"branch-protection-rule-activity-type"}},"branch-protection-rule-activity-type":{"allowed-values":["created","edited","deleted"]},"check-run-string":{"description":"Runs your workflow when activity related to a check run occurs. A check run is an individual test that is part of a check suite.","string":{"constant":"check_run"}},"check-run":{"description":"Runs your workflow when activity related to a check run occurs. A check run is an individual test that is part of a check suite.","one-of":["null","check-run-mapping"]},"check-run-mapping":{"mapping":{"properties":{"types":"check-run-activity"}}},"check-run-activity":{"description":"The types of check run activity that trigger the workflow. Supported activity types: `created`, `rerequested`, `completed`, `requested_action`.","one-of":["check-run-activity-type","check-run-activity-types"]},"check-run-activity-types":{"sequence":{"item-type":"check-run-activity-type"}},"check-run-activity-type":{"allowed-values":["completed","created","rerequested","requested_action"]},"check-suite-string":{"description":"Runs your workflow when check suite activity occurs. A check suite is a collection of the check runs created for a specific commit. Check suites summarize the status and conclusion of the check runs that are in the suite.","string":{"constant":"check_suite"}},"check-suite":{"description":"Runs your workflow when check suite activity occurs. A check suite is a collection of the check runs created for a specific commit. Check suites summarize the status and conclusion of the check runs that are in the suite.","one-of":["null","check-suite-mapping"]},"check-suite-mapping":{"mapping":{"properties":{"types":"check-suite-activity"}}},"check-suite-activity":{"description":"The types of check suite activity that trigger the workflow. Supported activity types: `completed`.","one-of":["check-suite-activity-type","check-suite-activity-types"]},"check-suite-activity-types":{"sequence":{"item-type":"check-suite-activity-type"}},"check-suite-activity-type":{"allowed-values":["completed"]},"create-string":{"description":"Runs your workflow when someone creates a Git reference (Git branch or tag) in the workflow\'s repository.","string":{"constant":"create"}},"create":{"description":"Runs your workflow when someone creates a Git reference (Git branch or tag) in the workflow\'s repository.","null":{}},"delete-string":{"description":"Runs your workflow when someone deletes a Git reference (Git branch or tag) in the workflow\'s repository.","string":{"constant":"delete"}},"delete":{"description":"Runs your workflow when someone deletes a Git reference (Git branch or tag) in the workflow\'s repository.","null":{}},"deployment-string":{"description":"Runs your workflow when someone creates a deployment in the workflow\'s repository. Deployments created with a commit SHA may not have a Git ref.","string":{"constant":"deployment"}},"deployment":{"description":"Runs your workflow when someone creates a deployment in the workflow\'s repository. Deployments created with a commit SHA may not have a Git ref.","null":{}},"deployment-status-string":{"description":"Runs your workflow when a third party provides a deployment status. Deployments created with a commit SHA may not have a Git ref.","string":{"constant":"deployment_status"}},"deployment-status":{"description":"Runs your workflow when a third party provides a deployment status. Deployments created with a commit SHA may not have a Git ref.","null":{}},"discussion-string":{"description":"Runs your workflow when a discussion in the workflow\'s repository is created or modified. For activity related to comments on a discussion, use the `discussion_comment` event.","string":{"constant":"discussion"}},"discussion":{"description":"Runs your workflow when a discussion in the workflow\'s repository is created or modified. For activity related to comments on a discussion, use the `discussion_comment` event.","one-of":["null","discussion-mapping"]},"discussion-mapping":{"mapping":{"properties":{"types":"discussion-activity"}}},"discussion-activity":{"description":"The types of discussion activity that trigger the workflow. Supported activity types: `created`, `edited`, `deleted`, `transferred`, `pinned`, `unpinned`, `labeled`, `unlabeled`, `locked`, `unlocked`, `category_changed`, `answered`, `unanswered`.","one-of":["discussion-activity-type","discussion-activity-types"]},"discussion-activity-types":{"sequence":{"item-type":"discussion-activity-type"}},"discussion-activity-type":{"allowed-values":["created","edited","deleted","transferred","pinned","unpinned","labeled","unlabeled","locked","unlocked","category_changed","answered","unanswered"]},"discussion-comment-string":{"description":"Runs your workflow when a comment on a discussion in the workflow\'s repository is created or modified. For activity related to a discussion as opposed to comments on the discussion, use the `discussion` event.","string":{"constant":"discussion_comment"}},"discussion-comment":{"description":"Runs your workflow when a comment on a discussion in the workflow\'s repository is created or modified. For activity related to a discussion as opposed to comments on the discussion, use the `discussion` event.","one-of":["null","discussion-comment-mapping"]},"discussion-comment-mapping":{"mapping":{"properties":{"types":"discussion-comment-activity"}}},"discussion-comment-activity":{"description":"The types of discussion comment activity that trigger the workflow. Supported activity types: `created`, `edited`, `deleted`.","one-of":["discussion-comment-activity-type","discussion-comment-activity-types"]},"discussion-comment-activity-types":{"sequence":{"item-type":"discussion-comment-activity-type"}},"discussion-comment-activity-type":{"allowed-values":["created","edited","deleted"]},"fork-string":{"description":"Runs your workflow when someone forks a repository.","string":{"constant":"fork"}},"fork":{"description":"Runs your workflow when someone forks a repository.","null":{}},"gollum-string":{"description":"Runs your workflow when someone creates or updates a Wiki page.","string":{"constant":"gollum"}},"gollum":{"description":"Runs your workflow when someone creates or updates a Wiki page.","null":{}},"image-version-string":{"description":"Runs your workflow when an image version is created or changes state.","string":{"constant":"image_version"}},"image-version":{"description":"Runs your workflow when an image version is created or changes state.","one-of":["null","image-version-mapping"]},"image-version-mapping":{"mapping":{"properties":{"types":"image-version-activity","names":"event-names","versions":"event-versions"}}},"image-version-activity":{"description":"The types of image version activity that trigger the workflow. Supported activity types: `created`, `ready`, `deleted`.","one-of":["image-version-activity-type","image-version-activity-types"]},"image-version-activity-types":{"sequence":{"item-type":"image-version-activity-type"}},"image-version-activity-type":{"allowed-values":["created","ready","deleted"]},"issue-comment-string":{"description":"Runs your workflow when an issue or pull request comment is created, edited, or deleted.","string":{"constant":"issue_comment"}},"issue-comment":{"description":"Runs your workflow when an issue or pull request comment is created, edited, or deleted.","one-of":["null","issue-comment-mapping"]},"issue-comment-mapping":{"mapping":{"properties":{"types":"issue-comment-activity"}}},"issue-comment-activity":{"description":"The types of issue comment activity that trigger the workflow. Supported activity types: `created`, `edited`, `deleted`.","one-of":["issue-comment-activity-type","issue-comment-activity-types"]},"issue-comment-activity-types":{"sequence":{"item-type":"issue-comment-activity-type"}},"issue-comment-activity-type":{"allowed-values":["created","edited","deleted"]},"issues-string":{"description":"Runs your workflow when an issue in the workflow\'s repository is created or modified. For activity related to comments in an issue, use the `issue_comment` event.","string":{"constant":"issues"}},"issues":{"description":"Runs your workflow when an issue in the workflow\'s repository is created or modified. For activity related to comments in an issue, use the `issue_comment` event.","one-of":["null","issues-mapping"]},"issues-mapping":{"mapping":{"properties":{"types":"issues-activity"}}},"issues-activity":{"description":"The types of issue activity that trigger the workflow. Supported activity types: `opened`, `edited`, `deleted`, `transferred`, `pinned`, `unpinned`, `closed`, `reopened`, `assigned`, `unassigned`, `labeled`, `unlabeled`, `locked`, `unlocked`, `milestoned`, `demilestoned`.","one-of":["issues-activity-type","issues-activity-types"]},"issues-activity-types":{"sequence":{"item-type":"issues-activity-type"}},"issues-activity-type":{"allowed-values":["opened","edited","deleted","transferred","pinned","unpinned","closed","reopened","assigned","unassigned","labeled","unlabeled","locked","unlocked","milestoned","demilestoned"]},"label-string":{"description":"Runs your workflow when a label in your workflow\'s repository is created or modified.","string":{"constant":"label"}},"label":{"description":"Runs your workflow when a label in your workflow\'s repository is created or modified.","one-of":["null","label-mapping"]},"label-mapping":{"mapping":{"properties":{"types":"label-activity"}}},"label-activity":{"description":"The types of label activity that trigger the workflow. Supported activity types: `created`, `edited`, `deleted`.","one-of":["label-activity-type","label-activity-types"]},"label-activity-types":{"sequence":{"item-type":"label-activity-type"}},"label-activity-type":{"allowed-values":["created","edited","deleted"]},"merge-group-string":{"description":"Runs your workflow when a pull request is added to a merge queue, which adds the pull request to a merge group.","string":{"constant":"merge_group"}},"merge-group":{"description":"Runs your workflow when a pull request is added to a merge queue, which adds the pull request to a merge group.","one-of":["null","merge-group-mapping"]},"merge-group-mapping":{"mapping":{"properties":{"types":"merge-group-activity","branches":"event-branches","branches-ignore":"event-branches-ignore"}}},"merge-group-activity":{"description":"The types of merge group activity that trigger the workflow. Supported activity types: `checks_requested`.","one-of":["merge-group-activity-type","merge-group-activity-types"]},"merge-group-activity-types":{"sequence":{"item-type":"merge-group-activity-type"}},"merge-group-activity-type":{"allowed-values":["checks_requested"]},"milestone-string":{"description":"Runs your workflow when a milestone in the workflow\'s repository is created or modified.","string":{"constant":"milestone"}},"milestone":{"description":"Runs your workflow when a milestone in the workflow\'s repository is created or modified.","one-of":["null","milestone-mapping"]},"milestone-mapping":{"mapping":{"properties":{"types":"milestone-activity"}}},"milestone-activity":{"description":"The types of milestone activity that trigger the workflow. Supported activity types: `created`, `closed`, `opened`, `edited`, `deleted`.","one-of":["milestone-activity-type","milestone-activity-types"]},"milestone-activity-types":{"sequence":{"item-type":"milestone-activity-type"}},"milestone-activity-type":{"allowed-values":["created","closed","opened","edited","deleted"]},"page-build-string":{"description":"Runs your workflow when someone pushes to a branch that is the publishing source for GitHub Pages, if GitHub Pages is enabled for the repository.","string":{"constant":"page_build"}},"page-build":{"description":"Runs your workflow when someone pushes to a branch that is the publishing source for GitHub Pages, if GitHub Pages is enabled for the repository.","null":{}},"project-string":{"description":"Runs your workflow when a project board is created or modified. For activity related to cards or columns in a project board, use the `project_card` or `project_column` events instead.","string":{"constant":"project"}},"project":{"description":"Runs your workflow when a project board is created or modified. For activity related to cards or columns in a project board, use the `project_card` or `project_column` events instead.","one-of":["null","project-mapping"]},"project-mapping":{"mapping":{"properties":{"types":"project-activity"}}},"project-activity":{"description":"The types of project activity that trigger the workflow. Supported activity types: `created`, `closed`, `reopened`, `edited`, `deleted`.","one-of":["project-activity-type","project-activity-types"]},"project-activity-types":{"sequence":{"item-type":"project-activity-type"}},"project-activity-type":{"allowed-values":["created","closed","reopened","edited","deleted"]},"project-card-string":{"description":"Runs your workflow when a card on a project board is created or modified. For activity related to project boards or columns in a project board, use the `project` or `project_column` event instead.","string":{"constant":"project_card"}},"project-card":{"description":"Runs your workflow when a card on a project board is created or modified. For activity related to project boards or columns in a project board, use the `project` or `project_column` event instead.","one-of":["null","project-card-mapping"]},"project-card-mapping":{"mapping":{"properties":{"types":"project-card-activity"}}},"project-card-activity":{"description":"The types of project card activity that trigger the workflow. Supported activity types: `created`, `moved`, `converted`, `edited`, `deleted`.","one-of":["project-card-activity-type","project-card-activity-types"]},"project-card-activity-types":{"sequence":{"item-type":"project-card-activity-type"}},"project-card-activity-type":{"allowed-values":["created","moved","converted","edited","deleted"]},"project-column-string":{"description":"Runs your workflow when a column on a project board is created or modified. For activity related to project boards or cards in a project board, use the `project` or `project_card` event instead.","string":{"constant":"project_column"}},"project-column":{"description":"Runs your workflow when a column on a project board is created or modified. For activity related to project boards or cards in a project board, use the `project` or `project_card` event instead.","one-of":["null","project-column-mapping"]},"project-column-mapping":{"mapping":{"properties":{"types":"project-column-activity"}}},"project-column-activity":{"description":"The types of project column activity that trigger the workflow. Supported activity types: `created`, `updated`, `moved`, `deleted`.","one-of":["project-column-activity-type","project-column-activity-types"]},"project-column-activity-types":{"sequence":{"item-type":"project-column-activity-type"}},"project-column-activity-type":{"allowed-values":["created","updated","moved","deleted"]},"public-string":{"description":"Runs your workflow when your workflow\'s repository changes from private to public.","string":{"constant":"public"}},"public":{"description":"Runs your workflow when your workflow\'s repository changes from private to public.","null":{}},"pull-request-string":{"description":"Runs your workflow when activity on a pull request in the workflow\'s repository occurs. If no activity types are specified, the workflow runs when a pull request is opened, reopened, or when the head branch of the pull request is updated.","string":{"constant":"pull_request"}},"pull-request":{"description":"Runs your workflow when activity on a pull request in the workflow\'s repository occurs. If no activity types are specified, the workflow runs when a pull request is opened, reopened, or when the head branch of the pull request is updated.","one-of":["null","pull-request-mapping"]},"pull-request-mapping":{"mapping":{"properties":{"types":"pull-request-activity","branches":"event-branches","branches-ignore":"event-branches-ignore","paths":"event-paths","paths-ignore":"event-paths-ignore"}}},"pull-request-activity":{"description":"The types of pull request activity that trigger the workflow. Supported activity types: `assigned`, `unassigned`, `labeled`, `unlabeled`, `opened`, `edited`, `closed`, `reopened`, `synchronize`, `converted_to_draft`, `locked`, `unlocked`, `enqueued`, `dequeued`, `milestoned`, `demilestoned`, `ready_for_review`, `review_requested`, `review_request_removed`, `auto_merge_enabled`, `auto_merge_disabled`.","one-of":["pull-request-activity-type","pull-request-activity-types"]},"pull-request-activity-types":{"sequence":{"item-type":"pull-request-activity-type"}},"pull-request-activity-type":{"allowed-values":["assigned","unassigned","labeled","unlabeled","opened","edited","closed","reopened","synchronize","converted_to_draft","locked","unlocked","enqueued","dequeued","milestoned","demilestoned","ready_for_review","review_requested","review_request_removed","auto_merge_enabled","auto_merge_disabled"]},"pull-request-comment-string":{"description":"Please use the `issue_comment` event instead.","string":{"constant":"pull_request_comment"}},"pull-request-comment":{"description":"Please use the `issue_comment` event instead.","one-of":["null","issue-comment-mapping"]},"pull-request-review-string":{"description":"Runs your workflow when a pull request review is submitted, edited, or dismissed. A pull request review is a group of pull request review comments in addition to a body comment and a state. For activity related to pull request review comments or pull request comments, use the `pull_request_review_comment` or `issue_comment` events instead.","string":{"constant":"pull_request_review"}},"pull-request-review":{"description":"Runs your workflow when a pull request review is submitted, edited, or dismissed. A pull request review is a group of pull request review comments in addition to a body comment and a state. For activity related to pull request review comments or pull request comments, use the `pull_request_review_comment` or `issue_comment` events instead.","one-of":["null","pull-request-review-mapping"]},"pull-request-review-mapping":{"mapping":{"properties":{"types":"pull-request-review-activity"}}},"pull-request-review-activity":{"description":"The types of pull request review activity that trigger the workflow. Supported activity types: `submitted`, `edited`, `dismissed`.","one-of":["pull-request-review-activity-type","pull-request-review-activity-types"]},"pull-request-review-activity-types":{"sequence":{"item-type":"pull-request-review-activity-type"}},"pull-request-review-activity-type":{"allowed-values":["submitted","edited","dismissed"]},"pull-request-review-comment-string":{"description":"","string":{"constant":"pull_request_review_comment"}},"pull-request-review-comment":{"description":"","one-of":["null","pull-request-review-comment-mapping"]},"pull-request-review-comment-mapping":{"mapping":{"properties":{"types":"pull-request-review-comment-activity"}}},"pull-request-review-comment-activity":{"description":"The types of pull request review comment activity that trigger the workflow. Supported activity types: `created`, `edited`, `deleted`.","one-of":["pull-request-review-comment-activity-type","pull-request-review-comment-activity-types"]},"pull-request-review-comment-activity-types":{"sequence":{"item-type":"pull-request-review-comment-activity-type"}},"pull-request-review-comment-activity-type":{"allowed-values":["created","edited","deleted"]},"pull-request-target-string":{"description":"Runs your workflow when activity on a pull request in the workflow\'s repository occurs. If no activity types are specified, the workflow runs when a pull request is opened, reopened, or when the head branch of the pull request is updated.\\n\\nThis event runs in the context of the base of the pull request, rather than in the context of the merge commit, as the `pull_request` event does. This prevents execution of unsafe code from the head of the pull request that could alter your repository or steal any secrets you use in your workflow. This event allows your workflow to do things like label or comment on pull requests from forks. Avoid using this event if you need to build or run code from the pull request.","string":{"constant":"pull_request_target"}},"pull-request-target":{"description":"Runs your workflow when activity on a pull request in the workflow\'s repository occurs. If no activity types are specified, the workflow runs when a pull request is opened, reopened, or when the head branch of the pull request is updated.\\n\\nThis event runs in the context of the base of the pull request, rather than in the context of the merge commit, as the `pull_request` event does. This prevents execution of unsafe code from the head of the pull request that could alter your repository or steal any secrets you use in your workflow. This event allows your workflow to do things like label or comment on pull requests from forks. Avoid using this event if you need to build or run code from the pull request.","one-of":["null","pull-request-target-mapping"]},"pull-request-target-mapping":{"mapping":{"properties":{"types":"pull-request-target-activity","branches":"event-branches","branches-ignore":"event-branches-ignore","paths":"event-paths","paths-ignore":"event-paths-ignore"}}},"pull-request-target-activity":{"description":"The types of pull request activity that trigger the workflow. Supported activity types: `assigned`, `unassigned`, `labeled`, `unlabeled`, `opened`, `edited`, `closed`, `reopened`, `synchronize`, `converted_to_draft`, `locked`, `unlocked`, `enqueued`, `dequeued`, `milestoned`, `demilestoned`, `ready_for_review`, `review_requested`, `review_request_removed`, `auto_merge_enabled`, `auto_merge_disabled`.","one-of":["pull-request-target-activity-type","pull-request-target-activity-types"]},"pull-request-target-activity-types":{"sequence":{"item-type":"pull-request-target-activity-type"}},"pull-request-target-activity-type":{"allowed-values":["assigned","unassigned","labeled","unlabeled","opened","edited","closed","reopened","synchronize","converted_to_draft","locked","unlocked","enqueued","dequeued","milestoned","demilestoned","ready_for_review","review_requested","review_request_removed","auto_merge_enabled","auto_merge_disabled"]},"push-string":{"description":"Runs your workflow when you push a commit or tag.","string":{"constant":"push"}},"push":{"description":"Runs your workflow when you push a commit or tag.","one-of":["null","push-mapping"]},"push-mapping":{"mapping":{"properties":{"branches":"event-branches","branches-ignore":"event-branches-ignore","tags":"event-tags","tags-ignore":"event-tags-ignore","paths":"event-paths","paths-ignore":"event-paths-ignore"}}},"registry-package-string":{"description":"Runs your workflow when activity related to GitHub Packages occurs in your repository.","string":{"constant":"registry_package"}},"registry-package":{"description":"Runs your workflow when activity related to GitHub Packages occurs in your repository.","one-of":["null","registry-package-mapping"]},"registry-package-mapping":{"mapping":{"properties":{"types":"registry-package-activity"}}},"registry-package-activity":{"description":"The types of registry package activity that trigger the workflow. Supported activity types: `published`, `updated`.","one-of":["registry-package-activity-type","registry-package-activity-types"]},"registry-package-activity-types":{"sequence":{"item-type":"registry-package-activity-type"}},"registry-package-activity-type":{"allowed-values":["published","updated"]},"release-string":{"description":"Runs your workflow when release activity in your repository occurs.","string":{"constant":"release"}},"release":{"description":"Runs your workflow when release activity in your repository occurs.","one-of":["null","release-mapping"]},"release-mapping":{"mapping":{"properties":{"types":"release-activity"}}},"release-activity":{"description":"The types of release activity that trigger the workflow. Supported activity types: `published`, `unpublished`, `created`, `edited`, `deleted`, `prereleased`, `released`.","one-of":["release-activity-type","release-activity-types"]},"release-activity-types":{"sequence":{"item-type":"release-activity-type"}},"release-activity-type":{"allowed-values":["published","unpublished","created","edited","deleted","prereleased","released"]},"schedule-string":{"description":"The `schedule` event allows you to trigger a workflow at a scheduled time.\\n\\nYou can schedule a workflow to run at specific UTC times using POSIX cron syntax. Scheduled workflows run on the latest commit on the default or base branch. The shortest interval you can run scheduled workflows is once every 5 minutes. GitHub Actions does not support the non-standard syntax `@yearly`, `@monthly`, `@weekly`, `@daily`, `@hourly`, and `@reboot`.","string":{"constant":"schedule"}},"schedule":{"description":"The `schedule` event allows you to trigger a workflow at a scheduled time.\\n\\nYou can schedule a workflow to run at specific UTC times using POSIX cron syntax. Scheduled workflows run on the latest commit on the default or base branch. The shortest interval you can run scheduled workflows is once every 5 minutes. GitHub Actions does not support the non-standard syntax `@yearly`, `@monthly`, `@weekly`, `@daily`, `@hourly`, and `@reboot`.","sequence":{"item-type":"cron-mapping"}},"status-string":{"description":"Runs your workflow when the status of a Git commit changes. For example, commits can be marked as `error`, `failure`, `pending`, or `success`. If you want to provide more details about the status change, you may want to use the `check_run` event.","string":{"constant":"status"}},"status":{"description":"Runs your workflow when the status of a Git commit changes. For example, commits can be marked as `error`, `failure`, `pending`, or `success`. If you want to provide more details about the status change, you may want to use the `check_run` event.","null":{}},"watch-string":{"description":"Runs your workflow when the workflow\'s repository is starred.","string":{"constant":"watch"}},"watch":{"description":"Runs your workflow when the workflow\'s repository is starred.","one-of":["null","watch-mapping"]},"watch-mapping":{"mapping":{"properties":{"types":"watch-activity"}}},"watch-activity":{"description":"The types of watch activity that trigger the workflow. Supported activity types: `started`.","one-of":["watch-activity-type","watch-activity-types"]},"watch-activity-types":{"sequence":{"item-type":"watch-activity-type"}},"watch-activity-type":{"allowed-values":["started"]},"workflow-run-string":{"description":"This event occurs when a workflow run is requested or completed. It allows you to execute a workflow based on execution or completion of another workflow. The workflow started by the `workflow_run` event is able to access secrets and write tokens, even if the previous workflow was not. This is useful in cases where the previous workflow is intentionally not privileged, but you need to take a privileged action in a later workflow.","string":{"constant":"workflow_run"}},"workflow-run":{"description":"This event occurs when a workflow run is requested or completed. It allows you to execute a workflow based on execution or completion of another workflow. The workflow started by the `workflow_run` event is able to access secrets and write tokens, even if the previous workflow was not. This is useful in cases where the previous workflow is intentionally not privileged, but you need to take a privileged action in a later workflow.","one-of":["null","workflow-run-mapping"]},"workflow-run-mapping":{"mapping":{"properties":{"types":"workflow-run-activity","workflows":"workflow-run-workflows","branches":"event-branches","branches-ignore":"event-branches-ignore"}}},"workflow-run-workflows":{"description":"The name of the workflow that triggers the `workflow_run` event. The workflow must be in the same repository as the workflow that uses the `workflow_run` event.","one-of":["non-empty-string","sequence-of-non-empty-string"]},"workflow-run-activity":{"description":"The types of workflow run activity that trigger the workflow. Supported activity types: `completed`, `requested`, `in_progress`.","one-of":["workflow-run-activity-type","workflow-run-activity-types"]},"workflow-run-activity-types":{"sequence":{"item-type":"workflow-run-activity-type"}},"workflow-run-activity-type":{"allowed-values":["requested","completed","in_progress"]},"event-branches":{"description":"Use the `branches` filter when you want to include branch name patterns or when you want to both include and exclude branch name patterns. You cannot use both the `branches` and `branches-ignore` filters for the same event in a workflow.","one-of":["non-empty-string","sequence-of-non-empty-string"]},"event-branches-ignore":{"description":"Use the `branches-ignore` filter when you only want to exclude branch name patterns. You cannot use both the `branches` and `branches-ignore` filters for the same event in a workflow.","one-of":["non-empty-string","sequence-of-non-empty-string"]},"event-names":{"description":"Use the `names` filter when you want to include names via patterns or when you want to both include and exclude names using patterns. ","one-of":["non-empty-string","sequence-of-non-empty-string"]},"event-tags":{"description":"Use the `tags` filter when you want to include tag name patterns or when you want to both include and exclude tag names patterns. You cannot use both the `tags` and `tags-ignore` filters for the same event in a workflow.","one-of":["non-empty-string","sequence-of-non-empty-string"]},"event-tags-ignore":{"description":"Use the `tags-ignore` filter when you only want to exclude tag name patterns. You cannot use both the `tags` and `tags-ignore` filters for the same event in a workflow.","one-of":["non-empty-string","sequence-of-non-empty-string"]},"event-paths":{"description":"Use the `paths` filter when you want to include file path patterns or when you want to both include and exclude file path patterns. You cannot use both the `paths` and `paths-ignore` filters for the same event in a workflow.","one-of":["non-empty-string","sequence-of-non-empty-string"]},"event-paths-ignore":{"description":"Use the `paths-ignore` filter when you only want to exclude file path patterns. You cannot use both the `paths` and `paths-ignore` filters for the same event in a workflow.","one-of":["non-empty-string","sequence-of-non-empty-string"]},"event-versions":{"description":"Use the `versions` filter when you want to include versions via patterns or when you want to both include and exclude versions using patterns. ","one-of":["non-empty-string","sequence-of-non-empty-string"]},"repository-dispatch-string":{"description":"You can use the GitHub API to trigger a webhook event called `repository_dispatch` when you want to trigger a workflow for activity that happens outside of GitHub.","string":{"constant":"branch_protection_rule"}},"repository-dispatch":{"description":"You can use the GitHub API to trigger a webhook event called `repository_dispatch` when you want to trigger a workflow for activity that happens outside of GitHub.","one-of":["null","repository-dispatch-mapping"]},"repository-dispatch-mapping":{"mapping":{"properties":{"types":"sequence-of-non-empty-string"}}},"workflow-call-string":{"description":"The `workflow_call` event is used to indicate that a workflow can be called by another workflow. When a workflow is triggered with the `workflow_call` event, the event payload in the called workflow is the same event payload from the calling workflow.","string":{"constant":"workflow_call"}},"workflow-call":{"description":"The `workflow_call` event is used to indicate that a workflow can be called by another workflow. When a workflow is triggered with the `workflow_call` event, the event payload in the called workflow is the same event payload from the calling workflow.","one-of":["null","workflow-call-mapping"]},"workflow-call-mapping":{"mapping":{"properties":{"inputs":"workflow-call-inputs","secrets":"workflow-call-secrets","outputs":"workflow-call-outputs"}}},"workflow-call-inputs":{"description":"Inputs that are passed to the called workflow from the caller workflow.","mapping":{"loose-key-type":"non-empty-string","loose-value-type":"workflow-call-input-definition"}},"workflow-call-input-definition":{"mapping":{"properties":{"description":{"type":"string","description":"A string description of the input parameter."},"type":{"type":"workflow-call-input-type","required":true},"required":{"type":"boolean","description":"A boolean to indicate whether the action requires the input parameter. Set to `true` when the parameter is required."},"default":"workflow-call-input-default"}}},"workflow-call-input-type":{"description":"Required if input is defined for the `on.workflow_call` keyword. The value of this parameter is a string specifying the data type of the input. This must be one of: `boolean`, `number`, or `string`.","one-of":["input-type-string","input-type-boolean","input-type-number"]},"input-type-string":{"string":{"constant":"string"}},"input-type-boolean":{"string":{"constant":"boolean"}},"input-type-number":{"string":{"constant":"number"}},"input-type-choice":{"string":{"constant":"choice"}},"input-type-environment":{"string":{"constant":"environment"}},"workflow-call-input-default":{"description":"If a `default` parameter is not set, the default value of the input is `false` for boolean, `0` for a number, and `\\"\\"` for a string.","context":["github","inputs","vars"],"one-of":["string","boolean","number"]},"workflow-call-secrets":{"description":"A map of the secrets that can be used in the called workflow. Within the called workflow, you can use the `secrets` context to refer to a secret.","mapping":{"loose-key-type":"workflow-call-secret-name","loose-value-type":"workflow-call-secret-definition"}},"workflow-call-secret-name":{"string":{"require-non-empty":true},"description":"A string identifier to associate with the secret."},"workflow-call-secret-definition":{"one-of":["null","workflow-call-secret-mapping-definition"]},"workflow-call-secret-mapping-definition":{"mapping":{"properties":{"description":{"type":"string","description":"A string description of the secret parameter."},"required":{"type":"boolean","description":"A boolean specifying whether the secret must be supplied."}}}},"workflow-call-outputs":{"description":"A reusable workflow may generate data that you want to use in the caller workflow. To use these outputs, you must specify them as the outputs of the reusable workflow.","mapping":{"loose-key-type":"workflow-call-output-name","loose-value-type":"workflow-call-output-definition"}},"workflow-call-output-name":{"string":{"require-non-empty":true},"description":"A string identifier to associate with the output. The value of `<output_id>` is a map of the input\'s metadata. The `<output_id>` must be a unique identifier within the outputs object and must start with a letter or _ and contain only alphanumeric characters, -, or _."},"workflow-call-output-definition":{"mapping":{"properties":{"description":{"type":"string","description":"A string description of the output parameter."},"value":{"type":"workflow-output-context","required":true}}}},"workflow-output-context":{"description":"The value to assign to the output parameter.","context":["github","inputs","vars","jobs"],"string":{}},"workflow-dispatch-string":{"description":"The `workflow_dispatch` event allows you to manually trigger a workflow run. A workflow can be manually triggered using the GitHub API, GitHub CLI, or GitHub browser interface.","string":{"constant":"workflow_dispatch"}},"workflow-dispatch":{"description":"The `workflow_dispatch` event allows you to manually trigger a workflow run. A workflow can be manually triggered using the GitHub API, GitHub CLI, or GitHub browser interface.","one-of":["null","workflow-dispatch-mapping"]},"workflow-dispatch-mapping":{"mapping":{"properties":{"inputs":"workflow-dispatch-inputs"}}},"workflow-dispatch-inputs":{"description":"You can configure custom-defined input properties, default input values, and required inputs for the event directly in your workflow. When you trigger the event, you can provide the `ref` and any `inputs`. When the workflow runs, you can access the input values in the `inputs` context.","mapping":{"loose-key-type":"workflow-dispatch-input-name","loose-value-type":"workflow-dispatch-input"}},"workflow-dispatch-input-name":{"string":{"require-non-empty":true},"description":"A string identifier to associate with the input. The value of <input_id> is a map of the input\'s metadata. The <input_id> must be a unique identifier within the inputs object. The <input_id> must start with a letter or _ and contain only alphanumeric characters, -, or _."},"workflow-dispatch-input":{"mapping":{"properties":{"description":{"type":"string","description":"A string description of the input parameter."},"type":{"type":"workflow-dispatch-input-type"},"required":{"type":"boolean","description":"A boolean to indicate whether the workflow requires the input parameter. Set to true when the parameter is required."},"default":"workflow-dispatch-input-default","options":{"type":"sequence-of-string","description":"The options of the dropdown list, if the type is a choice."}}}},"workflow-dispatch-input-type":{"description":"A string representing the type of the input. This must be one of: `boolean`, `number`, `string`, `choice`, or `environment`.","one-of":["input-type-string","input-type-boolean","input-type-number","input-type-environment","input-type-choice"]},"workflow-dispatch-input-default":{"description":"The default value is used when an input parameter isn\'t specified in a workflow file.","one-of":["string","boolean","number"]},"permissions":{"description":"You can use `permissions` to modify the default permissions granted to the `GITHUB_TOKEN`, adding or removing access as required, so that you only allow the minimum required access.\\n\\n[Documentation](https://docs.github.com/actions/using-workflows/workflow-syntax-for-github-actions#permissions)","one-of":["permissions-mapping","permission-level-shorthand-read-all","permission-level-shorthand-write-all"]},"permissions-mapping":{"mapping":{"properties":{"actions":{"type":"permission-level-any","description":"Actions workflows, workflow runs, and artifacts."},"artifact-metadata":{"type":"permission-level-any","description":"Storage and deployment records for build artifacts."},"attestations":{"type":"permission-level-any","description":"Artifact attestations."},"checks":{"type":"permission-level-any","description":"Check runs and check suites."},"contents":{"type":"permission-level-any","description":"Repository contents, commits, branches, downloads, releases, and merges."},"deployments":{"type":"permission-level-any","description":"Deployments and deployment statuses."},"discussions":{"type":"permission-level-any","description":"Discussions and related comments and labels."},"id-token":{"type":"permission-level-write-or-no-access","description":"Token to request an OpenID Connect token."},"issues":{"type":"permission-level-any","description":"Issues and related comments, assignees, labels, and milestones."},"models":{"type":"permission-level-read-or-no-access","description":"Call AI models with GitHub Models."},"packages":{"type":"permission-level-any","description":"Packages published to the GitHub Package Platform."},"pages":{"type":"permission-level-any","description":"Retrieve Pages statuses, configuration, and builds, as well as create new builds."},"pull-requests":{"type":"permission-level-any","description":"Pull requests and related comments, assignees, labels, milestones, and merges."},"repository-projects":{"type":"permission-level-any","description":"Classic projects within a repository."},"security-events":{"type":"permission-level-any","description":"Code scanning and Dependabot alerts."},"statuses":{"type":"permission-level-any","description":"Commit statuses."}}}},"permission-level-any":{"description":"The permission level for the `GITHUB_TOKEN`.","one-of":["permission-level-read","permission-level-write","permission-level-no-access"]},"permission-level-read-or-no-access":{"one-of":["permission-level-read","permission-level-no-access"]},"permission-level-write-or-no-access":{"one-of":["permission-level-write","permission-level-no-access"]},"permission-level-read":{"description":"The permission level for the `GITHUB_TOKEN`. Grants `read` permission for the specified scope.","string":{"constant":"read"}},"permission-level-write":{"description":"The permission level for the `GITHUB_TOKEN`. Grants `write` permission for the specified scope.","string":{"constant":"write"}},"permission-level-no-access":{"description":"The permission level for the `GITHUB_TOKEN`. Restricts all access for the specified scope.","string":{"constant":"none"}},"permission-level-shorthand-read-all":{"description":"The permission level for the `GITHUB_TOKEN`. Grants `read` access for all scopes.","string":{"constant":"read-all"}},"permission-level-shorthand-write-all":{"description":"The permission level for the `GITHUB_TOKEN`. Grants `write` access for all scopes.","string":{"constant":"write-all"}},"workflow-defaults":{"description":"Use `defaults` to create a map of default settings that will apply to all jobs in the workflow. You can also set default settings that are only available to a job.\\n\\n[Documentation](https://docs.github.com/actions/using-workflows/workflow-syntax-for-github-actions#defaults)","mapping":{"properties":{"run":"workflow-defaults-run"}}},"workflow-defaults-run":{"mapping":{"properties":{"shell":"shell","working-directory":"working-directory"}}},"workflow-env":{"description":"A map of environment variables that are available to the steps of all jobs in the workflow. You can also set environment variables that are only available to the steps of a single job or to a single step.\\n\\n[Documentation](https://docs.github.com/actions/using-workflows/workflow-syntax-for-github-actions#env)","context":["github","inputs","vars","secrets"],"mapping":{"loose-key-type":"non-empty-string","loose-value-type":"string"}},"jobs":{"description":"A workflow run is made up of one or more `jobs`, which run in parallel by default. To run jobs sequentially, you can define dependencies on other jobs using the `jobs.<job_id>.needs` keyword. Each job runs in a runner environment specified by `runs-on`.\\n\\n[Documentation](https://docs.github.com/actions/using-workflows/workflow-syntax-for-github-actions#jobs)","mapping":{"loose-key-type":"job-id","loose-value-type":"job"}},"job-id":{"string":{"require-non-empty":true},"description":"A unique identifier for the job. The identifier must start with a letter or _ and contain only alphanumeric characters, -, or _."},"job":{"description":"Each job must have an id to associate with the job. The key `job_id` is a string and its value is a map of the job\'s configuration data. You must replace `<job_id>` with a string that is unique to the jobs object. The `<job_id>` must start with a letter or _ and contain only alphanumeric characters, -, or _.","one-of":["job-factory","workflow-job"]},"job-factory":{"mapping":{"properties":{"needs":"needs","if":"job-if","strategy":"strategy","name":{"type":"string-strategy-context","description":"The name of the job displayed on GitHub."},"runs-on":{"type":"runs-on","required":true},"timeout-minutes":{"type":"number-strategy-context","description":"The maximum number of minutes to let a workflow run before GitHub automatically cancels it. Default: 360"},"cancel-timeout-minutes":"number-strategy-context","continue-on-error":{"type":"boolean-strategy-context","description":"Prevents a workflow run from failing when a job fails. Set to true to allow a workflow run to pass when this job fails."},"container":"container","services":"services","env":"job-env","environment":"job-environment","permissions":"permissions","concurrency":"job-concurrency","outputs":"job-outputs","defaults":"job-defaults","steps":"steps","snapshot":"snapshot"}}},"workflow-job":{"mapping":{"properties":{"name":{"type":"string-strategy-context","description":"The name of the job displayed on GitHub."},"uses":{"description":"The location and version of a reusable workflow file to run as a job. Use one of the following formats:\\n\\n* `{owner}/{repo}/.github/workflows/{filename}@{ref}` for reusable workflows in public and private repositories.\\n* `./.github/workflows/{filename}` for reusable workflows in the same repository.\\n\\n{ref} can be a SHA, a release tag, or a branch name. Using the commit SHA is the safest for stability and security.","type":"non-empty-string","required":true},"with":"workflow-job-with","secrets":"workflow-job-secrets","needs":"needs","if":"job-if","permissions":"permissions","concurrency":"job-concurrency","strategy":"strategy"}}},"workflow-job-with":{"description":"When a job is used to call a reusable workflow, you can use `with` to provide a map of inputs that are passed to the called workflow.\\n\\nAny inputs that you pass must match the input specifications defined in the called workflow.","mapping":{"loose-key-type":"non-empty-string","loose-value-type":"scalar-needs-context"}},"workflow-job-secrets":{"description":"When a job is used to call a reusable workflow, you can use `secrets` to provide a map of secrets that are passed to the called workflow.\\n\\nAny secrets that you pass must match the names defined in the called workflow.","one-of":["workflow-job-secrets-mapping","workflow-job-secrets-inherit"]},"workflow-job-secrets-mapping":{"mapping":{"loose-key-type":"non-empty-string","loose-value-type":"scalar-needs-context-with-secrets"}},"workflow-job-secrets-inherit":{"string":{"constant":"inherit"}},"needs":{"description":"Use `needs` to identify any jobs that must complete successfully before this job will run. It can be a string or array of strings. If a job fails, all jobs that need it are skipped unless the jobs use a conditional expression that causes the job to continue. If a run contains a series of jobs that need each other, a failure applies to all jobs in the dependency chain from the point of failure onwards.","one-of":["sequence-of-non-empty-string","non-empty-string"]},"job-if":{"description":"You can use the `if` conditional to prevent a job from running unless a condition is met. You can use any supported context and expression to create a conditional.","context":["github","inputs","vars","needs","always(0,0)","failure(0,MAX)","cancelled(0,0)","success(0,MAX)"],"string":{}},"job-if-result":{"context":["github","inputs","vars","needs","always(0,0)","failure(0,MAX)","cancelled(0,0)","success(0,MAX)"],"one-of":["null","boolean","number","string","sequence","mapping"]},"strategy":{"description":"Use `strategy` to use a matrix strategy for your jobs. A matrix strategy lets you use variables in a single job definition to automatically create multiple job runs that are based on the combinations of the variables. ","context":["github","inputs","vars","needs"],"mapping":{"properties":{"fail-fast":{"type":"boolean","description":"Setting `fail-fast` to `false` prevents GitHub from canceling all in-progress jobs if any matrix job fails. Default: `true`"},"max-parallel":{"type":"number","description":"The maximum number of jobs that can run simultaneously when using a matrix job strategy. By default, GitHub will maximize the number of jobs run in parallel depending on runner availability."},"matrix":"matrix"}}},"matrix":{"description":"Use `matrix` to define a matrix of different job configurations. Within your matrix, define one or more variables followed by an array of values.","mapping":{"properties":{"include":{"type":"matrix-filter","description":"Use `include` to expand existing matrix configurations or to add new configurations. The value of `include` is a list of objects.\\n\\nFor each object in the `include` list, the key:value pairs in the object will be added to each of the matrix combinations if none of the key:value pairs overwrite any of the original matrix values. If the object cannot be added to any of the matrix combinations, a new matrix combination will be created instead. Note that the original matrix values will not be overwritten, but added matrix values can be overwritten."},"exclude":{"type":"matrix-filter","description":"To remove specific configurations defined in the matrix, use `exclude`. An excluded configuration only has to be a partial match for it to be excluded."}},"loose-key-type":"non-empty-string","loose-value-type":"sequence"}},"matrix-filter":{"sequence":{"item-type":"matrix-filter-item"}},"matrix-filter-item":{"mapping":{"loose-key-type":"non-empty-string","loose-value-type":"any"}},"snapshot":{"description":"Use `snapshot` to define a custom image you want to create or update after your job succeeds by taking a snapshot of your runner.","one-of":["non-empty-string","snapshot-mapping"]},"snapshot-mapping":{"mapping":{"properties":{"image-name":{"description":"The desired name of the custom image you want to create or update.","type":"non-empty-string","required":true},"if":"snapshot-if","version":{"description":"The desired major version updates upon a new custom image version creation.","type":"non-empty-string"}}}},"snapshot-if":{"context":["github","inputs","vars","needs","strategy","matrix"],"description":"Use the if conditional to prevent a snapshot from being taken unless a condition is met. Any supported context and expression can be used to create a conditional. Expressions in an `if` conditional do not require the bracketed expression syntax. When you use expressions in an `if` conditional, you may omit the expression syntax because GitHub automatically evaluates the `if` conditional as an expression.","string":{}},"runs-on":{"description":"Use `runs-on` to define the type of machine to run the job on.\\n* The destination machine can be either a GitHub-hosted runner, larger runner, or a self-hosted runner.\\n* You can target runners based on the labels assigned to them, or their group membership, or a combination of these.\\n* You can provide `runs-on` as a single string or as an array of strings.\\n* If you specify an array of strings, your workflow will execute on any runner that matches all of the specified `runs-on` values.\\n* If you would like to run your workflow on multiple machines, use `jobs.<job_id>.strategy`.","context":["github","inputs","vars","needs","strategy","matrix"],"one-of":["non-empty-string","sequence-of-non-empty-string","runs-on-mapping"]},"runs-on-mapping":{"mapping":{"properties":{"group":{"description":"The group from which to select a runner.","type":"non-empty-string"},"labels":"runs-on-labels"}}},"runs-on-labels":{"description":"The label by which to filter for available runners.","one-of":["non-empty-string","sequence-of-non-empty-string"]},"job-env":{"description":"A map of variables that are available to all steps in the job.","context":["github","inputs","vars","needs","strategy","matrix","secrets"],"mapping":{"loose-key-type":"non-empty-string","loose-value-type":"string"}},"workflow-concurrency":{"description":"Concurrency ensures that only a single job or workflow using the same concurrency group will run at a time. A concurrency group can be any string or expression.\\n\\nYou can also specify `concurrency` at the job level.\\n\\n[Documentation](https://docs.github.com/actions/using-workflows/workflow-syntax-for-github-actions#concurrency)","context":["github","inputs","vars"],"one-of":["string","concurrency-mapping"]},"job-concurrency":{"description":"Concurrency ensures that only a single job using the same concurrency group will run at a time. A concurrency group can be any string or expression. The expression can use any context except for the `secrets` context.\\n\\nYou can also specify `concurrency` at the workflow level.","context":["github","inputs","vars","needs","strategy","matrix"],"one-of":["non-empty-string","concurrency-mapping"]},"concurrency-mapping":{"description":"Concurrency ensures that only a single job or workflow using the same concurrency group will run at a time. A concurrency group can be any string or expression.\\n\\nYou can also specify `concurrency` at the job level.\\n\\n[Documentation](https://docs.github.com/actions/using-workflows/workflow-syntax-for-github-actions#concurrency)","mapping":{"properties":{"group":{"type":"non-empty-string","required":true,"description":"When a concurrent job or workflow is queued, if another job or workflow using the same concurrency group in the repository is in progress, the queued job or workflow will be `pending`. Any previously pending job or workflow in the concurrency group will be canceled. To also cancel any currently running job or workflow in the same concurrency group, specify `cancel-in-progress: true`."},"cancel-in-progress":{"type":"boolean","description":"To cancel any currently running job or workflow in the same concurrency group, specify cancel-in-progress: true."}}}},"job-environment":{"description":"The environment that the job references. All environment protection rules must pass before a job referencing the environment is sent to a runner.","context":["github","inputs","vars","needs","strategy","matrix"],"one-of":["string","job-environment-mapping"]},"job-environment-mapping":{"mapping":{"properties":{"name":{"type":"job-environment-name","required":true},"url":{"type":"string-runner-context-no-secrets","description":"The environment URL, which maps to `environment_url` in the deployments API."}}}},"job-environment-name":{"description":"The name of the environment used by the job.","context":["github","inputs","vars","needs","strategy","matrix"],"string":{}},"job-defaults":{"description":"A map of default settings that will apply to all steps in the job. You can also set default settings for the entire workflow.","mapping":{"properties":{"run":"job-defaults-run"}}},"job-defaults-run":{"context":["github","inputs","vars","strategy","matrix","needs","env"],"mapping":{"properties":{"shell":"shell","working-directory":"working-directory"}}},"job-outputs":{"description":"A map of outputs for a called workflow. Called workflow outputs are available to all downstream jobs in the caller workflow. Each output has an identifier, an optional `description,` and a `value`. The `value` must be set to the value of an output from a job within the called workflow.","mapping":{"loose-key-type":"non-empty-string","loose-value-type":"string-runner-context"}},"steps":{"description":"A job contains a sequence of tasks called `steps`. Steps can run commands, run setup tasks, or run an action in your repository, a public repository, or an action published in a Docker registry. Not all steps run actions, but all actions run as a step. Each step runs in its own process in the runner environment and has access to the workspace and filesystem. Because steps run in their own process, changes to environment variables are not preserved between steps. GitHub provides built-in steps to set up and complete a job. Must contain either `uses` or `run`.","sequence":{"item-type":"steps-item"}},"steps-item":{"one-of":["run-step","regular-step"]},"run-step":{"mapping":{"properties":{"name":"step-name","id":"step-id","if":"step-if","timeout-minutes":"step-timeout-minutes","run":{"type":"string-steps-context","description":"Runs command-line programs using the operating system\'s shell. If you do not provide a `name`, the step name will default to the text specified in the `run` command. Commands run using non-login shells by default. You can choose a different shell and customize the shell used to run commands. Each `run` keyword represents a new process and shell in the virtual environment. When you provide multi-line commands, each line runs in the same shell.","required":true},"continue-on-error":"step-continue-on-error","env":"step-env","working-directory":"string-steps-context","shell":"shell"}}},"regular-step":{"mapping":{"properties":{"name":"step-name","id":"step-id","if":"step-if","continue-on-error":"step-continue-on-error","timeout-minutes":"step-timeout-minutes","uses":{"type":"step-uses","required":true},"with":"step-with","env":"step-env"}}},"step-uses":{"description":"Selects an action to run as part of a step in your job. An action is a reusable unit of code. You can use an action defined in the same repository as the workflow, a public repository, or in a published Docker container image.","string":{"require-non-empty":true}},"step-continue-on-error":{"context":["github","inputs","vars","needs","strategy","matrix","secrets","steps","job","runner","env","hashFiles(1,255)"],"boolean":{},"description":"Prevents a job from failing when a step fails. Set to `true` to allow a job to pass when this step fails."},"step-id":{"string":{"require-non-empty":true},"description":"A unique identifier for the step. You can use the `id` to reference the step in contexts."},"step-if":{"context":["github","inputs","vars","needs","strategy","matrix","steps","job","runner","env","always(0,0)","failure(0,0)","cancelled(0,0)","success(0,0)","hashFiles(1,255)"],"description":"Use the `if` conditional to prevent a step from running unless a condition is met. Any supported context and expression can be used to create a conditional. Expressions in an `if` conditional do not require the bracketed expression syntax. When you use expressions in an `if` conditional, you may omit the expression syntax because GitHub automatically evaluates the `if` conditional as an expression.","string":{}},"step-if-result":{"context":["github","inputs","vars","strategy","matrix","steps","job","runner","env","always(0,0)","failure(0,0)","cancelled(0,0)","success(0,0)","hashFiles(1,255)"],"one-of":["null","boolean","number","string","sequence","mapping"]},"step-env":{"description":"Sets variables for steps to use in the runner environment. You can also set variables for the entire workflow or a job.","context":["github","inputs","vars","needs","strategy","matrix","secrets","steps","job","runner","env","hashFiles(1,255)"],"mapping":{"loose-key-type":"non-empty-string","loose-value-type":"string"}},"step-name":{"context":["github","inputs","vars","needs","strategy","matrix","secrets","steps","job","runner","env","hashFiles(1,255)"],"string":{},"description":"A name for your step to display on GitHub."},"step-timeout-minutes":{"context":["github","inputs","vars","needs","strategy","matrix","secrets","steps","job","runner","env","hashFiles(1,255)"],"number":{},"description":"The maximum number of minutes to run the step before killing the process."},"step-with":{"description":"A map of the input parameters defined by the action. Each input parameter is a key/value pair. Input parameters are set as variables. When you specify an input in a workflow file or use a default input value, GitHub creates a variable for the input with the name `INPUT_<VARIABLE_NAME>`. The variable created converts input names to uppercase letters and replaces spaces with `_`.","context":["github","inputs","vars","needs","strategy","matrix","secrets","steps","job","runner","env","hashFiles(1,255)"],"mapping":{"loose-key-type":"non-empty-string","loose-value-type":"string"}},"container":{"description":"A container to run any steps in a job that don\'t already specify a container. If you have steps that use both script and container actions, the container actions will run as sibling containers on the same network with the same volume mounts.\\n\\nIf you do not set a container, all steps will run directly on the host specified by runs-on unless a step refers to an action configured to run in a container.","context":["github","inputs","vars","needs","strategy","matrix"],"one-of":["string","container-mapping"]},"container-mapping":{"mapping":{"properties":{"image":{"type":"non-empty-string","description":"Use `jobs.<job_id>.container.image` to define the Docker image to use as the container to run the action. The value can be the Docker Hub image or a registry name."},"options":{"type":"string","description":"Use `jobs.<job_id>.container.options` to configure additional Docker container resource options."},"env":"container-env","ports":{"type":"sequence-of-non-empty-string","description":"Use `jobs.<job_id>.container.ports` to set an array of ports to expose on the container."},"volumes":{"type":"sequence-of-non-empty-string","description":"Use `jobs.<job_id>.container.volumes` to set an array of volumes for the container to use. You can use volumes to share data between services or other steps in a job. You can specify named Docker volumes, anonymous Docker volumes, or bind mounts on the host."},"credentials":"container-registry-credentials"}}},"services":{"description":"Additional containers to host services for a job in a workflow. These are useful for creating databases or cache services like redis. The runner on the virtual machine will automatically create a network and manage the life cycle of the service containers. When you use a service container for a job or your step uses container actions, you don\'t need to set port information to access the service. Docker automatically exposes all ports between containers on the same network. When both the job and the action run in a container, you can directly reference the container by its hostname. The hostname is automatically mapped to the service name. When a step does not use a container action, you must access the service using localhost and bind the ports.","context":["github","inputs","vars","needs","strategy","matrix"],"mapping":{"loose-key-type":"non-empty-string","loose-value-type":"services-container"}},"services-container":{"context":["github","inputs","vars","needs","strategy","matrix"],"one-of":["non-empty-string","container-mapping"]},"container-registry-credentials":{"description":"If the image\'s container registry requires authentication to pull the image, you can use `jobs.<job_id>.container.credentials` to set a map of the username and password. The credentials are the same values that you would provide to the `docker login` command.","context":["github","inputs","vars","secrets","env"],"mapping":{"properties":{"username":"non-empty-string","password":"non-empty-string"}}},"container-env":{"description":"Use `jobs.<job_id>.container.env` to set a map of variables in the container.","mapping":{"loose-key-type":"non-empty-string","loose-value-type":"string-runner-context"}},"non-empty-string":{"string":{"require-non-empty":true}},"sequence-of-non-empty-string":{"sequence":{"item-type":"non-empty-string"}},"sequence-of-string":{"sequence":{"item-type":"string"}},"boolean-needs-context":{"context":["github","inputs","vars","needs"],"boolean":{}},"number-needs-context":{"context":["github","inputs","vars","needs"],"number":{}},"string-needs-context":{"context":["github","inputs","vars","needs"],"string":{}},"scalar-needs-context":{"context":["github","inputs","vars","needs","strategy","matrix"],"one-of":["string","boolean","number"]},"scalar-needs-context-with-secrets":{"context":["github","inputs","vars","needs","secrets","strategy","matrix"],"one-of":["string","boolean","number"]},"boolean-strategy-context":{"context":["github","inputs","vars","needs","strategy","matrix"],"boolean":{}},"number-strategy-context":{"context":["github","inputs","vars","needs","strategy","matrix"],"number":{}},"string-strategy-context":{"context":["github","inputs","vars","needs","strategy","matrix"],"string":{}},"boolean-steps-context":{"context":["github","inputs","vars","needs","strategy","matrix","secrets","steps","job","runner","env","hashFiles(1,255)"],"boolean":{}},"number-steps-context":{"context":["github","inputs","vars","needs","strategy","matrix","secrets","steps","job","runner","env","hashFiles(1,255)"],"number":{}},"string-runner-context":{"context":["github","inputs","vars","needs","strategy","matrix","secrets","steps","job","runner","env"],"string":{}},"string-runner-context-no-secrets":{"context":["github","inputs","vars","needs","strategy","matrix","steps","job","runner","env"],"string":{}},"string-steps-context":{"context":["github","inputs","vars","needs","strategy","matrix","secrets","steps","job","runner","env","hashFiles(1,255)"],"string":{}},"shell":{"string":{"require-non-empty":true},"description":"Use `shell` to override the default shell settings in the runner\'s operating system. You can use built-in shell keywords, or you can define a custom set of shell options. The shell command that is run internally executes a temporary file that contains the commands specified in `run`."},"working-directory":{"string":{"require-non-empty":true},"description":"The `working-directory` keyword specifies the working directory where the command is run."},"cron-mapping":{"mapping":{"properties":{"cron":"cron-pattern"}}},"cron-pattern":{"string":{"require-non-empty":true}}}}');let zh;class qh{constructor(e,t){this.lineCounter=new cf,this.errors=[],this.doc=bf(t,{lineCounter:this.lineCounter,keepSourceTokens:!0,uniqueKeys:!1});for(const e of this.doc.errors)this.errors.push({message:e.message,range:Bh(e.linePos)});this._generator=this.getNodes(this.doc,new Set),this.fileId=e}*getNodes(e,t){let n=this.getRange(e);if(Hl(e)){yield new Sh(Eh.DocumentStart);for(const t of this.getNodes(e.contents,new Set))yield t;yield new Sh(Eh.DocumentEnd)}if(Gl(e)){Yl(e)?yield new Sh(Eh.SequenceStart,new Ap(this.fileId,n,void 0)):Kl(e)&&(yield new Sh(Eh.MappingStart,new Ip(this.fileId,n,void 0)));for(const n of e.items)for(const e of this.getNodes(n,t))yield e;Yl(e)?yield new Sh(Eh.SequenceEnd):Kl(e)&&(yield new Sh(Eh.MappingEnd))}if(Xl(e)&&(yield new Sh(Eh.Literal,qh.getLiteralToken(this.fileId,n,e))),Ul(e)){const n=e.resolve(this.doc);if(n){if(t.has(n))return;const e=new Set(t);e.add(n),yield*this.getNodes(n,e)}return}if(Wl(e)){const r=e.key;n=this.getRange(r);const o=r.value;yield new Sh(Eh.Literal,new Cp(this.fileId,n,o,void 0));for(const n of this.getNodes(e.value,t))yield n}}getRange(e){const t=e?.range??[],n=t[0],r=t[1];if(void 0!==n&&void 0!==r){const e=this.lineCounter.linePos(n),t=this.lineCounter.linePos(r);return{start:{line:e.line,column:e.col},end:{line:t.line,column:t.col}}}}static getLiteralToken(e,t,n){const r=n.value;if(null==r)return new Tp(e,t,void 0);switch(typeof r){case"number":return new jp(e,t,r,void 0);case"boolean":return new Op(e,t,r,void 0);case"string":{let o,s;if(n.srcToken&&"source"in n.srcToken&&(o=n.srcToken.source,"block-scalar"===n.srcToken.type&&"props"in n.srcToken)){const e=n.srcToken.props.find(e=>"block-scalar-header"===e.type);e?.source&&(s=e.source)}return new Cp(e,t,r,void 0,o,s)}default:throw new Error(`Unexpected value type '${typeof r}' when reading object`)}}allowLiteral(){if(!this._current.done){const e=this._current.value;if(e.type===Eh.Literal)return this._current=this._generator.next(),e.token}}allowSequenceStart(){if(!this._current.done){const e=this._current.value;if(e.type===Eh.SequenceStart)return this._current=this._generator.next(),e.token}}allowSequenceEnd(){return!this._current.done&&this._current.value.type===Eh.SequenceEnd&&(this._current=this._generator.next(),!0)}allowMappingStart(){if(!this._current.done){const e=this._current.value;if(e.type===Eh.MappingStart)return this._current=this._generator.next(),e.token}}allowMappingEnd(){return!this._current.done&&this._current.value.type===Eh.MappingEnd&&(this._current=this._generator.next(),!0)}validateEnd(){if(this._current.done||this._current.value.type!==Eh.DocumentEnd)throw new Error("Expected end of reader");this._current=this._generator.next()}validateStart(){if(this._current||(this._current=this._generator.next()),this._current.done||this._current.value.type!==Eh.DocumentStart)throw new Error("Expected start of reader");this._current=this._generator.next()}}function Bh(e){if(void 0===e)return;const t={line:e[0].line,column:e[0].col};return{start:t,end:2==e.length?{line:e[1].line,column:e[1].col}:t}}var Fh,Vh;n(997),function(e){e.string="string",e.choice="choice",e.boolean="boolean",e.environment="environment"}(Fh=Fh||(Fh={})),function(e){e[e.ReturnErrorsOnly=0]="ReturnErrorsOnly",e[e.TryConversion=1]="TryConversion"}(Vh=Vh||(Vh={})),Vh.ReturnErrorsOnly;const Uh=new _h;function Hh(e,t="workflow.yml"){try{return function(e,t){const n=t instanceof Af?t:new Af(new If,function(){if(void 0===zh){const e=JSON.stringify(Rh);zh=$h.load(new Nh(void 0,e))}return zh}(),t),r=n.getFileId(e.name),o=new qh(r,e.content);if(o.errors.length>0){for(const e of o.errors)n.error(r,e.message,e.range);return{context:n,value:void 0}}return{context:n,value:xh(n,"workflow-root-strict",o,r)}}({name:t,content:e},Uh).context.errors.getErrors().map(e=>({message:e.message,path:e.prefix||void 0,severity:"error"}))}catch(e){return[{message:`Validation failed: ${e instanceof Error?e.message:String(e)}`,severity:"error"}]}}function Kh({initialYaml:e,onClose:t,onSave:n}){const[s,i]=(0,o.useState)(e),[a,l]=(0,o.useState)(null),[c,u]=(0,o.useState)([]),d=(0,o.useRef)(null);return(0,o.useEffect)(()=>{i(e),l(null),u([])},[e]),(0,o.useEffect)(()=>{d.current?.focus()},[]),(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 dark:bg-black/70 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"source-dialog-title",onClick:e=>{e.target===e.currentTarget&&t()},children:(0,r.jsxs)("div",{className:"flex h-[85vh] w-full max-w-4xl flex-col rounded-lg bg-white dark:bg-slate-800 shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 dark:border-slate-700 px-4 py-3",children:[(0,r.jsx)("h2",{id:"source-dialog-title",className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Workflow source (YAML)"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"rounded p-1 text-slate-400 dark:text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"Close",children:(0,r.jsx)("span",{className:"text-xl leading-none",children:""})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-100 dark:border-slate-700 px-4 py-2",children:[(0,r.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Edit the YAML below. The flow diagram updates only when you click Save."}),(0,r.jsx)("button",{type:"button",onClick:()=>{l(null);const{errors:e}=Sf(s);if(e.length>0&&(e[0].includes("YAML parse error")||e[0].includes("Invalid workflow")))return l(e[0]),void u([]);const t=Hh(s);u(t)},className:"rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-2 py-1 text-xs text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:"Check syntax"})]}),(0,r.jsx)("div",{className:"flex-1 overflow-hidden flex flex-col min-h-0",children:(0,r.jsx)("textarea",{ref:d,value:s,onChange:e=>i(e.target.value),className:"flex-1 w-full resize-none rounded-none border-0 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 p-4 font-mono text-sm text-slate-800 dark:text-slate-200 focus:ring-0",spellCheck:!1,"aria-label":"Workflow YAML content"})}),(a||c.length>0)&&(0,r.jsxs)("div",{role:"alert",className:"border-t border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-900/30 px-4 py-2 text-sm text-amber-800 dark:text-amber-200 max-h-40 overflow-y-auto",children:[a&&(0,r.jsx)("div",{className:"mb-2 font-medium",children:a}),c.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-1 font-medium",children:[c.length," lint error",1!==c.length?"s":"",":"]}),(0,r.jsx)("ul",{className:"ml-4 list-disc space-y-0.5 text-xs",children:c.map((e,t)=>(0,r.jsx)("li",{children:(0,r.jsxs)("span",{className:"error"===e.severity?"font-medium":"",children:[e.path&&(0,r.jsxs)("code",{className:"text-xs",children:[e.path,":"]})," ",e.message]})},t))})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 border-t border-slate-200 dark:border-slate-700 px-4 py-3",children:[(0,r.jsx)("button",{type:"button",onClick:t,className:"rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-3 py-1.5 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:"Cancel"}),(0,r.jsx)("button",{type:"button",onClick:()=>{l(null);const{workflow:e,errors:r}=Sf(s);if(r.length>0&&(r[0].includes("YAML parse error")||r[0].includes("Invalid workflow")))return void l(r[0]);const o=Hh(s);u(o),n(e,r),t()},className:"rounded bg-slate-800 dark:bg-slate-700 px-3 py-1.5 text-sm text-white dark:text-slate-200 hover:bg-slate-700 dark:hover:bg-slate-600",children:"Save changes"})]})]})})}function Wh(e,t,n){if(null==e||"object"!=typeof e||Array.isArray(e))return{name:`Step ${n+1}`,run:""};const r=e;return{id:"string"==typeof r.id?r.id:void 0,name:"string"==typeof r.name?r.name:void 0,uses:"string"==typeof r.uses?r.uses:void 0,run:"string"==typeof r.run?r.run:void 0,with:"object"!=typeof r.with||null===r.with||Array.isArray(r.with)?void 0:r.with,env:"object"!=typeof r.env||null===r.env||Array.isArray(r.env)?void 0:r.env,shell:"string"==typeof r.shell?r.shell:void 0,...r}}function Xh(e){const t={...e};void 0!==e.name&&(t.name=e.name),void 0!==e["run-name"]&&(t["run-name"]=e["run-name"]),t.on=e.on,e.env&&Object.keys(e.env).length>0&&(t.env=e.env);const n={};for(const[t,r]of Object.entries(e.jobs)){const{steps:e,strategy:o,...s}=r,i={...s,"runs-on":r["runs-on"],steps:e.map(e=>Yh(e))};if(o){const e={};o.matrix&&Object.keys(o.matrix).length>0&&(e.matrix=o.matrix),void 0!==o["fail-fast"]&&(e["fail-fast"]=o["fail-fast"]),void 0!==o["max-parallel"]&&(e["max-parallel"]=o["max-parallel"]),Object.keys(e).length>0&&(i.strategy=e)}n[t]=i}return t.jobs=n,kf.stringify(t,{indent:2,lineWidth:0,collectionStyle:"block",defaultStringType:"PLAIN"})}function Yh(e){const{id:t,name:n,uses:r,run:o,with:s,env:i,shell:a,...l}=e,c={...l};return void 0!==t&&(c.id=t),void 0!==n&&(c.name=n),void 0!==r&&(c.uses=r),void 0!==o&&(c.run=o),s&&Object.keys(s).length>0&&(c.with=s),i&&Object.keys(i).length>0&&(c.env=i),void 0!==a&&(c.shell=a),c}function Gh(){return window.vscode}function Zh(e){if(!e)return[];if("string"==typeof e)return[{event:e,config:{}}];if(Array.isArray(e))return e.flatMap(e=>"string"==typeof e?[{event:e,config:{}}]:"object"==typeof e&&null!==e?Object.entries(e).map(([e,t])=>({event:e,config:t??{}})):[]);if("object"==typeof e&&null!==e){const t=[];for(const[n,r]of Object.entries(e))if("schedule"===n&&Array.isArray(r))for(const e of r)"object"==typeof e&&null!==e&&"cron"in e?t.push({event:n,config:{cron:e.cron}}):t.push({event:n,config:{}});else t.push({event:n,config:r??{}});return t}return[]}new Set(["branch_protection_rule","check_run","check_suite","discussion","discussion_comment","issue_comment","issues","label","merge_group","milestone","pull_request","pull_request_review","pull_request_review_comment","pull_request_target","registry_package","release","repository_dispatch","watch","workflow_run"]);const Qh={job:Sl,trigger:Il,addJob:vl},Jh={name:"Sample",on:{push:{branches:["main"]}},jobs:{build:{"runs-on":"ubuntu-latest",steps:[{run:"echo build"}]},test:{needs:"build","runs-on":"ubuntu-latest",steps:[{run:"echo test"}]}}};function em(){const[,e]=(0,o.useState)("dark"),[t,n]=(0,o.useState)(null),[s,i]=(0,o.useState)(null),a=(0,o.useRef)([]);(0,o.useEffect)(()=>{const t=t=>{const n=t.detail.theme;e(n);const r=document.documentElement;"dark"===n?r.classList.add("dark"):r.classList.remove("dark")};window.addEventListener("vscode-themeChanged",t);const n=Gh();return n&&n.postMessage?n.postMessage({command:"getTheme"}):console.error("VSCode API not available"),()=>{window.removeEventListener("vscode-themeChanged",t)}},[]),(0,o.useEffect)(()=>{const e=e=>{const{content:t}=e.detail,{workflow:r,errors:o}=function(e){const{workflow:t,errors:n}=function(e){const t=[];let n;try{n=kf.parse(e,{strict:!1})}catch(e){return{workflow:{name:"",on:{},jobs:{}},errors:[`YAML parse error: ${e instanceof Error?e.message:String(e)}`]}}if(null==n||"object"!=typeof n)return{workflow:{name:"",on:{},jobs:{}},errors:["Invalid workflow: root must be an object"]};const r=n;"jobs"in r&&null!=r.jobs&&"object"==typeof r.jobs||t.push('Workflow must have a "jobs" object');const o=r.jobs??{},s={...r,name:"string"==typeof r.name?r.name:void 0,"run-name":"string"==typeof r["run-name"]?r["run-name"]:void 0,on:r.on??{},env:"object"!=typeof r.env||null===r.env||Array.isArray(r.env)?void 0:r.env,jobs:{}};for(const[e,n]of Object.entries(o)){if(null==n||"object"!=typeof n||Array.isArray(n)){t.push(`Job "${e}" must be an object`);continue}const r=n,o=Array.isArray(r.steps)?r.steps:[];let i;if(r.strategy&&"object"==typeof r.strategy&&null!==r.strategy&&!Array.isArray(r.strategy)){const e=r.strategy,t="object"!=typeof e.matrix||null===e.matrix||Array.isArray(e.matrix)?void 0:e.matrix,n="boolean"==typeof e["fail-fast"]?e["fail-fast"]:void 0,o="number"==typeof e["max-parallel"]?e["max-parallel"]:void 0;(t||void 0!==n||void 0!==o)&&(i={matrix:t,"fail-fast":n,"max-parallel":o})}s.jobs[e]={...r,name:"string"==typeof r.name?r.name:void 0,"runs-on":"string"==typeof r["runs-on"]||Array.isArray(r["runs-on"])?r["runs-on"]:"ubuntu-latest",needs:r.needs,permissions:"object"!=typeof r.permissions||null===r.permissions||Array.isArray(r.permissions)?void 0:r.permissions,env:"object"!=typeof r.env||null===r.env||Array.isArray(r.env)?void 0:r.env,strategy:i,steps:o.map((e,t)=>Wh(e,0,t))}}return{workflow:s,errors:t}}(e);return{workflow:t,errors:n}}(t);a.current=[],x(!1),S.current=!0,n(r),m(o),s&&r.jobs[s]||i(null),setTimeout(()=>{S.current=!1},100)};return window.addEventListener("vscode-loadFile",e),()=>{window.removeEventListener("vscode-loadFile",e)}},[s]);const l=(0,o.useCallback)(e=>{if(!e)return;const t=a.current;t.push(JSON.parse(JSON.stringify(e))),t.length>50&&t.shift()},[]),c=(0,o.useCallback)(()=>{const e=a.current;if(0===e.length)return;const t=e.pop();t&&(S.current=!0,n(t),i(null),d(!1),setTimeout(()=>{S.current=!1},100))},[]),[u,d]=(0,o.useState)(!1),[f,p]=(0,o.useState)(!1),[h,m]=(0,o.useState)([]),[g,y]=(0,o.useState)([]),[v,b]=(0,o.useState)(!1),[w,x]=(0,o.useState)(!1),k=(0,o.useRef)(null),S=(0,o.useRef)(!1),E=t??{name:"",on:{},jobs:{}},{nodes:N,edges:_}=function(e){const t=Object.keys(e.jobs),n=Zh(e.on),r=[],o=[];if(0===n.length){const e={id:"__trigger__0",type:"trigger",position:{x:0,y:0},data:{triggers:[]}};r.push(e)}else n.forEach((e,t)=>{const n={id:`__trigger__${t}`,type:"trigger",position:{x:0,y:160*t},data:{triggers:[e]}};r.push(n)});if(0===t.length)return{nodes:r,edges:o};const s=new Map;for(const n of t){const t=e.jobs[n],r=t.needs?Array.isArray(t.needs)?t.needs:[t.needs]:[];s.set(n,r);for(const e of r)o.push({id:`${e}-${n}`,source:e,target:n})}const i=[],a=new Set;let l=[...t];for(;l.length>0;){const e=[];for(const t of l)(s.get(t)??[]).every(e=>a.has(e))&&e.push(t);0===e.length&&e.push(l[0]);for(const t of e)a.add(t);i.push(e),l=l.filter(e=>!a.has(e))}const c=i[0]?.length??0,u=160*r.filter(e=>e.id.startsWith("__trigger__")).length-60,d=c>0?Math.max(0,140*(c-1)/2-u/2):0;r.forEach(e=>{if(e.id.startsWith("__trigger__")){const t=parseInt(e.id.replace("__trigger__",""),10);Number.isNaN(t)||(e.position.y=d+160*t)}});for(let t=0;t<i.length;t++){const n=i[t],o=320+280*t;for(let t=0;t<n.length;t++){const s=n[t],i=e.jobs[s],a=140*t,l=Array.isArray(i["runs-on"])?i["runs-on"].join(", "):String(i["runs-on"]??""),c=i.steps?.length??0,u=!!i.strategy?.matrix&&Object.keys(i.strategy.matrix).length>0;let d;u&&i.strategy?.matrix&&(d=Object.values(i.strategy.matrix).reduce((e,t)=>e*(Array.isArray(t)?t.length:1),1)),r.push({id:s,type:"job",position:{x:o,y:a},data:{jobId:s,label:i.name??s,runsOn:l,stepCount:c,hasMatrix:u,matrixCombinations:d}})}}if(i.length>0){const e=r.filter(e=>e.id.startsWith("__trigger__")).map(e=>e.id);for(const t of e)for(const e of i[0])o.push({id:`${t}-${e}`,source:t,target:e})}const f=i[i.length-1];if(f&&f.length>0){const e=320+280*(i.length-1)+200+80,t=f.length,n={id:"__add_job__",type:"addJob",position:{x:e,y:(t>0?140*(t-1)/2+40:40)-20},data:{needs:f}};r.push(n);for(const e of f)o.push({id:`${e}-__add_job__`,source:e,target:"__add_job__"})}return{nodes:r,edges:o}}(E);(0,o.useEffect)(()=>{if(t){const e=Hh(Xh(t));y(e)}else y([])},[t]);const C=(0,o.useCallback)(e=>{if(!t?.jobs[e])return;const r=`Are you sure you want to delete the job "${t.jobs[e].name||e}"? This cannot be undone.`;if(!window.confirm(r))return;l(t);const o={...t.jobs};delete o[e];for(const t of Object.keys(o)){const n=o[t];if(n.needs){const r=Array.isArray(n.needs)?n.needs:[n.needs],s=r.filter(t=>t!==e);s.length!==r.length&&(o[t]={...n,needs:0===s.length?void 0:1===s.length?s[0]:s})}}S.current=!0,n({...t,jobs:o}),i(null),setTimeout(()=>{S.current=!1},100)},[t,l]),j=(0,o.useMemo)(()=>N.map(e=>{const t="__add_job__"!==e.id&&(e.id.startsWith("__trigger__")?u:s===e.id);return"job"===e.type&&e.data&&e.data,{...e,selected:t}}),[N,s,u]);(0,o.useEffect)(()=>{s&&t&&!t.jobs[s]&&i(null)},[t,s]);const O=(0,o.useCallback)(({nodes:e})=>{if(S.current)return;if(e.find(e=>"__add_job__"===e.id))return i(null),void d(!1);const t=e.find(e=>"trigger"===e.type),n=e.find(e=>"job"===e.type);if(t)d(!0),i(null);else if(n){const e=n.data.jobId;i(e),d(!1)}else 0===e.length&&(i(null),d(!1))},[]),T=(0,o.useCallback)(()=>{if(!t)return;const e=t.name?.replace(/\s+/g,"-").toLowerCase()||"workflow";!function(e,t="workflow.yml"){const n=Xh(e),r=Gh();r&&r.postMessage?r.postMessage({command:"saveFile",content:n,filename:t}):console.error("VSCode API not available for saving file")}(t,`${e}.yml`)},[t]),M=(0,o.useCallback)(e=>{let t=1,n=`job-${t}`;for(;e.includes(n);)t++,n=`job-${t}`;return n},[]),A=(0,o.useCallback)(()=>{if(!t){const e={name:"Untitled Workflow",on:{push:{branches:["main"]}},jobs:{}};return S.current=!0,n(e),d(!0),i(null),void setTimeout(()=>{S.current=!1},100)}l(t);const e=function(e){if(0===e.length)return{};const t=e.filter(e=>"schedule"===e.event),n=e.filter(e=>"schedule"!==e.event),r={};if(t.length>0&&(r.schedule=t.map(e=>({cron:e.config.cron||"0 0 * * *"}))),1===n.length){const e=n[0];0===Object.keys(e.config).length?r[e.event]={}:r[e.event]=e.config}else if(n.length>1){const e=n.map(e=>0===Object.keys(e.config).length?e.event:{[e.event]:e.config});return t.length>0?[...e,{schedule:t.map(e=>({cron:e.config.cron||"0 0 * * *"}))}]:e}if(t.length>0&&0===n.length)return r;if(1===n.length&&0===t.length){const e=n[0];return 0===Object.keys(e.config).length?e.event:{[e.event]:e.config}}return r}([...Zh(t.on),{event:"push",config:{}}]);S.current=!0,n({...t,on:e}),d(!0),i(null),setTimeout(()=>{S.current=!1},100)},[t,l]),I=(0,o.useCallback)(e=>{if(!t){const e={name:"Untitled Workflow",on:{push:{branches:["main"]}},jobs:{}},t=M([]);return e.jobs[t]={"runs-on":"ubuntu-latest",steps:[{run:'echo "Hello, World!"'}]},n(e),void i(t)}l(t);const r=0===Zh(t.on).length?{push:{branches:["main"]}}:t.on,o=Object.keys(t.jobs),s=M(o),a={"runs-on":"ubuntu-latest",steps:[{run:'echo "Hello, World!"'}]};e&&e.length>0&&(a.needs=1===e.length?e[0]:e),S.current=!0,n({...t,on:r,jobs:{...t.jobs,[s]:a}}),i(s),setTimeout(()=>{S.current=!1},100)},[t,M,l]),P=(0,o.useCallback)((e,t)=>{if("__add_job__"===t.id){const e=t.data;e?.needs?.length&&I(e.needs)}},[I]),L=j.some(e=>"job"===e.type),D=t&&t.on&&("string"==typeof t.on||Array.isArray(t.on)&&t.on.length>0||"object"==typeof t.on&&Object.keys(t.on).length>0),$=L||D,R=(0,o.useCallback)(e=>{if(!v)return"Escape"===e.key?(d(!1),void i(null)):(e.metaKey||e.ctrlKey)&&"z"===e.key?(e.preventDefault(),void c()):void((e.metaKey||e.ctrlKey)&&"s"===e.key&&(e.preventDefault(),t&&L&&T()));"Escape"===e.key&&b(!1)},[v,t,L,T,c]);(0,o.useEffect)(()=>(window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)),[R]),(0,o.useEffect)(()=>{w&&k.current&&(k.current.focus(),k.current.select())},[w]);const z=(0,o.useCallback)(e=>{t&&(l(t),S.current=!0,n({...t,name:e||void 0}),setTimeout(()=>{S.current=!1},100))},[t,l]),q=(0,o.useCallback)(e=>{"Enter"===e.key?(e.currentTarget.blur(),x(!1)):"Escape"===e.key&&x(!1)},[]);return(0,o.useEffect)(()=>{const e=()=>{t&&L&&T()};return window.addEventListener("vscode-saveRequest",e),()=>window.removeEventListener("vscode-saveRequest",e)},[t,L,T]),(0,o.useEffect)(()=>(window.addEventListener("vscode-undoRequest",c),()=>window.removeEventListener("vscode-undoRequest",c)),[c]),(0,r.jsxs)("div",{className:"h-full w-full flex flex-col bg-slate-100 dark:bg-slate-900 pr-4 box-border max-w-full overflow-x-hidden",children:[v&&t&&(0,r.jsx)(Kh,{initialYaml:Xh(t),onClose:()=>b(!1),onSave:(e,r)=>{l(t),x(!1),S.current=!0,n(e),m(r),setTimeout(()=>{S.current=!1},100)}}),(0,r.jsxs)("header",{className:"flex flex-wrap items-center gap-2 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-2 py-1 shadow-sm text-xs",children:[(0,r.jsx)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:t?w?(0,r.jsx)("input",{ref:k,type:"text",value:t.name||"",onChange:e=>z(e.target.value),onBlur:()=>x(!1),onKeyDown:q,className:"text-xs font-semibold text-slate-800 dark:text-slate-200 bg-transparent border-b-2 border-slate-400 dark:border-slate-600 focus:border-slate-600 dark:focus:border-slate-400 focus:outline-none px-1 -mx-1 min-w-0 flex-1 max-w-md",placeholder:"Untitled Workflow"}):(0,r.jsx)("h1",{className:"text-xs font-semibold text-slate-800 dark:text-slate-200 cursor-text hover:text-slate-600 dark:hover:text-slate-300 transition-colors min-w-0 flex-1",onClick:()=>x(!0),title:"Click to edit workflow name",children:t.name||"Untitled Workflow"}):(0,r.jsx)("h1",{className:"text-xs font-semibold text-slate-400 dark:text-slate-500",children:"No workflow loaded"})}),(0,r.jsx)("div",{className:"text-[11px] text-slate-400 dark:text-slate-500 font-medium",children:"Workflow Editor"}),(0,r.jsx)("div",{className:"h-5 w-px bg-slate-200 dark:bg-slate-700","aria-hidden":!0}),(0,r.jsxs)("div",{className:"flex items-center gap-2",role:"group","aria-label":"File",children:[(0,r.jsx)("button",{type:"button",onClick:T,disabled:!t||!L,className:"rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 p-1.5 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50",title:"Save","aria-label":"Save",children:(0,r.jsx)(dl,{className:"w-4 h-4"})}),(0,r.jsx)("button",{type:"button",onClick:()=>b(!0),disabled:!t,className:"rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 p-1.5 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50",title:"View source","aria-label":"View source",children:(0,r.jsx)(ll,{className:"w-4 h-4"})}),(0,r.jsx)("button",{type:"button",onClick:()=>{t&&l(t),x(!1),n(t?null:Jh)},className:"rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 p-1.5 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",title:t?"Clear":"Load sample","aria-label":t?"Clear":"Load sample",children:t?(0,r.jsx)(pl,{className:"w-4 h-4"}):(0,r.jsx)(ul,{className:"w-4 h-4"})})]}),(0,r.jsx)("div",{className:"h-5 w-px bg-slate-200","aria-hidden":!0}),(0,r.jsxs)("div",{className:"flex items-center gap-2",role:"group","aria-label":"Editor",children:[(0,r.jsx)("button",{type:"button",onClick:A,className:"rounded border border-purple-300 dark:border-purple-600 bg-purple-50 dark:bg-purple-900/30 px-1.5 py-0.5 text-xs font-medium text-purple-700 dark:text-purple-300 hover:bg-purple-100 dark:hover:bg-purple-900/50",children:"+ Add Trigger"}),(0,r.jsx)("button",{type:"button",onClick:()=>I(),className:"rounded border border-blue-300 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/30 px-1.5 py-0.5 text-xs font-medium text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/50",children:"+ Add Job"})]}),(0,r.jsx)("div",{className:"ml-auto flex items-center gap-2",children:(0,r.jsx)("button",{type:"button",onClick:()=>p(!0),disabled:!t,className:"rounded p-1.5 disabled:opacity-50 "+(f?"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"),title:"Edit workflow name, run name, and environment variables","aria-label":"Workflow config",children:(0,r.jsx)(cl,{className:"w-4 h-4"})})})]}),(h.length>0||g.length>0)&&(0,r.jsxs)("div",{role:"alert",className:"flex flex-col gap-2 border-b border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-900/30 px-3 py-1.5 text-xs text-amber-800 dark:text-amber-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{children:"Validation:"})," ",h.length>0&&`${h.length} parse error${1!==h.length?"s":""}`,h.length>0&&g.length>0&&"  ",g.length>0&&`${g.length} lint error${1!==g.length?"s":""}`]}),(0,r.jsx)("button",{type:"button",onClick:()=>{m([]),y([])},className:"shrink-0 rounded p-1 hover:bg-amber-100 dark:hover:bg-amber-800/50","aria-label":"Dismiss errors",children:""})]}),h.length>0&&(0,r.jsxs)("div",{className:"text-xs",children:[(0,r.jsx)("strong",{children:"Parse errors:"})," ",h.join("  ")]}),g.length>0&&(0,r.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,r.jsx)("strong",{children:"Lint errors:"}),(0,r.jsx)("ul",{className:"ml-4 list-disc space-y-0.5",children:g.map((e,t)=>(0,r.jsx)("li",{children:(0,r.jsxs)("span",{className:"error"===e.severity?"font-medium":"",children:[e.path&&(0,r.jsxs)("code",{className:"text-xs",children:[e.path,":"]})," ",e.message]})},t))})]})]}),(0,r.jsxs)("main",{className:"flex-1 overflow-hidden flex",role:"main","aria-label":"Workflow diagram",children:[(0,r.jsx)("div",{className:"flex-1 relative",children:$?(0,r.jsxs)(_a,{nodes:j,edges:_,onSelectionChange:O,onNodeClick:P,nodeTypes:Qh,fitView:!0,fitViewOptions:{maxZoom:.85},className:"bg-slate-50 dark:bg-slate-900",children:[(0,r.jsx)(Aa,{}),(0,r.jsx)(Ba,{}),(0,r.jsx)(Ga,{})]},t?`flow-on-${JSON.stringify(t.on)}`:"flow"):(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-900 gap-4",children:[(0,r.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"No jobs in workflow."}),(0,r.jsx)("button",{type:"button",onClick:()=>I(),className:"rounded border border-blue-300 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/30 px-4 py-2 text-sm font-medium text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/50",children:"+ Add Your First Job"})]})}),f&&t&&(0,r.jsx)(Dl,{workflow:t,onWorkflowChange:e=>{l(t),S.current=!0,n(e),setTimeout(()=>{S.current=!1},100)},onClose:()=>p(!1)}),u&&t&&!f&&(0,r.jsx)(Ll,{workflow:t,onWorkflowChange:e=>{l(t),S.current=!0,n(e),setTimeout(()=>{S.current=!1},100)},onClose:()=>d(!1)}),s&&t&&!u&&!f&&(0,r.jsx)(jl,{workflow:t,jobId:s,onWorkflowChange:e=>{l(t),S.current=!0,n(e),setTimeout(()=>{S.current=!1},100)},onClose:()=>i(null),onDeleteJob:C})]})]})}const tm=function(){return(0,r.jsx)(ka,{children:(0,r.jsx)(em,{})})},nm=Gh();window.addEventListener("message",e=>{const t=e.data;switch(t.command){case"loadFile":window.dispatchEvent(new CustomEvent("vscode-loadFile",{detail:{content:t.content,filename:t.filename}}));break;case"themeChanged":window.dispatchEvent(new CustomEvent("vscode-themeChanged",{detail:{theme:t.theme}}));break;case"saveRequest":window.dispatchEvent(new CustomEvent("vscode-saveRequest"));break;case"undoRequest":window.dispatchEvent(new CustomEvent("vscode-undoRequest"))}}),nm&&nm.postMessage?nm.postMessage({command:"ready"}):console.error("VSCode API not available");const rm=document.getElementById("root");if(rm)try{(0,s.H)(rm).render((0,r.jsx)(o.StrictMode,{children:(0,r.jsx)(tm,{})}))}catch(e){console.error("Failed to render React app:",e)}else console.error("Root element not found")})()})();
//# sourceMappingURL=main.js.map